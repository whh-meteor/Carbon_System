(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d55bd42"],{"0302":function(t,e,r){},"0e69":function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var i=r("dd32"),n=r("6573"),o=r("f623"),a={POINT:"point",LINE:"line"},s=r("e98d"),c=r("ddea"),u=r("1300"),h=r("0af5");function l(t,e,r,i,n){var o,a,s,c,u,h,l,p,f,d,g=r,_=r,y=0,v=0,m=r;for(a=r;a<i;a+=n){var b=e[a],O=e[a+1];void 0!==u&&(f=b-u,d=O-h,c=Math.sqrt(f*f+d*d),void 0!==l&&(v+=s,o=Math.acos((l*f+p*d)/(s*c)),o>t&&(v>y&&(y=v,g=m,_=a),v=0,m=a-n)),s=c,l=f,p=d),u=b,h=O}return v+=c,v>y?[m,a]:[g,_]}var p=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),f={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},d=function(t){function e(e,r,i,n){var o=t.call(this,e,r,i,n)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return p(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var r=this.textFillState_,i=this.textStrokeState_,s=this.textState_;if(""!==this.text_&&s&&(r||i)){var u=this.coordinates,p=u.length,f=t.getType(),d=null,g=t.getStride();if(s.placement!==a.LINE||f!=o["a"].LINE_STRING&&f!=o["a"].MULTI_LINE_STRING&&f!=o["a"].POLYGON&&f!=o["a"].MULTI_POLYGON){var _=s.overflow?null:[];switch(f){case o["a"].POINT:case o["a"].MULTI_POINT:d=t.getFlatCoordinates();break;case o["a"].LINE_STRING:d=t.getFlatMidpoint();break;case o["a"].CIRCLE:d=t.getCenter();break;case o["a"].MULTI_LINE_STRING:d=t.getFlatMidpoints(),g=2;break;case o["a"].POLYGON:d=t.getFlatInteriorPoint(),s.overflow||_.push(d[2]/this.resolution),g=3;break;case o["a"].MULTI_POLYGON:var y=t.getFlatInteriorPoints();d=[];for(L=0,C=y.length;L<C;L+=3)s.overflow||_.push(y[L+2]/this.resolution),d.push(y[L],y[L+1]);if(0===d.length)return;g=2;break;default:}F=this.appendFlatPointCoordinates(d,g);if(F===p)return;this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var v=s.padding;if(v!=c["k"]&&(s.scale[0]<0||s.scale[1]<0)){var m=s.padding[0],b=s.padding[1],O=s.padding[2],E=s.padding[3];s.scale[0]<0&&(b=-b,E=-E),s.scale[1]<0&&(m=-m,O=-O),v=[m,b,O,E]}var w=this.pixelRatio;this.instructions.push([n["c"].DRAW_IMAGE,p,F,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,v==c["k"]?c["k"]:v.map((function(t){return t*w})),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,_]);var S=1/w;this.hitDetectionInstructions.push([n["c"].DRAW_IMAGE,p,F,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[S,S],NaN,this.declutterImageWithText_,v,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,_]),this.endGeometry(e)}else{if(!Object(h["F"])(this.getBufferedMaxExtent(),t.getExtent()))return;var R=void 0;if(d=t.getFlatCoordinates(),f==o["a"].LINE_STRING)R=[d.length];else if(f==o["a"].MULTI_LINE_STRING)R=t.getEnds();else if(f==o["a"].POLYGON)R=t.getEnds().slice(0,1);else if(f==o["a"].MULTI_POLYGON){var T=t.getEndss();R=[];for(var L=0,C=T.length;L<C;++L)R.push(T[L][0])}this.beginGeometry(t,e);for(var I=s.textAlign,x=0,P=void 0,N=0,A=R.length;N<A;++N){if(void 0==I){var M=l(s.maxAngle,d,x,R[N],g);x=M[0],P=M[1]}else P=R[N];for(var L=x;L<P;L+=g)u.push(d[L],d[L+1]);var F=u.length;x=R[N],this.drawChars_(p,F),p=F}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,r=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var n=this.textKey_;n in this.textStates||(this.textStates[n]={font:e.font,textAlign:e.textAlign||c["m"],textBaseline:e.textBaseline||c["n"],scale:e.scale});var o=this.fillKey_;r&&(o in this.fillStates||(this.fillStates[o]={fillStyle:r.fillStyle}))},e.prototype.drawChars_=function(t,e){var r=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var c=this.pixelRatio,u=f[i.textBaseline],h=this.textOffsetY_*c,l=this.text_,p=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([n["c"].DRAW_CHARS,t,e,u,i.overflow,s,i.maxAngle,c,h,o,p*c,l,a,1]),this.hitDetectionInstructions.push([n["c"].DRAW_CHARS,t,e,u,i.overflow,s,i.maxAngle,1,h,o,p,l,a,1/c])},e.prototype.setTextStyle=function(t,e){var r,i,n;if(t){var o=t.getFill();o?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=Object(s["a"])(o.getColor()||c["c"])):(i=null,this.textFillState_=i);var a=t.getStroke();if(a){n=this.textStrokeState_,n||(n={},this.textStrokeState_=n);var h=a.getLineDash(),l=a.getLineDashOffset(),p=a.getWidth(),f=a.getMiterLimit();n.lineCap=a.getLineCap()||c["e"],n.lineDash=h?h.slice():c["f"],n.lineDashOffset=void 0===l?c["g"]:l,n.lineJoin=a.getLineJoin()||c["h"],n.lineWidth=void 0===p?c["i"]:p,n.miterLimit=void 0===f?c["j"]:f,n.strokeStyle=Object(s["a"])(a.getColor()||c["l"])}else n=null,this.textStrokeState_=n;r=this.textState_;var d=t.getFont()||c["d"];Object(c["s"])(d);var g=t.getScaleArray();r.overflow=t.getOverflow(),r.font=d,r.maxAngle=t.getMaxAngle(),r.placement=t.getPlacement(),r.textAlign=t.getTextAlign(),r.textBaseline=t.getTextBaseline()||c["n"],r.backgroundFill=t.getBackgroundFill(),r.backgroundStroke=t.getBackgroundStroke(),r.padding=t.getPadding()||c["k"],r.scale=void 0===g?[1,1]:g;var _=t.getOffsetX(),y=t.getOffsetY(),v=t.getRotateWithView(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===_?0:_,this.textOffsetY_=void 0===y?0:y,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===m?0:m,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:Object(u["c"])(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+Object(u["c"])(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(i["a"]);e["b"]=d},"1ecb":function(t,e,r){"use strict";e["a"]={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},"1f1f":function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{ref:"rootmap",style:t.mapStyle,attrs:{id:"map"}},[r("div",{staticClass:"swipebox"})])])},n=[],o=(r("5bc0"),r("5eee")),a=r("a2c7"),s=r("ce7f"),c=r("834d"),u=r("3e6b"),h=r("5831"),l=r("6c77"),p=r("8682"),f=r("83a6"),d=r("a2e1"),g=r("ac29"),_=r("4cdf"),y=r("521b"),v=r("7a09"),m=r("049d"),b=r("47e4"),O=r("9a44"),E=r("88da"),w=r("f403"),S=r("5bc3"),R=r("b7df"),T=r("1ecb"),L=r("1300"),C=r("9f5e"),I="http://www.w3.org/2001/XMLSchema-instance";function x(t,e){return q().createElementNS(t,e)}function P(t,e){return N(t,e,[]).join("")}function N(t,e,r){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?r.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(t.nodeValue);else{var i=void 0;for(i=t.firstChild;i;i=i.nextSibling)N(i,e,r)}return r}function A(t){return"documentElement"in t}function M(t,e,r){return t.getAttributeNS(e,r)||""}function F(t){return(new DOMParser).parseFromString(t,"application/xml")}function j(t,e){return function(r,i){var n=t.call(void 0!==e?e:this,r,i);if(void 0!==n){var o=i[i.length-1];o.push(n)}}}function D(t,e){return function(r,i){var n=t.call(void 0!==e?e:this,r,i);void 0!==n&&(i[i.length-1]=n)}}function G(t,e,r){return function(i,n){var o=t.call(void 0!==r?r:this,i,n);if(void 0!==o){var a=n[n.length-1],s=void 0!==e?e:i.localName;a[s]=o}}}function k(t,e){return function(r,i,n){t.call(void 0!==e?e:this,r,i,n);var o=n[n.length-1],a=o.node;a.appendChild(r)}}function U(t,e){var r=t;return function(t,i,n){var o=i[i.length-1],a=o.node,s=r;void 0===s&&(s=n);var c=void 0!==e?e:a.namespaceURI;return x(c,s)}}var B=U();function Y(t,e,r,i){var n;for(n=e.firstElementChild;n;n=n.nextElementSibling){var o=t[n.namespaceURI];if(void 0!==o){var a=o[n.localName];void 0!==a&&a.call(i,n,r)}}}function X(t,e,r,i,n){return i.push(t),Y(e,r,i,n),i.pop()}function W(t,e,r,i,n,o){for(var a,s,c=(void 0!==n?n:r).length,u=0;u<c;++u)a=r[u],void 0!==a&&(s=e.call(void 0!==o?o:this,a,i,void 0!==n?n[u]:void 0),void 0!==s&&t[s.namespaceURI][s.localName].call(o,s,a,i))}function z(t,e,r,i,n,o,a){return n.push(t),W(e,r,i,n,o,a),n.pop()}var V=void 0;function H(){return void 0===V&&"undefined"!==typeof XMLSerializer&&(V=new XMLSerializer),V}var Z=void 0;function q(){return void 0===Z&&"undefined"!==typeof document&&(Z=document.implementation.createDocument("","",null)),Z}var J=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),K=function(t){function e(){var e=t.call(this)||this;return e.xmlSerializer_=H(),e}return J(e,t),e.prototype.getType=function(){return T["a"].XML},e.prototype.readFeature=function(t,e){if(t){if("string"===typeof t){var r=F(t);return this.readFeatureFromDocument(r,e)}return A(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}return null},e.prototype.readFeatureFromDocument=function(t,e){var r=this.readFeaturesFromDocument(t,e);return r.length>0?r[0]:null},e.prototype.readFeatureFromNode=function(t,e){return null},e.prototype.readFeatures=function(t,e){if(t){if("string"===typeof t){var r=F(t);return this.readFeaturesFromDocument(r,e)}return A(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}return[]},e.prototype.readFeaturesFromDocument=function(t,e){for(var r=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&Object(C["c"])(r,this.readFeaturesFromNode(i,e));return r},e.prototype.readFeaturesFromNode=function(t,e){return Object(L["b"])()},e.prototype.readGeometry=function(t,e){if(t){if("string"===typeof t){var r=F(t);return this.readGeometryFromDocument(r,e)}return A(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}return null},e.prototype.readGeometryFromDocument=function(t,e){return null},e.prototype.readGeometryFromNode=function(t,e){return null},e.prototype.readProjection=function(t){if(t){if("string"===typeof t){var e=F(t);return this.readProjectionFromDocument(e)}return A(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}return null},e.prototype.readProjectionFromDocument=function(t){return this.dataProjection},e.prototype.readProjectionFromNode=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){var r=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeatureNode=function(t,e){return null},e.prototype.writeFeatures=function(t,e){var r=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeFeaturesNode=function(t,e){return null},e.prototype.writeGeometry=function(t,e){var r=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(r)},e.prototype.writeGeometryNode=function(t,e){return null},e}(R["a"]),$=K,Q=r("38f3"),tt=r("256f"),et=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),rt="http://www.opengis.net/gml",it=/^[\s\xa0]*$/,nt=function(t){function e(e){var r=t.call(this)||this,i=e||{};return r.featureType=i.featureType,r.featureNS=i.featureNS,r.srsName=i.srsName,r.schemaLocation="",r.FEATURE_COLLECTION_PARSERS={},r.FEATURE_COLLECTION_PARSERS[r.namespace]={featureMember:j(r.readFeaturesInternal),featureMembers:D(r.readFeaturesInternal)},r}return et(e,t),e.prototype.readFeaturesInternal=function(t,e){var r=t.localName,i=null;if("FeatureCollection"==r)i=X([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if("featureMembers"==r||"featureMember"==r||"member"==r){var n=e[0],o=n["featureType"],a=n["featureNS"],s="p",c="p0";if(!o&&t.childNodes){o=[],a={};for(var u=0,h=t.childNodes.length;u<h;++u){var l=t.childNodes[u];if(1===l.nodeType){var p=l.nodeName.split(":").pop();if(-1===o.indexOf(p)){var f="",d=0,g=l.namespaceURI;for(var _ in a){if(a[_]===g){f=_;break}++d}f||(f=s+d,a[f]=g),o.push(f+":"+p)}}}"featureMember"!=r&&(n["featureType"]=o,n["featureNS"]=a)}if("string"===typeof a){var y=a;a={},a[c]=y}var v={},m=Array.isArray(o)?o:[o];for(var b in a){var O={};for(u=0,h=m.length;u<h;++u){var E=-1===m[u].indexOf(":")?c:m[u].split(":")[0];E===b&&(O[m[u].split(":").pop()]="featureMembers"==r?j(this.readFeatureElement,this):D(this.readFeatureElement,this))}v[a[b]]=O}i=X("featureMember"==r||"member"==r?void 0:[],v,t,e)}return null===i&&(i=[]),i},e.prototype.readGeometryElement=function(t,e){var r=e[0];r["srsName"]=t.firstElementChild.getAttribute("srsName"),r["srsDimension"]=t.firstElementChild.getAttribute("srsDimension");var i=X(null,this.GEOMETRY_PARSERS,t,e,this);return i?Array.isArray(i)?Object(R["b"])(i,r):Object(R["c"])(i,!1,r):void 0},e.prototype.readFeatureElementInternal=function(t,e,r){for(var i,n={},o=t.firstElementChild;o;o=o.nextElementSibling){var a=void 0,s=o.localName;0===o.childNodes.length||1===o.childNodes.length&&(3===o.firstChild.nodeType||4===o.firstChild.nodeType)?(a=P(o,!1),it.test(a)&&(a=void 0)):(r&&(a=this.readGeometryElement(o,e)),a?"boundedBy"!==s&&(i=s):a=this.readFeatureElementInternal(o,e,!1)),n[s]?(n[s]instanceof Array||(n[s]=[n[s]]),n[s].push(a)):n[s]=a;var c=o.attributes.length;if(c>0){n[s]={_content_:n[s]};for(var u=0;u<c;u++){var h=o.attributes[u].name;n[s][h]=o.attributes[u].value}}}if(r){var l=new _["a"](n);i&&l.setGeometryName(i);var p=t.getAttribute("fid")||M(t,this.namespace,"id");return p&&l.setId(p),l}return n},e.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},e.prototype.readPoint=function(t,e){var r=this.readFlatCoordinatesFromNode(t,e);if(r)return new w["a"](r,y["a"].XYZ)},e.prototype.readMultiPoint=function(t,e){var r=X([],this.MULTIPOINT_PARSERS,t,e,this);return r?new O["a"](r):void 0},e.prototype.readMultiLineString=function(t,e){var r=X([],this.MULTILINESTRING_PARSERS,t,e,this);if(r)return new b["a"](r)},e.prototype.readMultiPolygon=function(t,e){var r=X([],this.MULTIPOLYGON_PARSERS,t,e,this);if(r)return new E["a"](r)},e.prototype.pointMemberParser=function(t,e){Y(this.POINTMEMBER_PARSERS,t,e,this)},e.prototype.lineStringMemberParser=function(t,e){Y(this.LINESTRINGMEMBER_PARSERS,t,e,this)},e.prototype.polygonMemberParser=function(t,e){Y(this.POLYGONMEMBER_PARSERS,t,e,this)},e.prototype.readLineString=function(t,e){var r=this.readFlatCoordinatesFromNode(t,e);if(r){var i=new v["a"](r,y["a"].XYZ);return i}},e.prototype.readFlatLinearRing=function(t,e){var r=X(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);return r||void 0},e.prototype.readLinearRing=function(t,e){var r=this.readFlatCoordinatesFromNode(t,e);if(r)return new m["a"](r,y["a"].XYZ)},e.prototype.readPolygon=function(t,e){var r=X([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(r&&r[0]){var i=r[0],n=[i.length],o=void 0,a=void 0;for(o=1,a=r.length;o<a;++o)Object(C["c"])(i,r[o]),n.push(i.length);return new S["a"](i,y["a"].XYZ,n)}},e.prototype.readFlatCoordinatesFromNode=function(t,e){return X(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.readGeometryFromNode=function(t,e){var r=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return r||null},e.prototype.readFeaturesFromNode=function(t,e){var r={featureType:this.featureType,featureNS:this.featureNS};e&&Object(Q["a"])(r,this.getReadOptions(t,e));var i=this.readFeaturesInternal(t,[r]);return i||[]},e.prototype.readProjectionFromNode=function(t){return Object(tt["f"])(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},e}($);nt.prototype.namespace=rt,nt.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},nt.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},nt.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},nt.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:j(nt.prototype.pointMemberParser),pointMembers:j(nt.prototype.pointMemberParser)}},nt.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:j(nt.prototype.lineStringMemberParser),lineStringMembers:j(nt.prototype.lineStringMemberParser)}},nt.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:j(nt.prototype.polygonMemberParser),polygonMembers:j(nt.prototype.polygonMemberParser)}},nt.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:j(nt.prototype.readFlatCoordinatesFromNode)}},nt.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:j(nt.prototype.readLineString)}},nt.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:j(nt.prototype.readPolygon)}},nt.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:D(nt.prototype.readFlatLinearRing)}};var ot=nt,at=r("0af5");r("b0c1");function st(t){var e=P(t,!1);return ct(e)}function ct(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function ut(t,e){t.appendChild(q().createTextNode(e))}var ht=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),lt=rt+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",pt={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},ft=function(t){function e(e){var r=this,i=e||{};return r=t.call(this,i)||this,r.FEATURE_COLLECTION_PARSERS[rt]["featureMember"]=j(r.readFeaturesInternal),r.schemaLocation=i.schemaLocation?i.schemaLocation:lt,r}return ht(e,t),e.prototype.readFlatCoordinates=function(t,e){var r=P(t,!1).replace(/^\s*|\s*$/g,""),i=e[0],n=i["srsName"],o="enu";if(n){var a=Object(tt["f"])(n);a&&(o=a.getAxisOrientation())}for(var s=r.trim().split(/\s+/),c=[],u=0,h=s.length;u<h;u++){var l=s[u].split(/,+/),p=parseFloat(l[0]),f=parseFloat(l[1]),d=3===l.length?parseFloat(l[2]):0;"en"===o.substr(0,2)?c.push(p,f,d):c.push(f,p,d)}return c},e.prototype.readBox=function(t,e){var r=X([null],this.BOX_PARSERS_,t,e,this);return Object(at["k"])(r[1][0],r[1][1],r[1][3],r[1][4])},e.prototype.innerBoundaryIsParser=function(t,e){var r=X(void 0,this.RING_PARSERS,t,e,this);if(r){var i=e[e.length-1];i.push(r)}},e.prototype.outerBoundaryIsParser=function(t,e){var r=X(void 0,this.RING_PARSERS,t,e,this);if(r){var i=e[e.length-1];i[0]=r}},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,r){var i,n=e[e.length-1],o=n["multiSurface"],a=n["surface"],s=n["multiCurve"];return Array.isArray(t)?i="Envelope":(i=t.getType(),"MultiPolygon"===i&&!0===o?i="MultiSurface":"Polygon"===i&&!0===a?i="Surface":"MultiLineString"===i&&!0===s&&(i="MultiCurve")),x("http://www.opengis.net/gml",i)},e.prototype.writeFeatureElement=function(t,e,r){var i=e.getId();i&&t.setAttribute("fid",i);var n=r[r.length-1],o=n["featureNS"],a=e.getGeometryName();n.serializers||(n.serializers={},n.serializers[o]={});var s=[],c=[];if(e.hasProperties()){var u=e.getProperties();for(var h in u){var l=u[h];null!==l&&(s.push(h),c.push(l),h==a||"function"===typeof l.getSimplifiedGeometry?h in n.serializers[o]||(n.serializers[o][h]=k(this.writeGeometryElement,this)):h in n.serializers[o]||(n.serializers[o][h]=k(ut)))}}var p=Object(Q["a"])({},n);p.node=t,z(p,n.serializers,U(void 0,o),c,r,s)},e.prototype.writeCurveOrLineString=function(t,e,r){var i=r[r.length-1],n=i["srsName"];if("LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var o=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(o),this.writeCoordinates_(o,e,r)}else if("Curve"===t.nodeName){var a=x(t.namespaceURI,"segments");t.appendChild(a),this.writeCurveSegments_(a,e,r)}},e.prototype.writeLineStringOrCurveMember=function(t,e,r){var i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeCurveOrLineString(i,e,r))},e.prototype.writeMultiCurveOrLineString=function(t,e,r){var i=r[r.length-1],n=i["hasZ"],o=i["srsName"],a=i["curve"];o&&t.setAttribute("srsName",o);var s=e.getLineStrings();z({node:t,hasZ:n,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeGeometryElement=function(t,e,r){var i,n=r[r.length-1],o=Object(Q["a"])({},n);o["node"]=t,i=Array.isArray(e)?Object(R["b"])(e,n):Object(R["c"])(e,!0,n),z(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[i],r,void 0,this)},e.prototype.createCoordinatesNode_=function(t){var e=x(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},e.prototype.writeCoordinates_=function(t,e,r){for(var i=r[r.length-1],n=i["hasZ"],o=i["srsName"],a=e.getCoordinates(),s=a.length,c=new Array(s),u=0;u<s;++u){var h=a[u];c[u]=this.getCoords_(h,o,n)}ut(t,c.join(" "))},e.prototype.writeCurveSegments_=function(t,e,r){var i=x(t.namespaceURI,"LineStringSegment");t.appendChild(i),this.writeCurveOrLineString(i,e,r)},e.prototype.writeSurfaceOrPolygon=function(t,e,r){var i=r[r.length-1],n=i["hasZ"],o=i["srsName"];if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();z({node:t,hasZ:n,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===t.nodeName){var s=x(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,r)}},e.prototype.RING_NODE_FACTORY_=function(t,e,r){var i=e[e.length-1],n=i.node,o=i["exteriorWritten"];return void 0===o&&(i["exteriorWritten"]=!0),x(n.namespaceURI,void 0!==o?"innerBoundaryIs":"outerBoundaryIs")},e.prototype.writeSurfacePatches_=function(t,e,r){var i=x(t.namespaceURI,"PolygonPatch");t.appendChild(i),this.writeSurfaceOrPolygon(i,e,r)},e.prototype.writeRing=function(t,e,r){var i=x(t.namespaceURI,"LinearRing");t.appendChild(i),this.writeLinearRing(i,e,r)},e.prototype.getCoords_=function(t,e,r){var i="enu";e&&(i=Object(tt["f"])(e).getAxisOrientation());var n="en"===i.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0];if(r){var o=t[2]||0;n+=","+o}return n},e.prototype.writePoint=function(t,e,r){var i=r[r.length-1],n=i["hasZ"],o=i["srsName"];o&&t.setAttribute("srsName",o);var a=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(a);var s=e.getCoordinates(),c=this.getCoords_(s,o,n);ut(a,c)},e.prototype.writeMultiPoint=function(t,e,r){var i=r[r.length-1],n=i["hasZ"],o=i["srsName"];o&&t.setAttribute("srsName",o);var a=e.getPoints();z({node:t,hasZ:n,srsName:o},this.POINTMEMBER_SERIALIZERS,U("pointMember"),a,r,void 0,this)},e.prototype.writePointMember=function(t,e,r){var i=x(t.namespaceURI,"Point");t.appendChild(i),this.writePoint(i,e,r)},e.prototype.writeLinearRing=function(t,e,r){var i=r[r.length-1],n=i["srsName"];n&&t.setAttribute("srsName",n);var o=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(o),this.writeCoordinates_(o,e,r)},e.prototype.writeMultiSurfaceOrPolygon=function(t,e,r){var i=r[r.length-1],n=i["hasZ"],o=i["srsName"],a=i["surface"];o&&t.setAttribute("srsName",o);var s=e.getPolygons();z({node:t,hasZ:n,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeSurfaceOrPolygonMember=function(t,e,r){var i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeSurfaceOrPolygon(i,e,r))},e.prototype.writeEnvelope=function(t,e,r){var i=r[r.length-1],n=i["srsName"];n&&t.setAttribute("srsName",n);var o=["lowerCorner","upperCorner"],a=[e[0]+" "+e[1],e[2]+" "+e[3]];z({node:t},this.ENVELOPE_SERIALIZERS,B,a,r,o,this)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,r){var i=e[e.length-1].node;return x("http://www.opengis.net/gml",pt[i.nodeName])},e}(ot);ft.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:D(ft.prototype.readFlatCoordinates)}},ft.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:ft.prototype.innerBoundaryIsParser,outerBoundaryIs:ft.prototype.outerBoundaryIsParser}},ft.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:j(ft.prototype.readFlatCoordinates)}},ft.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:D(ot.prototype.readPoint),MultiPoint:D(ot.prototype.readMultiPoint),LineString:D(ot.prototype.readLineString),MultiLineString:D(ot.prototype.readMultiLineString),LinearRing:D(ot.prototype.readLinearRing),Polygon:D(ot.prototype.readPolygon),MultiPolygon:D(ot.prototype.readMultiPolygon),Box:D(ft.prototype.readBox)}},ft.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:k(ft.prototype.writeCurveOrLineString),MultiCurve:k(ft.prototype.writeMultiCurveOrLineString),Point:k(ft.prototype.writePoint),MultiPoint:k(ft.prototype.writeMultiPoint),LineString:k(ft.prototype.writeCurveOrLineString),MultiLineString:k(ft.prototype.writeMultiCurveOrLineString),LinearRing:k(ft.prototype.writeLinearRing),Polygon:k(ft.prototype.writeSurfaceOrPolygon),MultiPolygon:k(ft.prototype.writeMultiSurfaceOrPolygon),Surface:k(ft.prototype.writeSurfaceOrPolygon),MultiSurface:k(ft.prototype.writeMultiSurfaceOrPolygon),Envelope:k(ft.prototype.writeEnvelope)}},ft.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:k(ft.prototype.writeLineStringOrCurveMember),curveMember:k(ft.prototype.writeLineStringOrCurveMember)}},ft.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:k(ft.prototype.writeRing),innerBoundaryIs:k(ft.prototype.writeRing)}},ft.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:k(ft.prototype.writePointMember)}},ft.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:k(ft.prototype.writeSurfaceOrPolygonMember),polygonMember:k(ft.prototype.writeSurfaceOrPolygonMember)}},ft.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:k(ut),upperCorner:k(ut)}};var dt=ft,gt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),_t=rt+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",yt={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},vt=function(t){function e(e){var r=this,i=e||{};return r=t.call(this,i)||this,r.surface_=void 0!==i.surface&&i.surface,r.curve_=void 0!==i.curve&&i.curve,r.multiCurve_=void 0===i.multiCurve||i.multiCurve,r.multiSurface_=void 0===i.multiSurface||i.multiSurface,r.schemaLocation=i.schemaLocation?i.schemaLocation:_t,r.hasZ=void 0!==i.hasZ&&i.hasZ,r}return gt(e,t),e.prototype.readMultiCurve=function(t,e){var r=X([],this.MULTICURVE_PARSERS,t,e,this);if(r){var i=new b["a"](r);return i}},e.prototype.readMultiSurface=function(t,e){var r=X([],this.MULTISURFACE_PARSERS,t,e,this);if(r)return new E["a"](r)},e.prototype.curveMemberParser=function(t,e){Y(this.CURVEMEMBER_PARSERS,t,e,this)},e.prototype.surfaceMemberParser=function(t,e){Y(this.SURFACEMEMBER_PARSERS,t,e,this)},e.prototype.readPatch=function(t,e){return X([null],this.PATCHES_PARSERS,t,e,this)},e.prototype.readSegment=function(t,e){return X([null],this.SEGMENTS_PARSERS,t,e,this)},e.prototype.readPolygonPatch=function(t,e){return X([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},e.prototype.readLineStringSegment=function(t,e){return X([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.interiorParser=function(t,e){var r=X(void 0,this.RING_PARSERS,t,e,this);if(r){var i=e[e.length-1];i.push(r)}},e.prototype.exteriorParser=function(t,e){var r=X(void 0,this.RING_PARSERS,t,e,this);if(r){var i=e[e.length-1];i[0]=r}},e.prototype.readSurface=function(t,e){var r=X([null],this.SURFACE_PARSERS,t,e,this);if(r&&r[0]){var i=r[0],n=[i.length],o=void 0,a=void 0;for(o=1,a=r.length;o<a;++o)Object(C["c"])(i,r[o]),n.push(i.length);return new S["a"](i,y["a"].XYZ,n)}},e.prototype.readCurve=function(t,e){var r=X([null],this.CURVE_PARSERS,t,e,this);if(r){var i=new v["a"](r,y["a"].XYZ);return i}},e.prototype.readEnvelope=function(t,e){var r=X([null],this.ENVELOPE_PARSERS,t,e,this);return Object(at["k"])(r[1][0],r[1][1],r[2][0],r[2][1])},e.prototype.readFlatPos=function(t,e){var r,i=P(t,!1),n=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];while(r=n.exec(i))o.push(parseFloat(r[1])),i=i.substr(r[0].length);if(""===i){var a=e[0],s=a["srsName"],c="enu";if(s){var u=Object(tt["f"])(s);c=u.getAxisOrientation()}if("neu"===c){var h=void 0,l=void 0;for(h=0,l=o.length;h<l;h+=3){var p=o[h],f=o[h+1];o[h]=f,o[h+1]=p}}var d=o.length;if(2==d&&o.push(0),0!==d)return o}},e.prototype.readFlatPosList=function(t,e){var r=P(t,!1).replace(/^\s*|\s*$/g,""),i=e[0],n=i["srsName"],o=i["srsDimension"],a="enu";if(n){var s=Object(tt["f"])(n);a=s.getAxisOrientation()}var c,u,h,l=r.split(/\s+/),p=2;t.getAttribute("srsDimension")?p=ct(t.getAttribute("srsDimension")):t.getAttribute("dimension")?p=ct(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?p=ct(t.parentNode.getAttribute("srsDimension")):o&&(p=ct(o));for(var f=[],d=0,g=l.length;d<g;d+=p)c=parseFloat(l[d]),u=parseFloat(l[d+1]),h=3===p?parseFloat(l[d+2]):0,"en"===a.substr(0,2)?f.push(c,u,h):f.push(u,c,h);return f},e.prototype.writePos_=function(t,e,r){var i=r[r.length-1],n=i["hasZ"],o=n?"3":"2";t.setAttribute("srsDimension",o);var a=i["srsName"],s="enu";a&&(s=Object(tt["f"])(a).getAxisOrientation());var c,u=e.getCoordinates();if(c="en"===s.substr(0,2)?u[0]+" "+u[1]:u[1]+" "+u[0],n){var h=u[2]||0;c+=" "+h}ut(t,c)},e.prototype.getCoords_=function(t,e,r){var i="enu";e&&(i=Object(tt["f"])(e).getAxisOrientation());var n="en"===i.substr(0,2)?t[0]+" "+t[1]:t[1]+" "+t[0];if(r){var o=t[2]||0;n+=" "+o}return n},e.prototype.writePosList_=function(t,e,r){var i=r[r.length-1],n=i["hasZ"],o=n?"3":"2";t.setAttribute("srsDimension",o);for(var a,s=i["srsName"],c=e.getCoordinates(),u=c.length,h=new Array(u),l=0;l<u;++l)a=c[l],h[l]=this.getCoords_(a,s,n);ut(t,h.join(" "))},e.prototype.writePoint=function(t,e,r){var i=r[r.length-1],n=i["srsName"];n&&t.setAttribute("srsName",n);var o=x(t.namespaceURI,"pos");t.appendChild(o),this.writePos_(o,e,r)},e.prototype.writeEnvelope=function(t,e,r){var i=r[r.length-1],n=i["srsName"];n&&t.setAttribute("srsName",n);var o=["lowerCorner","upperCorner"],a=[e[0]+" "+e[1],e[2]+" "+e[3]];z({node:t},this.ENVELOPE_SERIALIZERS,B,a,r,o,this)},e.prototype.writeLinearRing=function(t,e,r){var i=r[r.length-1],n=i["srsName"];n&&t.setAttribute("srsName",n);var o=x(t.namespaceURI,"posList");t.appendChild(o),this.writePosList_(o,e,r)},e.prototype.RING_NODE_FACTORY_=function(t,e,r){var i=e[e.length-1],n=i.node,o=i["exteriorWritten"];return void 0===o&&(i["exteriorWritten"]=!0),x(n.namespaceURI,void 0!==o?"interior":"exterior")},e.prototype.writeSurfaceOrPolygon=function(t,e,r){var i=r[r.length-1],n=i["hasZ"],o=i["srsName"];if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();z({node:t,hasZ:n,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===t.nodeName){var s=x(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,r)}},e.prototype.writeCurveOrLineString=function(t,e,r){var i=r[r.length-1],n=i["srsName"];if("LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var o=x(t.namespaceURI,"posList");t.appendChild(o),this.writePosList_(o,e,r)}else if("Curve"===t.nodeName){var a=x(t.namespaceURI,"segments");t.appendChild(a),this.writeCurveSegments_(a,e,r)}},e.prototype.writeMultiSurfaceOrPolygon=function(t,e,r){var i=r[r.length-1],n=i["hasZ"],o=i["srsName"],a=i["surface"];o&&t.setAttribute("srsName",o);var s=e.getPolygons();z({node:t,hasZ:n,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeMultiPoint=function(t,e,r){var i=r[r.length-1],n=i["srsName"],o=i["hasZ"];n&&t.setAttribute("srsName",n);var a=e.getPoints();z({node:t,hasZ:o,srsName:n},this.POINTMEMBER_SERIALIZERS,U("pointMember"),a,r,void 0,this)},e.prototype.writeMultiCurveOrLineString=function(t,e,r){var i=r[r.length-1],n=i["hasZ"],o=i["srsName"],a=i["curve"];o&&t.setAttribute("srsName",o);var s=e.getLineStrings();z({node:t,hasZ:n,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},e.prototype.writeRing=function(t,e,r){var i=x(t.namespaceURI,"LinearRing");t.appendChild(i),this.writeLinearRing(i,e,r)},e.prototype.writeSurfaceOrPolygonMember=function(t,e,r){var i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeSurfaceOrPolygon(i,e,r))},e.prototype.writePointMember=function(t,e,r){var i=x(t.namespaceURI,"Point");t.appendChild(i),this.writePoint(i,e,r)},e.prototype.writeLineStringOrCurveMember=function(t,e,r){var i=this.GEOMETRY_NODE_FACTORY_(e,r);i&&(t.appendChild(i),this.writeCurveOrLineString(i,e,r))},e.prototype.writeSurfacePatches_=function(t,e,r){var i=x(t.namespaceURI,"PolygonPatch");t.appendChild(i),this.writeSurfaceOrPolygon(i,e,r)},e.prototype.writeCurveSegments_=function(t,e,r){var i=x(t.namespaceURI,"LineStringSegment");t.appendChild(i),this.writeCurveOrLineString(i,e,r)},e.prototype.writeGeometryElement=function(t,e,r){var i,n=r[r.length-1],o=Object(Q["a"])({},n);o["node"]=t,i=Array.isArray(e)?Object(R["b"])(e,n):Object(R["c"])(e,!0,n),z(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[i],r,void 0,this)},e.prototype.writeFeatureElement=function(t,e,r){var i=e.getId();i&&t.setAttribute("fid",i);var n=r[r.length-1],o=n["featureNS"],a=e.getGeometryName();n.serializers||(n.serializers={},n.serializers[o]={});var s=[],c=[];if(e.hasProperties()){var u=e.getProperties();for(var h in u){var l=u[h];null!==l&&(s.push(h),c.push(l),h==a||"function"===typeof l.getSimplifiedGeometry?h in n.serializers[o]||(n.serializers[o][h]=k(this.writeGeometryElement,this)):h in n.serializers[o]||(n.serializers[o][h]=k(ut)))}}var p=Object(Q["a"])({},n);p.node=t,z(p,n.serializers,U(void 0,o),c,r,s)},e.prototype.writeFeatureMembers_=function(t,e,r){var i=r[r.length-1],n=i["featureType"],o=i["featureNS"],a={};a[o]={},a[o][n]=k(this.writeFeatureElement,this);var s=Object(Q["a"])({},i);s.node=t,z(s,a,U(n,o),e,r)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,r){var i=e[e.length-1].node;return x(this.namespace,yt[i.nodeName])},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,r){var i,n=e[e.length-1],o=n["multiSurface"],a=n["surface"],s=n["curve"],c=n["multiCurve"];return Array.isArray(t)?i="Envelope":(i=t.getType(),"MultiPolygon"===i&&!0===o?i="MultiSurface":"Polygon"===i&&!0===a?i="Surface":"LineString"===i&&!0===s?i="Curve":"MultiLineString"===i&&!0===c&&(i="MultiCurve")),x(this.namespace,i)},e.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var r=x(this.namespace,"geom"),i={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object(Q["a"])(i,e),this.writeGeometryElement(r,t,[i]),r},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var r=x(this.namespace,"featureMembers");r.setAttributeNS(I,"xsi:schemaLocation",this.schemaLocation);var i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object(Q["a"])(i,e),this.writeFeatureMembers_(r,t,[i]),r},e}(ot);vt.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:D(vt.prototype.readFlatPos),posList:D(vt.prototype.readFlatPosList),coordinates:D(dt.prototype.readFlatCoordinates)}},vt.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:vt.prototype.interiorParser,exterior:vt.prototype.exteriorParser}},vt.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:D(ot.prototype.readPoint),MultiPoint:D(ot.prototype.readMultiPoint),LineString:D(ot.prototype.readLineString),MultiLineString:D(ot.prototype.readMultiLineString),LinearRing:D(ot.prototype.readLinearRing),Polygon:D(ot.prototype.readPolygon),MultiPolygon:D(ot.prototype.readMultiPolygon),Surface:D(vt.prototype.readSurface),MultiSurface:D(vt.prototype.readMultiSurface),Curve:D(vt.prototype.readCurve),MultiCurve:D(vt.prototype.readMultiCurve),Envelope:D(vt.prototype.readEnvelope)}},vt.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:j(vt.prototype.curveMemberParser),curveMembers:j(vt.prototype.curveMemberParser)}},vt.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:j(vt.prototype.surfaceMemberParser),surfaceMembers:j(vt.prototype.surfaceMemberParser)}},vt.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:j(ot.prototype.readLineString),Curve:j(vt.prototype.readCurve)}},vt.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:j(ot.prototype.readPolygon),Surface:j(vt.prototype.readSurface)}},vt.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:D(vt.prototype.readPatch)}},vt.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:D(vt.prototype.readSegment)}},vt.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:j(vt.prototype.readFlatPosList),upperCorner:j(vt.prototype.readFlatPosList)}},vt.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:D(vt.prototype.readPolygonPatch)}},vt.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:D(vt.prototype.readLineStringSegment)}},vt.prototype.writeFeatures,vt.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:k(vt.prototype.writeRing),interior:k(vt.prototype.writeRing)}},vt.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:k(ut),upperCorner:k(ut)}},vt.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:k(vt.prototype.writeSurfaceOrPolygonMember),polygonMember:k(vt.prototype.writeSurfaceOrPolygonMember)}},vt.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:k(vt.prototype.writePointMember)}},vt.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:k(vt.prototype.writeLineStringOrCurveMember),curveMember:k(vt.prototype.writeLineStringOrCurveMember)}},vt.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:k(vt.prototype.writeCurveOrLineString),MultiCurve:k(vt.prototype.writeMultiCurveOrLineString),Point:k(vt.prototype.writePoint),MultiPoint:k(vt.prototype.writeMultiPoint),LineString:k(vt.prototype.writeCurveOrLineString),MultiLineString:k(vt.prototype.writeMultiCurveOrLineString),LinearRing:k(vt.prototype.writeLinearRing),Polygon:k(vt.prototype.writeSurfaceOrPolygon),MultiPolygon:k(vt.prototype.writeMultiSurfaceOrPolygon),Surface:k(vt.prototype.writeSurfaceOrPolygon),MultiSurface:k(vt.prototype.writeMultiSurfaceOrPolygon),Envelope:k(vt.prototype.writeEnvelope)}};var mt=vt,bt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Ot=function(t){function e(e){var r=this,i=e||{};return r=t.call(this,i)||this,r.schemaLocation=i.schemaLocation?i.schemaLocation:r.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd",r}return bt(e,t),e}(mt);Ot.prototype.namespace="http://www.opengis.net/gml/3.2",Ot.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:D(mt.prototype.readFlatPos),posList:D(mt.prototype.readFlatPosList),coordinates:D(dt.prototype.readFlatCoordinates)}},Ot.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:mt.prototype.interiorParser,exterior:mt.prototype.exteriorParser}},Ot.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:D(ot.prototype.readPoint),MultiPoint:D(ot.prototype.readMultiPoint),LineString:D(ot.prototype.readLineString),MultiLineString:D(ot.prototype.readMultiLineString),LinearRing:D(ot.prototype.readLinearRing),Polygon:D(ot.prototype.readPolygon),MultiPolygon:D(ot.prototype.readMultiPolygon),Surface:D(Ot.prototype.readSurface),MultiSurface:D(mt.prototype.readMultiSurface),Curve:D(Ot.prototype.readCurve),MultiCurve:D(mt.prototype.readMultiCurve),Envelope:D(Ot.prototype.readEnvelope)}},Ot.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:j(mt.prototype.curveMemberParser),curveMembers:j(mt.prototype.curveMemberParser)}},Ot.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:j(mt.prototype.surfaceMemberParser),surfaceMembers:j(mt.prototype.surfaceMemberParser)}},Ot.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:j(ot.prototype.readLineString),Curve:j(mt.prototype.readCurve)}},Ot.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:j(ot.prototype.readPolygon),Surface:j(mt.prototype.readSurface)}},Ot.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:D(mt.prototype.readPatch)}},Ot.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:D(mt.prototype.readSegment)}},Ot.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:j(mt.prototype.readFlatPosList),upperCorner:j(mt.prototype.readFlatPosList)}},Ot.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:D(mt.prototype.readPolygonPatch)}},Ot.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:D(mt.prototype.readLineStringSegment)}},Ot.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:j(ot.prototype.pointMemberParser),pointMembers:j(ot.prototype.pointMemberParser)}},Ot.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:j(ot.prototype.lineStringMemberParser),lineStringMembers:j(ot.prototype.lineStringMemberParser)}},Ot.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:j(ot.prototype.polygonMemberParser),polygonMembers:j(ot.prototype.polygonMemberParser)}},Ot.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:j(ot.prototype.readFlatCoordinatesFromNode)}},Ot.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:j(ot.prototype.readLineString)}},Ot.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:j(ot.prototype.readPolygon)}},Ot.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:D(ot.prototype.readFlatLinearRing)}},Ot.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:k(mt.prototype.writeRing),interior:k(mt.prototype.writeRing)}},Ot.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:k(ut),upperCorner:k(ut)}},Ot.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:k(mt.prototype.writeSurfaceOrPolygonMember),polygonMember:k(mt.prototype.writeSurfaceOrPolygonMember)}},Ot.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:k(mt.prototype.writePointMember)}},Ot.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:k(mt.prototype.writeLineStringOrCurveMember),curveMember:k(mt.prototype.writeLineStringOrCurveMember)}},Ot.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:k(mt.prototype.writeCurveOrLineString),MultiCurve:k(mt.prototype.writeMultiCurveOrLineString),Point:k(Ot.prototype.writePoint),MultiPoint:k(mt.prototype.writeMultiPoint),LineString:k(mt.prototype.writeCurveOrLineString),MultiLineString:k(mt.prototype.writeMultiCurveOrLineString),LinearRing:k(mt.prototype.writeLinearRing),Polygon:k(mt.prototype.writeSurfaceOrPolygon),MultiPolygon:k(mt.prototype.writeMultiSurfaceOrPolygon),Surface:k(mt.prototype.writeSurfaceOrPolygon),MultiSurface:k(mt.prototype.writeMultiSurfaceOrPolygon),Envelope:k(mt.prototype.writeEnvelope)}};var Et=Ot,wt=function(){function t(t){this.tagName_=t}return t.prototype.getTagName=function(){return this.tagName_},t}(),St=wt,Rt=r("92fa5"),Tt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Lt=function(t){function e(e,r){var i=t.call(this,e)||this;return i.conditions=r,Object(Rt["a"])(i.conditions.length>=2,57),i}return Tt(e,t),e}(St),Ct=Lt,It=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),xt=function(t){function e(e){return t.call(this,"And",Array.prototype.slice.call(arguments))||this}return It(e,t),e}(Ct),Pt=xt,Nt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),At=function(t){function e(e,r,i){var n=t.call(this,"BBOX")||this;if(n.geometryName=e,n.extent=r,4!==r.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return n.srsName=i,n}return Nt(e,t),e}(St),Mt=At,Ft=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),jt=function(t){function e(e,r,i,n){var o=t.call(this,e)||this;return o.geometryName=r||"the_geom",o.geometry=i,o.srsName=n,o}return Ft(e,t),e}(St),Dt=jt,Gt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),kt=(function(t){function e(e,r,i){return t.call(this,"Contains",e,r,i)||this}Gt(e,t)}(Dt),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}()),Ut=(function(t){function e(e,r,i,n,o){var a=t.call(this,"DWithin",e,r,o)||this;return a.distance=i,a.unit=n,a}kt(e,t)}(Dt),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}()),Bt=(function(t){function e(e,r,i){return t.call(this,"Disjoint",e,r,i)||this}Ut(e,t)}(Dt),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}()),Yt=function(t){function e(e,r){var i=t.call(this,e)||this;return i.propertyName=r,i}return Bt(e,t),e}(St),Xt=Yt,Wt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),zt=(function(t){function e(e,r,i){var n=t.call(this,"During",e)||this;return n.begin=r,n.end=i,n}Wt(e,t)}(Xt),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}()),Vt=function(t){function e(e,r,i,n){var o=t.call(this,e,r)||this;return o.expression=i,o.matchCase=n,o}return zt(e,t),e}(Xt),Ht=Vt,Zt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),qt=(function(t){function e(e,r,i){return t.call(this,"PropertyIsEqualTo",e,r,i)||this}Zt(e,t)}(Ht),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}()),Jt=(function(t){function e(e,r){return t.call(this,"PropertyIsGreaterThan",e,r)||this}qt(e,t)}(Ht),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}()),Kt=(function(t){function e(e,r){return t.call(this,"PropertyIsGreaterThanOrEqualTo",e,r)||this}Jt(e,t)}(Ht),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}()),$t=function(t){function e(e,r,i){return t.call(this,"Intersects",e,r,i)||this}return Kt(e,t),e}(Dt),Qt=$t,te=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),ee=(function(t){function e(e,r,i){var n=t.call(this,"PropertyIsBetween",e)||this;return n.lowerBoundary=r,n.upperBoundary=i,n}te(e,t)}(Xt),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}()),re=(function(t){function e(e,r,i,n,o,a){var s=t.call(this,"PropertyIsLike",e)||this;return s.pattern=r,s.wildCard=void 0!==i?i:"*",s.singleChar=void 0!==n?n:".",s.escapeChar=void 0!==o?o:"!",s.matchCase=a,s}ee(e,t)}(Xt),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}()),ie=(function(t){function e(e){return t.call(this,"PropertyIsNull",e)||this}re(e,t)}(Xt),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}()),ne=(function(t){function e(e,r){return t.call(this,"PropertyIsLessThan",e,r)||this}ie(e,t)}(Ht),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}()),oe=(function(t){function e(e,r){return t.call(this,"PropertyIsLessThanOrEqualTo",e,r)||this}ne(e,t)}(Ht),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}()),ae=(function(t){function e(e){var r=t.call(this,"Not")||this;return r.condition=e,r}oe(e,t)}(St),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}()),se=(function(t){function e(e,r,i){return t.call(this,"PropertyIsNotEqualTo",e,r,i)||this}ae(e,t)}(Ht),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}()),ce=(function(t){function e(e){return t.call(this,"Or",Array.prototype.slice.call(arguments))||this}se(e,t)}(Ct),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}()),ue=(function(t){function e(e){var r=t.call(this,"ResourceId")||this;return r.rid=e,r}ce(e,t)}(St),function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}());(function(t){function e(e,r,i){return t.call(this,"Within",e,r,i)||this}ue(e,t)})(Dt);function he(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Pt,e))}function le(t,e,r){return new Mt(t,e,r)}function pe(t,e,r){return new Qt(t,e,r)}var fe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),de={"http://www.opengis.net/gml":{boundedBy:G(ot.prototype.readGeometryElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:j(ot.prototype.readFeaturesInternal)}},ge={"http://www.opengis.net/wfs":{totalInserted:G(st),totalUpdated:G(st),totalDeleted:G(st)},"http://www.opengis.net/wfs/2.0":{totalInserted:G(st),totalUpdated:G(st),totalDeleted:G(st)}},_e={"http://www.opengis.net/wfs":{TransactionSummary:G(xe,"transactionSummary"),InsertResults:G(Me,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:G(xe,"transactionSummary"),InsertResults:G(Me,"insertIds")}},ye={"http://www.opengis.net/wfs":{PropertyName:k(ut)},"http://www.opengis.net/wfs/2.0":{PropertyName:k(ut)}},ve={"http://www.opengis.net/wfs":{Insert:k(Fe),Update:k(ke),Delete:k(Ge),Property:k(Ue),Native:k(Be)},"http://www.opengis.net/wfs/2.0":{Insert:k(Fe),Update:k(ke),Delete:k(Ge),Property:k(Ue),Native:k(Be)}},me="feature",be="http://www.w3.org/2000/xmlns/",Oe={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},Ee={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},we={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},Se={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},Re={"2.0.0":Et,"1.1.0":mt,"1.0.0":dt},Te="1.1.0",Le=function(t){function e(e){var r=t.call(this)||this,i=e||{};return r.version_=i.version?i.version:Te,r.featureType_=i.featureType,r.featureNS_=i.featureNS,r.gmlFormat_=i.gmlFormat?i.gmlFormat:new Re[r.version_],r.schemaLocation_=i.schemaLocation?i.schemaLocation:Se[r.version_],r}return fe(e,t),e.prototype.getFeatureType=function(){return this.featureType_},e.prototype.setFeatureType=function(t){this.featureType_=t},e.prototype.readFeaturesFromNode=function(t,e){var r={node:t};Object(Q["a"])(r,{featureType:this.featureType_,featureNS:this.featureNS_}),Object(Q["a"])(r,this.getReadOptions(t,e||{}));var i,n=[r];i="2.0.0"===this.version_?de:this.gmlFormat_.FEATURE_COLLECTION_PARSERS;var o=X([],i,t,n,this.gmlFormat_);return o||(o=[]),o},e.prototype.readTransactionResponse=function(t){if(t){if("string"===typeof t){var e=F(t);return this.readTransactionResponseFromDocument(e)}return A(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t)}},e.prototype.readFeatureCollectionMetadata=function(t){if(t){if("string"===typeof t){var e=F(t);return this.readFeatureCollectionMetadataFromDocument(e)}return A(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t)}},e.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},e.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},r=ct(t.getAttribute("numberOfFeatures"));return e["numberOfFeatures"]=r,X(e,de,t,[],this.gmlFormat_)},e.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},e.prototype.readTransactionResponseFromNode=function(t){return X({},_e,t,[])},e.prototype.writeGetFeature=function(t){var e=this,r=x(Ee[this.version_],"GetFeature");r.setAttribute("service","WFS"),r.setAttribute("version",this.version_),t.handle&&r.setAttribute("handle",t.handle),t.outputFormat&&r.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&r.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&r.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&r.setAttribute("startIndex",String(t.startIndex)),void 0!==t.count&&r.setAttribute("count",String(t.count)),void 0!==t.viewParams&&r.setAttribute("viewParams",t.viewParams),r.setAttributeNS(I,"xsi:schemaLocation",this.schemaLocation_);var i={node:r};if(Object(Q["a"])(i,{version:this.version_,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,propertyNames:t.propertyNames?t.propertyNames:[]}),Object(Rt["a"])(Array.isArray(t.featureTypes),11),"string"===typeof t.featureTypes[0]){var n=t.filter;t.bbox&&(Object(Rt["a"])(t.geometryName,12),n=this.combineBboxAndFilter(t.geometryName,t.bbox,t.srsName,n)),Object(Q["a"])(i,{geometryName:t.geometryName,filter:n}),ar(r,t.featureTypes,[i])}else t.featureTypes.forEach((function(n){var o=e.combineBboxAndFilter(n.geometryName,n.bbox,t.srsName,t.filter);Object(Q["a"])(i,{geometryName:n.geometryName,filter:o}),ar(r,[n.name],[i])}));return r},e.prototype.combineBboxAndFilter=function(t,e,r,i){var n=le(t,e,r);return i?he(i,n):n},e.prototype.writeTransaction=function(t,e,r,i){var n,o=[],a=i.version?i.version:this.version_,s=x(Ee[a],"Transaction");s.setAttribute("service","WFS"),s.setAttribute("version",a),i&&(n=i.gmlOptions?i.gmlOptions:{},i.handle&&s.setAttribute("handle",i.handle)),s.setAttributeNS(I,"xsi:schemaLocation",Se[a]);var c=Ce(s,n,a,i);return t&&Ie("Insert",t,o,c),e&&Ie("Update",e,o,c),r&&Ie("Delete",r,o,c),i.nativeElements&&Ie("Native",i.nativeElements,o,c),s},e.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},e.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild){t=t.firstElementChild.firstElementChild;for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(0!==e.childNodes.length&&(1!==e.childNodes.length||3!==e.firstChild.nodeType)){var r=[{}];return this.gmlFormat_.readGeometryElement(e,r),Object(tt["f"])(r.pop().srsName)}}return null},e}($);function Ce(t,e,r,i){var n,o=i.featurePrefix?i.featurePrefix:me;"1.0.0"===r?n=2:"1.1.0"===r?n=3:"2.0.0"===r&&(n=3.2);var a=Object(Q["a"])({node:t},{version:r,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:o,gmlVersion:n,hasZ:i.hasZ,srsName:i.srsName},e);return a}function Ie(t,e,r,i){z(i,ve,U(t),e,r)}function xe(t,e){return X({},ge,t,e)}var Pe={"http://www.opengis.net/ogc":{FeatureId:j((function(t,e){return t.getAttribute("fid")}))},"http://www.opengis.net/ogc/1.1":{FeatureId:j((function(t,e){return t.getAttribute("fid")}))}};function Ne(t,e){Y(Pe,t,e)}var Ae={"http://www.opengis.net/wfs":{Feature:Ne},"http://www.opengis.net/wfs/2.0":{Feature:Ne}};function Me(t,e){return X([],Ae,t,e)}function Fe(t,e,r){var i=r[r.length-1],n=i["featureType"],o=i["featureNS"],a=i["gmlVersion"],s=x(o,n);t.appendChild(s),2===a?dt.prototype.writeFeatureElement(s,e,r):3===a?mt.prototype.writeFeatureElement(s,e,r):Et.prototype.writeFeatureElement(s,e,r)}function je(t,e,r){var i=r[r.length-1],n=i["version"],o=Oe[n],a=x(o,"Filter"),s=x(o,"FeatureId");a.appendChild(s),s.setAttribute("fid",e),t.appendChild(a)}function De(t,e){t=t||me;var r=t+":";return 0===e.indexOf(r)?e:r+e}function Ge(t,e,r){var i=r[r.length-1];Object(Rt["a"])(void 0!==e.getId(),26);var n=i["featureType"],o=i["featurePrefix"],a=i["featureNS"],s=De(o,n);t.setAttribute("typeName",s),t.setAttributeNS(be,"xmlns:"+o,a);var c=e.getId();void 0!==c&&je(t,c,r)}function ke(t,e,r){var i=r[r.length-1];Object(Rt["a"])(void 0!==e.getId(),27);var n=i["version"],o=i["featureType"],a=i["featurePrefix"],s=i["featureNS"],c=De(a,o),u=e.getGeometryName();t.setAttribute("typeName",c),t.setAttributeNS(be,"xmlns:"+a,s);var h=e.getId();if(void 0!==h){for(var l=e.getKeys(),p=[],f=0,d=l.length;f<d;f++){var g=e.get(l[f]);if(void 0!==g){var _=l[f];g&&"function"===typeof g.getSimplifiedGeometry&&(_=u),p.push({name:_,value:g})}}z({version:n,gmlVersion:i["gmlVersion"],node:t,hasZ:i["hasZ"],srsName:i["srsName"]},ve,U("Property"),p,r),je(t,h,r)}}function Ue(t,e,r){var i=r[r.length-1],n=i["version"],o=Ee[n],a=x(o,"Name"),s=i["gmlVersion"];if(t.appendChild(a),ut(a,e.name),void 0!==e.value&&null!==e.value){var c=x(o,"Value");t.appendChild(c),e.value&&"function"===typeof e.value.getSimplifiedGeometry?2===s?dt.prototype.writeGeometryElement(c,e.value,r):3===s?mt.prototype.writeGeometryElement(c,e.value,r):Et.prototype.writeGeometryElement(c,e.value,r):ut(c,e.value)}}function Be(t,e,r){e.vendorId&&t.setAttribute("vendorId",e.vendorId),void 0!==e.safeToIgnore&&t.setAttribute("safeToIgnore",String(e.safeToIgnore)),void 0!==e.value&&ut(t,e.value)}var Ye={"http://www.opengis.net/wfs":{Query:k(Xe)},"http://www.opengis.net/wfs/2.0":{Query:k(Xe)},"http://www.opengis.net/ogc":{During:k(qe),And:k(Je),Or:k(Je),Not:k(Ke),BBOX:k(ze),Contains:k(He),Intersects:k(He),Within:k(He),DWithin:k(Ze),PropertyIsEqualTo:k($e),PropertyIsNotEqualTo:k($e),PropertyIsLessThan:k($e),PropertyIsLessThanOrEqualTo:k($e),PropertyIsGreaterThan:k($e),PropertyIsGreaterThanOrEqualTo:k($e),PropertyIsNull:k(Qe),PropertyIsBetween:k(tr),PropertyIsLike:k(er)},"http://www.opengis.net/fes/2.0":{During:k(qe),And:k(Je),Or:k(Je),Not:k(Ke),BBOX:k(ze),Contains:k(He),Disjoint:k(He),Intersects:k(He),ResourceId:k(Ve),Within:k(He),DWithin:k(Ze),PropertyIsEqualTo:k($e),PropertyIsNotEqualTo:k($e),PropertyIsLessThan:k($e),PropertyIsLessThanOrEqualTo:k($e),PropertyIsGreaterThan:k($e),PropertyIsGreaterThanOrEqualTo:k($e),PropertyIsNull:k(Qe),PropertyIsBetween:k(tr),PropertyIsLike:k(er)}};function Xe(t,e,r){var i,n,o=r[r.length-1],a=o["version"],s=o["featurePrefix"],c=o["featureNS"],u=o["propertyNames"],h=o["srsName"];i=s?De(s,e):e,n="2.0.0"===a?"typeNames":"typeName",t.setAttribute(n,i),h&&t.setAttribute("srsName",h),c&&t.setAttributeNS(be,"xmlns:"+s,c);var l=Object(Q["a"])({},o);l.node=t,z(l,ye,U("PropertyName"),u,r);var p=o["filter"];if(p){var f=x(sr(a),"Filter");t.appendChild(f),We(f,p,r)}}function We(t,e,r){var i=r[r.length-1],n={node:t};Object(Q["a"])(n,{context:i}),z(n,Ye,U(e.getTagName()),[e],r)}function ze(t,e,r){var i=r[r.length-1],n=i["context"],o=n["version"];i["srsName"]=e.srsName;var a=Re[o];nr(o,t,e.geometryName),a.prototype.writeGeometryElement(t,e.extent,r)}function Ve(t,e,r){t.setAttribute("rid",e.rid)}function He(t,e,r){var i=r[r.length-1],n=i["context"],o=n["version"];i["srsName"]=e.srsName;var a=Re[o];nr(o,t,e.geometryName),a.prototype.writeGeometryElement(t,e.geometry,r)}function Ze(t,e,r){var i=r[r.length-1],n=i["context"],o=n["version"];He(t,e,r);var a=x(sr(o),"Distance");ut(a,e.distance.toString()),"2.0.0"===o?a.setAttribute("uom",e.unit):a.setAttribute("units",e.unit),t.appendChild(a)}function qe(t,e,r){var i=r[r.length-1],n=i["context"],o=n["version"];rr(we[o],"ValueReference",t,e.propertyName);var a=x(rt,"TimePeriod");t.appendChild(a);var s=x(rt,"begin");a.appendChild(s),or(s,e.begin);var c=x(rt,"end");a.appendChild(c),or(c,e.end)}function Je(t,e,r){var i=r[r.length-1],n=i["context"],o={node:t};Object(Q["a"])(o,{context:n});for(var a=e.conditions,s=0,c=a.length;s<c;++s){var u=a[s];z(o,Ye,U(u.getTagName()),[u],r)}}function Ke(t,e,r){var i=r[r.length-1],n=i["context"],o={node:t};Object(Q["a"])(o,{context:n});var a=e.condition;z(o,Ye,U(a.getTagName()),[a],r)}function $e(t,e,r){var i=r[r.length-1],n=i["context"],o=n["version"];void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),nr(o,t,e.propertyName),ir(o,t,""+e.expression)}function Qe(t,e,r){var i=r[r.length-1],n=i["context"],o=n["version"];nr(o,t,e.propertyName)}function tr(t,e,r){var i=r[r.length-1],n=i["context"],o=n["version"],a=sr(o);nr(o,t,e.propertyName);var s=x(a,"LowerBoundary");t.appendChild(s),ir(o,s,""+e.lowerBoundary);var c=x(a,"UpperBoundary");t.appendChild(c),ir(o,c,""+e.upperBoundary)}function er(t,e,r){var i=r[r.length-1],n=i["context"],o=n["version"];t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),nr(o,t,e.propertyName),ir(o,t,""+e.pattern)}function rr(t,e,r,i){var n=x(t,e);ut(n,i),r.appendChild(n)}function ir(t,e,r){rr(sr(t),"Literal",e,r)}function nr(t,e,r){"2.0.0"===t?rr(we[t],"ValueReference",e,r):rr(Oe[t],"PropertyName",e,r)}function or(t,e){var r=x(rt,"TimeInstant");t.appendChild(r);var i=x(rt,"timePosition");r.appendChild(i),ut(i,e)}function ar(t,e,r){var i=r[r.length-1],n=Object(Q["a"])({},i);n.node=t,z(n,Ye,U("Query"),e,r)}function sr(t){var e;return e="2.0.0"===t?we[t]:Oe[t],e}var cr=Le;window.ol&&!ol.ext&&(ol.ext={});var ur=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t};window.ol&&(ol.inherits||(ol.inherits=ur)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var hr,lr=ur,pr=r("35a7"),fr=r("3900"),dr=r("480c"),gr=r("97e6"),_r=r("c810"),yr=r("ae50"),vr=r("f623"),mr=r("a43f"),br=r("496f"),Or=34962,Er=34963,wr=35040,Sr=35044,Rr=35048,Tr=5121,Lr=5123,Cr=5125,Ir=5126,xr=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Pr(t,e){for(var r=xr.length,i=0;i<r;++i)try{var n=t.getContext(xr[i],e);if(n)return n}catch(o){}return null}function Nr(){if(!hr){var t=document.createElement("canvas"),e=Pr(t);e&&(hr=e.getSupportedExtensions())}return hr}var Ar={STATIC_DRAW:Sr,STREAM_DRAW:wr,DYNAMIC_DRAW:Rr},Mr=function(){function t(t,e){this.array=null,this.type=t,Object(Rt["a"])(t===Or||t===Er,62),this.usage=void 0!==e?e:Ar.STATIC_DRAW}return t.prototype.ofSize=function(t){this.array=new(Fr(this.type))(t)},t.prototype.fromArray=function(t){this.array=Fr(this.type).from(t)},t.prototype.fromArrayBuffer=function(t){this.array=new(Fr(this.type))(t)},t.prototype.getType=function(){return this.type},t.prototype.getArray=function(){return this.array},t.prototype.getUsage=function(){return this.usage},t.prototype.getSize=function(){return this.array?this.array.length:0},t}();function Fr(t){switch(t){case Or:return Float32Array;case Er:return Uint32Array;default:return Float32Array}}var jr=Mr,Dr=r("faf4"),Gr=r("3333"),kr=r("070d"),Ur={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},Br=r("da5c"),Yr="\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n",Xr="\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord);\n  }\n",Wr=function(){function t(t){this.gl_=t.webGlContext;var e=this.gl_;this.scaleRatio_=t.scaleRatio||1,this.renderTargetTexture_=e.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=e.createFramebuffer();var r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,t.vertexShader||Yr),e.compileShader(r);var i=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(i,t.fragmentShader||Xr),e.compileShader(i),this.renderTargetProgram_=e.createProgram(),e.attachShader(this.renderTargetProgram_,r),e.attachShader(this.renderTargetProgram_,i),e.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=e.createBuffer();var n=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];e.bindBuffer(e.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW),this.renderTargetAttribLocation_=e.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetTextureLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],t.uniforms&&Object.keys(t.uniforms).forEach(function(r){this.uniforms_.push({value:t.uniforms[r],location:e.getUniformLocation(this.renderTargetProgram_,r)})}.bind(this))}return t.prototype.getGL=function(){return this.gl_},t.prototype.init=function(t){var e=this.getGL(),r=[e.drawingBufferWidth*this.scaleRatio_,e.drawingBufferHeight*this.scaleRatio_];if(e.bindFramebuffer(e.FRAMEBUFFER,this.getFrameBuffer()),e.viewport(0,0,r[0],r[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==r[0]||this.renderTargetTextureSize_[1]!==r[1]){this.renderTargetTextureSize_=r;var i=0,n=e.RGBA,o=0,a=e.RGBA,s=e.UNSIGNED_BYTE,c=null;e.bindTexture(e.TEXTURE_2D,this.renderTargetTexture_),e.texImage2D(e.TEXTURE_2D,i,n,r[0],r[1],o,a,s,c),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.renderTargetTexture_,0)}},t.prototype.apply=function(t,e){var r=this.getGL(),i=t.size;r.bindFramebuffer(r.FRAMEBUFFER,e?e.getFrameBuffer():null),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this.renderTargetTexture_),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight),r.bindBuffer(r.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),r.useProgram(this.renderTargetProgram_),r.enableVertexAttribArray(this.renderTargetAttribLocation_),r.vertexAttribPointer(this.renderTargetAttribLocation_,2,r.FLOAT,!1,0,0),r.uniform2f(this.renderTargetUniformLocation_,i[0],i[1]),r.uniform1i(this.renderTargetTextureLocation_,0),this.applyUniforms(t),r.drawArrays(r.TRIANGLES,0,6)},t.prototype.getFrameBuffer=function(){return this.frameBuffer_},t.prototype.applyUniforms=function(t){var e,r=this.getGL(),i=1;this.uniforms_.forEach((function(n){if(e="function"===typeof n.value?n.value(t):n.value,e instanceof HTMLCanvasElement||e instanceof ImageData)n.texture||(n.texture=r.createTexture()),r.activeTexture(r["TEXTURE"+i]),r.bindTexture(r.TEXTURE_2D,n.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),e instanceof ImageData?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,e.width,e.height,0,r.UNSIGNED_BYTE,new Uint8Array(e.data)):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),r.uniform1i(n.location,i++);else if(Array.isArray(e))switch(e.length){case 2:return void r.uniform2f(n.location,e[0],e[1]);case 3:return void r.uniform3f(n.location,e[0],e[1],e[2]);case 4:return void r.uniform4f(n.location,e[0],e[1],e[2],e[3]);default:return}else"number"===typeof e&&r.uniform1f(n.location,e)}))},t}(),zr=Wr,Vr=r("a896");function Hr(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Zr(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}var qr=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Jr={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"},Kr={UNSIGNED_BYTE:Tr,UNSIGNED_SHORT:Lr,UNSIGNED_INT:Cr,FLOAT:Ir},$r=function(t){function e(e){var r=t.call(this)||this,i=e||{};r.boundHandleWebGLContextLost_=r.handleWebGLContextLost.bind(r),r.boundHandleWebGLContextRestored_=r.handleWebGLContextRestored.bind(r),r.canvas_=document.createElement("canvas"),r.canvas_.style.position="absolute",r.canvas_.style.left="0",r.gl_=Pr(r.canvas_);var n=r.getGL();if(r.bufferCache_={},r.currentProgram_=null,Object(Rt["a"])(Object(C["d"])(Nr(),"OES_element_index_uint"),63),n.getExtension("OES_element_index_uint"),r.canvas_.addEventListener(Ur.LOST,r.boundHandleWebGLContextLost_),r.canvas_.addEventListener(Ur.RESTORED,r.boundHandleWebGLContextRestored_),r.offsetRotateMatrix_=Object(Vr["c"])(),r.offsetScaleMatrix_=Object(Vr["c"])(),r.tmpMat4_=Hr(),r.uniformLocations_={},r.attribLocations_={},r.uniforms_=[],i.uniforms)for(var o in i.uniforms)r.uniforms_.push({name:o,value:i.uniforms[o]});return r.postProcessPasses_=i.postProcesses?i.postProcesses.map((function(t){return new zr({webGlContext:n,scaleRatio:t.scaleRatio,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms})})):[new zr({webGlContext:n})],r.shaderCompileErrors_=null,r.startTime_=Date.now(),r}return qr(e,t),e.prototype.bindBuffer=function(t){var e=this.getGL(),r=Object(L["c"])(t),i=this.bufferCache_[r];if(!i){var n=e.createBuffer();i={buffer:t,webGlBuffer:n},this.bufferCache_[r]=i}e.bindBuffer(t.getType(),i.webGlBuffer)},e.prototype.flushBufferData=function(t){var e=this.getGL();this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())},e.prototype.deleteBuffer=function(t){var e=this.getGL(),r=Object(L["c"])(t),i=this.bufferCache_[r];e.isContextLost()||e.deleteBuffer(i.buffer),delete this.bufferCache_[r]},e.prototype.disposeInternal=function(){this.canvas_.removeEventListener(Ur.LOST,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(Ur.RESTORED,this.boundHandleWebGLContextRestored_)},e.prototype.prepareDraw=function(t){var e=this.getGL(),r=this.getCanvas(),i=t.size,n=t.pixelRatio;r.width=i[0]*n,r.height=i[1]*n,r.style.width=i[0]+"px",r.style.height=i[1]+"px",e.useProgram(this.currentProgram_);for(var o=this.postProcessPasses_.length-1;o>=0;o--)this.postProcessPasses_[o].init(t);e.bindTexture(e.TEXTURE_2D,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},e.prototype.prepareDrawToRenderTarget=function(t,e,r){var i=this.getGL(),n=e.getSize();i.bindFramebuffer(i.FRAMEBUFFER,e.getFramebuffer()),i.viewport(0,0,n[0],n[1]),i.bindTexture(i.TEXTURE_2D,e.getTexture()),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,r?i.ZERO:i.ONE_MINUS_SRC_ALPHA),i.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},e.prototype.drawElements=function(t,e){var r=this.getGL(),i=r.UNSIGNED_INT,n=4,o=e-t,a=t*n;r.drawElements(r.TRIANGLES,o,i,a)},e.prototype.finalizeDraw=function(t){for(var e=0;e<this.postProcessPasses_.length;e++)this.postProcessPasses_[e].apply(t,this.postProcessPasses_[e+1]||null)},e.prototype.getCanvas=function(){return this.canvas_},e.prototype.getGL=function(){return this.gl_},e.prototype.applyFrameState=function(t){var e=t.size,r=t.viewState.rotation,i=Object(Vr["g"])(this.offsetScaleMatrix_);Object(Vr["i"])(i,2/e[0],2/e[1]);var n=Object(Vr["g"])(this.offsetRotateMatrix_);0!==r&&Object(Vr["h"])(n,-r),this.setUniformMatrixValue(Jr.OFFSET_SCALE_MATRIX,Zr(this.tmpMat4_,i)),this.setUniformMatrixValue(Jr.OFFSET_ROTATION_MATRIX,Zr(this.tmpMat4_,n)),this.setUniformFloatValue(Jr.TIME,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(Jr.ZOOM,t.viewState.zoom),this.setUniformFloatValue(Jr.RESOLUTION,t.viewState.resolution)},e.prototype.applyUniforms=function(t){var e,r=this.getGL(),i=0;this.uniforms_.forEach(function(n){if(e="function"===typeof n.value?n.value(t):n.value,e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof ImageData){n.texture||(n.prevValue=void 0,n.texture=r.createTexture()),r.activeTexture(r["TEXTURE"+i]),r.bindTexture(r.TEXTURE_2D,n.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);var o=!(e instanceof HTMLImageElement)||e.complete;o&&n.prevValue!==e&&(n.prevValue=e,r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e)),r.uniform1i(this.getUniformLocation(n.name),i++)}else if(Array.isArray(e)&&6===e.length)this.setUniformMatrixValue(n.name,Zr(this.tmpMat4_,e));else if(Array.isArray(e)&&e.length<=4)switch(e.length){case 2:return void r.uniform2f(this.getUniformLocation(n.name),e[0],e[1]);case 3:return void r.uniform3f(this.getUniformLocation(n.name),e[0],e[1],e[2]);case 4:return void r.uniform4f(this.getUniformLocation(n.name),e[0],e[1],e[2],e[3]);default:return}else"number"===typeof e&&r.uniform1f(this.getUniformLocation(n.name),e)}.bind(this))},e.prototype.useProgram=function(t){if(t==this.currentProgram_)return!1;var e=this.getGL();return e.useProgram(t),this.currentProgram_=t,this.uniformLocations_={},this.attribLocations_={},!0},e.prototype.compileShader=function(t,e){var r=this.getGL(),i=r.createShader(e);return r.shaderSource(i,t),r.compileShader(i),i},e.prototype.getProgram=function(t,e){var r=this.getGL(),i=this.compileShader(t,r.FRAGMENT_SHADER),n=this.compileShader(e,r.VERTEX_SHADER);this.shaderCompileErrors_=null,r.getShaderInfoLog(i)&&(this.shaderCompileErrors_="Fragment shader compilation failed:\n"+r.getShaderInfoLog(i)),r.getShaderInfoLog(n)&&(this.shaderCompileErrors_=(this.shaderCompileErrors_||"")+"Vertex shader compilation failed:\n"+r.getShaderInfoLog(n));var o=r.createProgram();return r.attachShader(o,i),r.attachShader(o,n),r.linkProgram(o),o},e.prototype.getShaderCompileErrors=function(){return this.shaderCompileErrors_},e.prototype.getUniformLocation=function(t){return void 0===this.uniformLocations_[t]&&(this.uniformLocations_[t]=this.getGL().getUniformLocation(this.currentProgram_,t)),this.uniformLocations_[t]},e.prototype.getAttributeLocation=function(t){return void 0===this.attribLocations_[t]&&(this.attribLocations_[t]=this.getGL().getAttribLocation(this.currentProgram_,t)),this.attribLocations_[t]},e.prototype.makeProjectionTransform=function(t,e){var r=t.size,i=t.viewState.rotation,n=t.viewState.resolution,o=t.viewState.center;return Object(Vr["g"])(e),Object(Vr["b"])(e,0,0,2/(n*r[0]),2/(n*r[1]),-i,-o[0],-o[1]),e},e.prototype.setUniformFloatValue=function(t,e){this.getGL().uniform1f(this.getUniformLocation(t),e)},e.prototype.setUniformMatrixValue=function(t,e){this.getGL().uniformMatrix4fv(this.getUniformLocation(t),!1,e)},e.prototype.enableAttributeArray_=function(t,e,r,i,n){var o=this.getAttributeLocation(t);o<0||(this.getGL().enableVertexAttribArray(o),this.getGL().vertexAttribPointer(o,e,r,!1,i,n))},e.prototype.enableAttributes=function(t){for(var e=Qr(t),r=0,i=0;i<t.length;i++){var n=t[i];this.enableAttributeArray_(n.name,n.size,n.type||Ir,e,r),r+=n.size*ti(n.type)}},e.prototype.handleWebGLContextLost=function(){Object(Q["b"])(this.bufferCache_),this.currentProgram_=null},e.prototype.handleWebGLContextRestored=function(){},e.prototype.createTexture=function(t,e,r){var i=this.getGL(),n=r||i.createTexture(),o=0,a=i.RGBA,s=0,c=i.RGBA,u=i.UNSIGNED_BYTE;return i.bindTexture(i.TEXTURE_2D,n),e?i.texImage2D(i.TEXTURE_2D,o,a,c,u,e):i.texImage2D(i.TEXTURE_2D,o,a,t[0],t[1],s,c,u,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),n},e}(Br["a"]);function Qr(t){for(var e=0,r=0;r<t.length;r++){var i=t[r];e+=i.size*ti(i.type)}return e}function ti(t){switch(t){case Kr.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case Kr.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case Kr.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case Kr.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var ei=$r,ri=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),ii={GENERATE_BUFFERS:"GENERATE_BUFFERS"},ni=function(t){function e(e,r){var i=t.call(this,e)||this,n=r||{};return i.helper=new ei({postProcesses:n.postProcesses,uniforms:n.uniforms}),void 0!==n.className&&(i.helper.getCanvas().className=n.className),i}return ri(e,t),e.prototype.disposeInternal=function(){this.helper.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getShaderCompileErrors=function(){return this.helper.getShaderCompileErrors()},e.prototype.dispatchRenderEvent_=function(t,e){var r=this.getLayer();if(r.hasListener(t)){var i=new Gr["a"](t,null,e,null);r.dispatchEvent(i)}},e.prototype.preRender=function(t){this.dispatchRenderEvent_(kr["a"].PRERENDER,t)},e.prototype.postRender=function(t){this.dispatchRenderEvent_(kr["a"].POSTRENDER,t)},e}(Dr["a"]);function oi(t,e){var r=e||[],i=256,n=i-1;return r[0]=Math.floor(t/i/i/i)/n,r[1]=Math.floor(t/i/i)%i/n,r[2]=Math.floor(t/i)%i/n,r[3]=t%i/n,r}function ai(t){var e=0,r=256,i=r-1;return e+=Math.round(t[0]*r*r*r*i),e+=Math.round(t[1]*r*r*i),e+=Math.round(t[2]*r*i),e+=Math.round(t[3]*i),e}var si=ni,ci=new Uint8Array(4),ui=function(){function t(t,e){this.helper_=t;var r=t.getGL();this.texture_=r.createTexture(),this.framebuffer_=r.createFramebuffer(),this.size_=e||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return t.prototype.setSize=function(t){Object(C["b"])(t,this.size_)||(this.size_[0]=t[0],this.size_[1]=t[1],this.updateSize_())},t.prototype.getSize=function(){return this.size_},t.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},t.prototype.readAll=function(){if(this.dataCacheDirty_){var t=this.size_,e=this.helper_.getGL();e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.readPixels(0,0,t[0],t[1],e.RGBA,e.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},t.prototype.readPixel=function(t,e){if(t<0||e<0||t>this.size_[0]||e>=this.size_[1])return ci[0]=0,ci[1]=0,ci[2]=0,ci[3]=0,ci;this.readAll();var r=Math.floor(t)+(this.size_[1]-Math.floor(e)-1)*this.size_[0];return ci[0]=this.data_[4*r],ci[1]=this.data_[4*r+1],ci[2]=this.data_[4*r+2],ci[3]=this.data_[4*r+3],ci},t.prototype.getTexture=function(){return this.texture_},t.prototype.getFramebuffer=function(){return this.framebuffer_},t.prototype.updateSize_=function(){var t=this.size_,e=this.helper_.getGL();this.texture_=this.helper_.createTexture(t,null,this.texture_),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.viewport(0,0,t[0],t[1]),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(t[0]*t[1]*4)},t}(),hi=ui,li='var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};',pi=new Blob([li],{type:"application/javascript"}),fi=URL.createObjectURL(pi);function di(){return new Worker(fi)}var gi=r("1e8d"),_i=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),yi=function(t){function e(e,r){var i=this,n=r.uniforms||{},o=Object(Vr["c"])();n[Jr.PROJECTION_MATRIX]=o,i=t.call(this,e,{className:r.className,uniforms:n,postProcesses:r.postProcesses})||this,i.sourceRevision_=-1,i.verticesBuffer_=new jr(Or,Rr),i.hitVerticesBuffer_=new jr(Or,Rr),i.indicesBuffer_=new jr(Er,Rr),i.program_=i.helper.getProgram(r.fragmentShader,r.vertexShader),i.hitDetectionEnabled_=!(!r.hitFragmentShader||!r.hitVertexShader),i.hitProgram_=i.hitDetectionEnabled_&&i.helper.getProgram(r.hitFragmentShader,r.hitVertexShader);var a=r.attributes?r.attributes.map((function(t){return{name:"a_"+t.name,size:1,type:Kr.FLOAT}})):[];i.attributes=[{name:"a_position",size:2,type:Kr.FLOAT},{name:"a_index",size:1,type:Kr.FLOAT}].concat(a),i.hitDetectionAttributes=[{name:"a_position",size:2,type:Kr.FLOAT},{name:"a_index",size:1,type:Kr.FLOAT},{name:"a_hitColor",size:4,type:Kr.FLOAT},{name:"a_featureUid",size:1,type:Kr.FLOAT}].concat(a),i.customAttributes=r.attributes?r.attributes:[],i.previousExtent_=Object(at["j"])(),i.currentTransform_=o,i.renderTransform_=Object(Vr["c"])(),i.invertRenderTransform_=Object(Vr["c"])(),i.renderInstructions_=new Float32Array(0),i.hitRenderInstructions_=new Float32Array(0),i.hitRenderTarget_=i.hitDetectionEnabled_&&new hi(i.helper),i.worker_=di(),i.worker_.addEventListener("message",function(t){var e=t.data;if(e.type===ii.GENERATE_BUFFERS){var r=e.projectionTransform;e.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(e.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(e.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(e.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=r,Object(Vr["d"])(this.invertRenderTransform_,this.renderTransform_),e.hitDetection?this.hitRenderInstructions_=new Float32Array(t.data.renderInstructions):this.renderInstructions_=new Float32Array(t.data.renderInstructions),this.getLayer().changed()}}.bind(i)),i.featureCache_={},i.featureCount_=0;var s=i.getLayer().getSource();return i.sourceListenKeys_=[Object(gi["a"])(s,mr["a"].ADDFEATURE,i.handleSourceFeatureAdded_,i),Object(gi["a"])(s,mr["a"].CHANGEFEATURE,i.handleSourceFeatureChanged_,i),Object(gi["a"])(s,mr["a"].REMOVEFEATURE,i.handleSourceFeatureDelete_,i),Object(gi["a"])(s,mr["a"].CLEAR,i.handleSourceFeatureClear_,i)],s.forEachFeature(function(t){this.featureCache_[Object(L["c"])(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++}.bind(i)),i}return _i(e,t),e.prototype.handleSourceFeatureAdded_=function(t){var e=t.feature;this.featureCache_[Object(L["c"])(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++},e.prototype.handleSourceFeatureChanged_=function(t){var e=t.feature;this.featureCache_[Object(L["c"])(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()}},e.prototype.handleSourceFeatureDelete_=function(t){var e=t.feature;delete this.featureCache_[Object(L["c"])(e)],this.featureCount_--},e.prototype.handleSourceFeatureClear_=function(){this.featureCache_={},this.featureCount_=0},e.prototype.renderFrame=function(t){this.preRender(t);var e=this.indicesBuffer_.getSize();this.helper.drawElements(0,e),this.helper.finalizeDraw(t);var r=this.helper.getCanvas(),i=t.layerStatesArray[t.layerIndex],n=i.opacity;return n!==parseFloat(r.style.opacity)&&(r.style.opacity=String(n)),this.hitDetectionEnabled_&&(this.renderHitDetection(t),this.hitRenderTarget_.clearCachedData()),this.postRender(t),r},e.prototype.prepareFrame=function(t){var e=this.getLayer(),r=e.getSource(),i=t.viewState,n=!t.viewHints[br["a"].ANIMATING]&&!t.viewHints[br["a"].INTERACTING],o=!Object(at["p"])(this.previousExtent_,t.extent),a=this.sourceRevision_<r.getRevision();if(a&&(this.sourceRevision_=r.getRevision()),n&&(o||a)){var s=i.projection,c=i.resolution,u=e instanceof yr["a"]?e.getRenderBuffer():0,h=Object(at["c"])(t.extent,u*c);r.loadFeatures(h,c,s),this.rebuildBuffers_(t),this.previousExtent_=t.extent.slice()}return this.helper.makeProjectionTransform(t,this.currentTransform_),Object(Vr["f"])(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(t),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},e.prototype.rebuildBuffers_=function(t){var e=Object(Vr["c"])();this.helper.makeProjectionTransform(t,e);var r,i,n=(2+this.customAttributes.length)*this.featureCount_;if(this.renderInstructions_&&this.renderInstructions_.length===n||(this.renderInstructions_=new Float32Array(n)),this.hitDetectionEnabled_){var o=(7+this.customAttributes.length)*this.featureCount_;this.hitRenderInstructions_&&this.hitRenderInstructions_.length===o||(this.hitRenderInstructions_=new Float32Array(o))}var a,s=[],c=[],u=0,h=0;for(var l in this.featureCache_)if(r=this.featureCache_[l],i=r.geometry,i&&i.getType()===vr["a"].POINT){s[0]=i.getFlatCoordinates()[0],s[1]=i.getFlatCoordinates()[1],Object(Vr["a"])(e,s),a=oi(h+6,c),this.renderInstructions_[u++]=s[0],this.renderInstructions_[u++]=s[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[h++]=s[0],this.hitRenderInstructions_[h++]=s[1],this.hitRenderInstructions_[h++]=a[0],this.hitRenderInstructions_[h++]=a[1],this.hitRenderInstructions_[h++]=a[2],this.hitRenderInstructions_[h++]=a[3],this.hitRenderInstructions_[h++]=Number(l));for(var p=void 0,f=0;f<this.customAttributes.length;f++)p=this.customAttributes[f].callback(r.feature,r.properties),this.renderInstructions_[u++]=p,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[h++]=p)}var d={type:ii.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(d["projectionTransform"]=e,this.worker_.postMessage(d,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var g={type:ii.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};g["projectionTransform"]=e,g["hitDetection"]=!0,this.worker_.postMessage(g,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,i,n){if(Object(Rt["a"])(this.hitDetectionEnabled_,66),this.hitRenderInstructions_){var o=Object(Vr["a"])(e.coordinateToPixelTransform,t.slice()),a=this.hitRenderTarget_.readPixel(o[0]/2,o[1]/2),s=[a[0]/255,a[1]/255,a[2]/255,a[3]/255],c=ai(s),u=this.hitRenderInstructions_[c],h=Math.floor(u).toString(),l=this.getLayer().getSource(),p=l.getFeatureByUid(h);return p?i(p,this.getLayer(),null):void 0}},e.prototype.renderHitDetection=function(t){if(this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);var e=this.indicesBuffer_.getSize();this.helper.drawElements(0,e)}},e.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach((function(t){Object(gi["c"])(t)})),this.sourceListenKeys_=null,t.prototype.disposeInternal.call(this)},e}(si),vi=yi,mi=r("7fc9"),bi=r("0999"),Oi=r("e269"),Ei=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),wi={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},Si=["#00f","#0ff","#0f0","#ff0","#f00"],Ri=function(t){function e(e){var r=this,i=e||{},n=Object(Q["a"])({},i);delete n.gradient,delete n.radius,delete n.blur,delete n.weight,r=t.call(this,n)||this,r.gradient_=null,r.addEventListener(Object(Oi["b"])(wi.GRADIENT),r.handleGradientChanged_),r.setGradient(i.gradient?i.gradient:Si),r.setBlur(void 0!==i.blur?i.blur:15),r.setRadius(void 0!==i.radius?i.radius:8);var o=i.weight?i.weight:"weight";return r.weightFunction_="string"===typeof o?function(t){return t.get(o)}:o,r.setRenderOrder(null),r}return Ei(e,t),e.prototype.getBlur=function(){return this.get(wi.BLUR)},e.prototype.getGradient=function(){return this.get(wi.GRADIENT)},e.prototype.getRadius=function(){return this.get(wi.RADIUS)},e.prototype.handleGradientChanged_=function(){this.gradient_=Ti(this.getGradient())},e.prototype.setBlur=function(t){this.set(wi.BLUR,t)},e.prototype.setGradient=function(t){this.set(wi.GRADIENT,t)},e.prototype.setRadius=function(t){this.set(wi.RADIUS,t)},e.prototype.createRenderer=function(){return new vi(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(t){var e=this.weightFunction_(t);return void 0!==e?Object(mi["a"])(e,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }",fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }",hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }",hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }",uniforms:{u_size:function(){return 2*(this.get(wi.RADIUS)+this.get(wi.BLUR))}.bind(this),u_blurSlope:function(){return this.get(wi.RADIUS)/Math.max(1,this.get(wi.BLUR))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})},e.prototype.renderDeclutter=function(){},e}(u["a"]);function Ti(t){for(var e=1,r=256,i=Object(bi["a"])(e,r),n=i.createLinearGradient(0,0,e,r),o=1/(t.length-1),a=0,s=t.length;a<s;++a)n.addColorStop(a*o,t[a]);return i.fillStyle=n,i.fillRect(0,0,e,r),i.canvas}var Li=Ri;window.ol&&(ol.ext.input={});var Ci=function(t){t=t||{},Oi["a"].call(this);var e,r=this.input=t.input;r||(r=this.input=document.createElement("INPUT"),t.type&&r.setAttribute("type",t.type),void 0!==t.min&&r.setAttribute("min",t.min),void 0!==t.max&&r.setAttribute("max",t.max),void 0!==t.step&&r.setAttribute("step",t.step),t.parent&&t.parent.appendChild(r)),t.disabled&&(r.disabled=!0),void 0!==t.checked&&(r.checked=!!t.checked),void 0!==t.val&&(r.value=t.val),t.hidden&&(r.style.display="none"),r.addEventListener("focus",function(){this.element&&this.element.classList.add("ol-focus")}.bind(this)),r.addEventListener("focusout",function(){this.element&&(e&&clearTimeout(e),e=setTimeout(function(){this.element.classList.remove("ol-focus")}.bind(this),0))}.bind(this))};lr(Ci,Oi["a"]),Ci.prototype._listenDrag=function(t,e){var r=function(r){this.moving=!0,this.element.classList.add("ol-moving");var i=function(r){"pointerup"===r.type&&(document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",i),document.removeEventListener("pointercancel",i),setTimeout(function(){this.moving=!1,this.element.classList.remove("ol-moving")}.bind(this))),r.target===t&&e(r),r.stopPropagation(),r.preventDefault()}.bind(this);document.addEventListener("pointermove",i,!1),document.addEventListener("pointerup",i,!1),document.addEventListener("pointercancel",i,!1),r.stopPropagation(),r.preventDefault()}.bind(this);t.addEventListener("mousedown",r,!1),t.addEventListener("touchstart",r,!1)},Ci.prototype.setValue=function(t){void 0!==t&&(this.input.value=t),this.input.dispatchEvent(new Event("change"))},Ci.prototype.getValue=function(){return this.input.value},Ci.prototype.getInputElement=function(){return this.input};var Ii=Ci,xi=function(t){t=t||{},Ii.call(this,t);var e=this.element=document.createElement("LABEL");t.html instanceof Element?e.appendChild(t.html):void 0!==t.html&&(e.innerHTML=t.html),e.className=("ol-ext-check ol-ext-checkbox "+(t.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(e,this.input),e.appendChild(this.input),e.appendChild(document.createElement("SPAN")),t.after&&e.appendChild(document.createTextNode(t.after)),this.input.addEventListener("change",function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}.bind(this))};lr(xi,Ii),xi.prototype.isChecked=function(){return this.input.checked};var Pi=xi,Ni=function(t){t=t||{},Pi.call(this,t),this.element.className=("ol-ext-toggle-switch "+(t.className||"")).trim()};lr(Ni,Pi);var Ai=Ni,Mi=function(t){t=t||{},Pi.call(this,t),this.element.className=("ol-ext-check ol-ext-radio "+(t.className||"")).trim()};lr(Mi,Pi);var Fi=Mi,ji={create:function(t,e){var r;if(e=e||{},"TEXT"===t)r=document.createTextNode(e.html||""),e.parent&&e.parent.appendChild(r);else for(var i in r=document.createElement(t),/button/i.test(t)&&r.setAttribute("type","button"),e)switch(i){case"className":e.className&&e.className.trim&&r.setAttribute("class",e.className.trim());break;case"text":r.innerText=e.text;break;case"html":e.html instanceof Element?r.appendChild(e.html):void 0!==e.html&&(r.innerHTML=e.html);break;case"parent":e.parent&&e.parent.appendChild(r);break;case"options":if(/select/i.test(t))for(var n in e.options)ji.create("OPTION",{html:n,value:e.options[n],parent:r});break;case"style":ji.setStyle(r,e.style);break;case"change":case"click":ji.addListener(r,i,e[i]);break;case"on":for(var o in e.on)ji.addListener(r,o,e.on[o]);break;case"checked":r.checked=!!e.checked;break;default:r.setAttribute(i,e[i]);break}return r},createSwitch:function(t){var e=ji.create("INPUT",{type:"checkbox",on:t.on,click:t.click,change:t.change,parent:t.parent}),r=Object.assign({input:e},t||{});return new Ai(r),e},createCheck:function(t){var e=ji.create("INPUT",{name:t.name,type:"radio"===t.type?"radio":"checkbox",on:t.on,parent:t.parent}),r=Object.assign({input:e},t||{});return"radio"===t.type?new Fi(r):new Pi(r),e},setHTML:function(t,e){e instanceof Element?t.appendChild(e):void 0!==e&&(t.innerHTML=e)},appendText:function(t,e){t.appendChild(document.createTextNode(e||""))},addListener:function(t,e,r,i){"string"===typeof e&&(e=e.split(" ")),e.forEach((function(e){t.addEventListener(e,r,i)}))},removeListener:function(t,e,r){"string"===typeof e&&(e=e.split(" ")),e.forEach((function(e){t.removeEventListener(e,r)}))},show:function(t){t.style.display=""},hide:function(t){t.style.display="none"},hidden:function(t){return"none"===ji.getStyle(t,"display")},toggle:function(t){t.style.display="none"===t.style.display?"":"none"},setStyle:function(t,e){for(var r in e)switch(r){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":"number"===typeof e[r]?t.style[r]=e[r]+"px":t.style[r]=e[r];break;default:t.style[r]=e[r]}},getStyle:function(t,e){var r,i=(t.ownerDocument||document).defaultView;if(i&&i.getComputedStyle)e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),r=i.getComputedStyle(t,null).getPropertyValue(e);else if(t.currentStyle&&(e=e.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()})),r=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(r)))return function(e){var r=t.style.left,i=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft+"px",t.style.left=r,t.runtimeStyle.left=i,e}(r);return/px$/.test(r)?parseInt(r):r},outerHeight:function(t){return t.offsetHeight+ji.getStyle(t,"marginBottom")},outerWidth:function(t){return t.offsetWidth+ji.getStyle(t,"marginLeft")},offsetRect:function(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}},getFixedOffset:function(t){var e={left:0,top:0},r=function(t){if(!t)return e;if("absolute"===ji.getStyle(t,"position")&&"none"!==ji.getStyle(t,"transform")){var i=t.getBoundingClientRect();return e.left+=i.left,e.top+=i.top,e}return r(t.offsetParent)};return r(t.offsetParent)},positionRect:function(t,e){var r=0,i=0,n=function(o){if(o)return r+=o.offsetLeft,i+=o.offsetTop,n(o.offsetParent);var a={top:t.offsetTop+i,left:t.offsetLeft+r};return e&&(a.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,a.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),a.bottom=a.top+t.offsetHeight,a.right=a.top+t.offsetWidth,a};return n(t.offsetParent)},scrollDiv:function(t,e){e=e||{};var r,i,n,o,a,s=!1,c=0,u=0,h="function"===typeof e.onmove?e.onmove:function(){},l=e.vertical?"screenY":"screenX",p=e.vertical?"scrollTop":"scrollLeft",f=!1,d=0,g=function(){a&&(d++,setTimeout(_))},_=function(){if(a){if(d--,d)return;var e=t.clientHeight,r=t.scrollHeight;i=e/r,a.style.height=100*i+"%",a.style.top=t.scrollTop/r*100+"%",o.style.height=e+"px",e>r-.5?o.classList.add("ol-100pc"):o.classList.remove("ol-100pc")}},y=function(e){e.target.classList.contains("ol-noscroll")||(f=!1,s=e[l],u=new Date,t.classList.add("ol-move"),e.preventDefault(),window.addEventListener("pointermove",v),ji.addListener(window,["pointerup","pointercancel"],O))},v=function(e){if(f=!0,!1!==s){var o=(n?-1/i:1)*(s-e[l]);t[p]+=o,r=new Date,r-u&&(c=(c+o/(r-u))/2),s=e[l],u=r,o&&h(!0)}},m=function(e){var r=e>0?Math.min(100,e/2):Math.max(-100,e/2);e-=r,t[p]+=r,-1<e&&e<1?(f?setTimeout((function(){t.classList.remove("ol-move")})):t.classList.remove("ol-move"),f=!1,h(!1)):setTimeout((function(){m(e)}),40)};if(e.vertical&&e.minibar){var b=function(r){t.removeEventListener("pointermove",b),t.parentNode.classList.add("ol-miniscroll"),a=ji.create("DIV"),o=ji.create("DIV",{className:"ol-scroll",html:a}),t.parentNode.insertBefore(o,t),a.addEventListener("pointerdown",(function(t){n=!0,y(t)})),e.mousewheel&&(ji.addListener(o,["mousewheel","DOMMouseScroll","onmousewheel"],(function(t){E(t)})),ji.addListener(a,["mousewheel","DOMMouseScroll","onmousewheel"],(function(t){E(t)}))),t.parentNode.addEventListener("pointerenter",g),window.addEventListener("resize",g),!1!==r&&g()};t.parentNode?b(!1):t.addEventListener("pointermove",b),t.addEventListener("scroll",(function(){g()}))}t.style["touch-action"]="none",t.style["overflow"]="hidden",t.classList.add("ol-scrolldiv"),ji.addListener(t,["pointerdown"],(function(t){n=!1,y(t)})),t.addEventListener("click",(function(e){t.classList.contains("ol-move")&&(e.preventDefault(),e.stopPropagation())}),!0);var O=function(r){u=new Date-u,u>100||n?c=0:u>0&&(c=((c||0)+(s-r[l])/u)/2),m(!1===e.animate?0:200*c),s=!1,c=0,u=0,t.classList.contains("ol-move")?t.classList.remove("ol-hasClick"):(t.classList.add("ol-hasClick"),setTimeout((function(){t.classList.remove("ol-hasClick")}),500)),n=!1,window.removeEventListener("pointermove",v),ji.removeListener(window,["pointerup","pointercancel"],O)},E=function(e){var r=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return t.classList.add("ol-move"),t[p]-=30*r,t.classList.remove("ol-move"),!1};return e.mousewheel&&ji.addListener(t,["mousewheel","DOMMouseScroll","onmousewheel"],E),{refresh:g}},dispatchEvent:function(t,e){var r;try{r=new CustomEvent(t)}catch(i){r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,{})}e.dispatchEvent(r)}},Di=ji,Gi=function(t){t=t||{};var e,r=this;this.dcount=0,this.show_progress=t.show_progress,this.oninfo="function"==typeof t.oninfo?t.oninfo:null,this.onextent="function"==typeof t.onextent?t.onextent:null,this.hasextent=t.extent||t.onextent,this.hastrash=t.trash,this.reordering=!1!==t.reordering,this._layers=[],this._layerGroup=t.layerGroup&&t.layerGroup.getLayers?t.layerGroup:null,this.onchangeCheck="function"==typeof t.onchangeCheck?t.onchangeCheck:null,"function"===typeof t.displayInLayerSwitcher&&(this.displayInLayerSwitcher=t.displayInLayerSwitcher),t.target?e=Di.create("DIV",{className:t.switcherClass||"ol-layerswitcher"}):(e=Di.create("DIV",{className:(t.switcherClass||"ol-layerswitcher")+" ol-unselectable ol-control"}),!1!==t.collapsed?e.classList.add("ol-collapsed"):e.classList.add("ol-forceopen"),this.button=Di.create("BUTTON",{type:"button",parent:e}),this.button.addEventListener("touchstart",(function(t){e.classList.toggle("ol-forceopen"),e.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:e.classList.contains("ol-collapsed")}),t.preventDefault(),r.overflow()})),this.button.addEventListener("click",(function(){e.classList.toggle("ol-forceopen"),e.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!e.classList.contains("ol-forceopen")}),r.overflow()})),t.mouseover&&(e.addEventListener("mouseleave",(function(){e.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!0})})),e.addEventListener("mouseover",(function(){e.classList.remove("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!1})}))),t.minibar&&(t.noScroll=!0),t.noScroll||(this.topv=Di.create("DIV",{className:"ol-switchertopdiv",parent:e,click:function(){r.overflow("+50%")}}),this.botv=Di.create("DIV",{className:"ol-switcherbottomdiv",parent:e,click:function(){r.overflow("-50%")}})),this._noScroll=t.noScroll),this.panel_=Di.create("UL",{className:"panel"}),this.panelContainer_=Di.create("DIV",{className:"panel-container",html:this.panel_,parent:e}),t.target||t.noScroll||Di.addListener(this.panel_,"mousewheel DOMMouseScroll onmousewheel",(function(t){r.overflow(Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)))&&(t.stopPropagation(),t.preventDefault())})),this.header_=Di.create("LI",{className:"ol-header",parent:this.panel_}),fr["a"].call(this,{element:e,target:t.target}),this.set("drawDelay",t.drawDelay||0),this.set("selection",t.selection),t.minibar&&setTimeout(function(){var t=Di.scrollDiv(this.panelContainer_,{mousewheel:!0,vertical:!0,minibar:!0});this.on(["drawlist","toggle"],(function(){t.refresh()}))}.bind(this))};lr(Gi,fr["a"]),Gi.prototype.tip={up:"up/down",down:"down",info:"informations...",extent:"zoom to extent",trash:"remove layer",plus:"expand/shrink"},Gi.prototype.displayInLayerSwitcher=function(t){return!1!==t.get("displayInLayerSwitcher")},Gi.prototype.setMap=function(t){if(fr["a"].prototype.setMap.call(this,t),this.drawPanel(),this._listener)for(var e in this._listener)Object(pr["b"])(this._listener[e]);this._listener=null,t&&(this._listener={moveend:t.on("moveend",this.viewChange.bind(this)),size:t.on("change:size",this.overflow.bind(this))},this._layerGroup?this._listener.change=this._layerGroup.getLayers().on("change:length",this.drawPanel.bind(this)):this._listener.change=t.getLayerGroup().getLayers().on("change:length",this.drawPanel.bind(this)))},Gi.prototype.show=function(){this.element.classList.add("ol-forceopen"),this.overflow(),self.dispatchEvent({type:"toggle",collapsed:!1})},Gi.prototype.hide=function(){this.element.classList.remove("ol-forceopen"),this.overflow(),self.dispatchEvent({type:"toggle",collapsed:!0})},Gi.prototype.toggle=function(){this.element.classList.toggle("ol-forceopen"),this.overflow()},Gi.prototype.isOpen=function(){return this.element.classList.contains("ol-forceopen")},Gi.prototype.setHeader=function(t){Di.setHTML(this.header_,t)},Gi.prototype.overflow=function(t){if(this.button&&!this._noScroll){if(Di.hidden(this.panel_))return void Di.setStyle(this.element,{height:"auto"});var e=Di.outerHeight(this.element),r=Di.outerHeight(this.panel_),i=this.button.offsetTop+Di.outerHeight(this.button),n=this.panel_.offsetTop-i;if(r>e-i){Di.setStyle(this.element,{height:"100%"});var o=this.panel_.querySelectorAll("li.visible .li-content")[0],a=o?2*Di.getStyle(o,"height"):0;switch(t){case 1:n+=a;break;case-1:n-=a;break;case"+50%":n+=Math.round(e/2);break;case"-50%":n-=Math.round(e/2);break;default:break}return n+r<=e-3*i/2?(n=e-3*i/2-r,Di.hide(this.botv)):Di.show(this.botv),n>=0?(n=0,Di.hide(this.topv)):Di.show(this.topv),Di.setStyle(this.panel_,{top:n+"px"}),!0}return Di.setStyle(this.element,{height:"auto"}),Di.setStyle(this.panel_,{top:0}),Di.hide(this.botv),Di.hide(this.topv),!1}return!1},Gi.prototype._setLayerForLI=function(t,e){var r=[];e.getLayers&&r.push(e.getLayers().on("change:length",this.drawPanel.bind(this))),t&&(r.push(e.on("change:opacity",function(){this.setLayerOpacity(e,t)}.bind(this))),r.push(e.on("change:visible",function(){this.setLayerVisibility(e,t)}.bind(this)))),r.push(e.on("propertychange",function(t){"displayInLayerSwitcher"!==t.key&&"openInLayerSwitcher"!==t.key&&"title"!==t.key&&"name"!==t.key||this.drawPanel(t)}.bind(this))),this._layers.push({li:t,layer:e,listeners:r})},Gi.prototype.setLayerOpacity=function(t,e){var r=e.querySelector(".layerswitcher-opacity-cursor");r&&(r.style.left=100*t.getOpacity()+"%"),this.dispatchEvent({type:"layer:opacity",layer:t})},Gi.prototype.setLayerVisibility=function(t,e){var r=e.querySelector(".ol-visibility");r&&(r.checked=t.getVisible()),t.getVisible()?e.classList.add("ol-visible"):e.classList.remove("ol-visible"),this.dispatchEvent({type:"layer:visible",layer:t})},Gi.prototype._clearLayerForLI=function(){this._layers.forEach((function(t){t.listeners.forEach((function(t){Object(pr["b"])(t)}))})),this._layers=[]},Gi.prototype._getLayerForLI=function(t){for(var e,r=0;e=this._layers[r];r++)if(e.li===t)return e.layer;return null},Gi.prototype.viewChange=function(){this.panel_.querySelectorAll("li").forEach(function(t){var e=this._getLayerForLI(t);e&&(this.testLayerVisibility(e)?t.classList.remove("ol-layer-hidden"):t.classList.add("ol-layer-hidden"))}.bind(this))},Gi.prototype.getPanel=function(){return this.panelContainer_},Gi.prototype.drawPanel=function(){if(this.getMap()){var t=this;this.dcount++,setTimeout((function(){t.drawPanel_()}),this.get("drawDelay")||0)}},Gi.prototype.drawPanel_=function(){if(!--this.dcount&&!this.dragging_){var t=this.panelContainer_.scrollTop;this._clearLayerForLI(),this.panel_.querySelectorAll("li").forEach(function(t){t.classList.contains("ol-header")||t.remove()}.bind(this)),this._layerGroup?this.drawList(this.panel_,this._layerGroup.getLayers()):this.getMap()&&this.drawList(this.panel_,this.getMap().getLayers()),this.panelContainer_.scrollTop=t}},Gi.prototype.switchLayerVisibility=function(t,e){t.get("baseLayer")?(t.getVisible()||t.setVisible(!0),e.forEach((function(e){t!==e&&e.get("baseLayer")&&e.getVisible()&&e.setVisible(!1)}))):t.setVisible(!t.getVisible())},Gi.prototype.testLayerVisibility=function(t){if(!this.getMap())return!0;var e=this.getMap().getView().getResolution(),r=this.getMap().getView().getZoom();if(t.getMaxResolution()<=e||t.getMinResolution()>=e)return!1;if(t.getMinZoom&&(t.getMinZoom()>=r||t.getMaxZoom()<r))return!1;var i=t.getExtent();if(i){var n=this.getMap().getView().calculateExtent(this.getMap().getSize());return Object(at["F"])(n,i)}return!0},Gi.prototype.dragOrdering_=function(t){t.stopPropagation(),t.preventDefault();var e,r,i,n,o,a=this,s=t.currentTarget.parentNode.parentNode,c=!0,u=this.panel_,h=t.pageY||t.touches&&t.touches.length&&t.touches[0].pageY||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageY;function l(){if(r){var t=n,e=a.getSelection()===t;if(t&&r){var c;c=o?o.getLayers():a._layerGroup?a._layerGroup.getLayers():a.getMap().getLayers();for(var u=c.getArray(),h=0;h<u.length;h++)if(u[h]==t){c.removeAt(h);break}for(var f=0;f<u.length;f++)if(u[f]===r){h>f?c.insertAt(f,t):c.insertAt(f+1,t);break}}e&&a.selectLayer(t),a.dispatchEvent({type:"reorder-end",layer:t,group:o})}s.parentNode.querySelectorAll("li").forEach((function(t){t.classList.remove("dropover"),t.classList.remove("dropover-after"),t.classList.remove("dropover-before")})),s.classList.remove("drag"),s.parentNode.classList.remove("drag"),a.element.classList.remove("drag"),i&&i.remove(),Di.removeListener(document,"mousemove touchmove",p),Di.removeListener(document,"mouseup touchend touchcancel",l)}function p(t){if(e=t.pageY||t.touches&&t.touches.length&&t.touches[0].pageY||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageY,c&&Math.abs(h-e)>2&&(c=!1,s.classList.add("drag"),n=a._getLayerForLI(s),r=!1,o=a._getLayerForLI(s.parentNode.parentNode),i=Di.create("LI",{className:"ol-dragover",html:s.innerHTML,style:{position:"absolute","z-index":1e4,left:s.offsetLeft,opacity:.5,width:Di.outerWidth(s),height:Di.getStyle(s,"height")},parent:u}),a.element.classList.add("drag"),a.dispatchEvent({type:"reorder-start",layer:n,group:o})),!c){var l;t.preventDefault(),t.stopPropagation(),Di.setStyle(i,{top:e-Di.offsetRect(u).top+u.scrollTop+5}),l=t.touches?document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY):t.target,l.classList.contains("ol-switcherbottomdiv")?a.overflow(-1):l.classList.contains("ol-switchertopdiv")&&a.overflow(1);while(l&&"LI"!==l.tagName)l=l.parentNode;l&&l.classList.contains("dropover")||s.parentNode.querySelectorAll("li").forEach((function(t){t.classList.remove("dropover"),t.classList.remove("dropover-after"),t.classList.remove("dropover-before")})),l&&l.parentNode.classList.contains("drag")&&l!==s?(r=a._getLayerForLI(l),r&&!r.get("allwaysOnTop")==!n.get("allwaysOnTop")?(l.classList.add("dropover"),l.classList.add(s.offsetTop<l.offsetTop?"dropover-after":"dropover-before")):r=!1,Di.show(i)):(r=!1,l===s?Di.hide(i):Di.show(i)),r?i.classList.remove("forbidden"):i.classList.add("forbidden")}}s.parentNode.classList.add("drag"),Di.addListener(document,"mousemove touchmove",p),Di.addListener(document,"mouseup touchend touchcancel",l)},Gi.prototype.dragOpacity_=function(t){t.stopPropagation(),t.preventDefault();var e=this,r=t.target,i=this._getLayerForLI(r.parentNode.parentNode.parentNode);if(i){var n=t.pageX||t.touches&&t.touches.length&&t.touches[0].pageX||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageX,o=Di.getStyle(r,"left")-n;e.dragging_=!0,Di.addListener(document,"mouseup touchend touchcancel",a),Di.addListener(document,"mousemove touchmove",s)}function a(){Di.removeListener(document,"mouseup touchend touchcancel",a),Di.removeListener(document,"mousemove touchmove",s),e.dragging_=!1}function s(t){var e=t.pageX||t.touches&&t.touches.length&&t.touches[0].pageX||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageX,n=(o+e)/Di.getStyle(r.parentNode,"width"),a=Math.max(0,Math.min(1,n));Di.setStyle(r,{left:100*a+"%"}),r.parentNode.nextElementSibling.innerHTML=Math.round(100*a),i.setOpacity(a)}},Gi.prototype.drawList=function(t,e){var r=this,i=e.getArray(),n=function(t){t.stopPropagation(),t.preventDefault();var i=r._getLayerForLI(this.parentNode.parentNode);r.switchLayerVisibility(i,e),r.get("selection")&&i.getVisible()&&r.selectLayer(i),r.onchangeCheck&&r.onchangeCheck(i)};function o(t){t.stopPropagation(),t.preventDefault();var e=r._getLayerForLI(this.parentNode.parentNode);r.oninfo(e),r.dispatchEvent({type:"info",layer:e})}function a(t){t.stopPropagation(),t.preventDefault();var e=r._getLayerForLI(this.parentNode.parentNode);r.onextent?r.onextent(e):r.getMap().getView().fit(e.getExtent(),r.getMap().getSize()),r.dispatchEvent({type:"extent",layer:e})}function s(t){t.stopPropagation(),t.preventDefault();var e,i=this.parentNode.parentNode.parentNode.parentNode,n=r._getLayerForLI(i);n?(e=r._getLayerForLI(this.parentNode.parentNode),n.getLayers().remove(e),0!=n.getLayers().getLength()||n.get("noSwitcherDelete")||s.call(i.querySelectorAll(".layerTrash")[0],t)):(i=this.parentNode.parentNode,r.getMap().removeLayer(r._getLayerForLI(i)))}function c(e){if(this.displayInLayerSwitcher(e)){var c=Di.create("LI",{className:(e.getVisible()?"visible ":" ")+(e.get("baseLayer")?"baselayer":""),parent:t});this._setLayerForLI(c,e),this._selectedLayer===e&&c.classList.add("ol-layer-select");var h=Di.create("DIV",{className:"ol-layerswitcher-buttons",parent:c}),l=Di.create("DIV",{className:"li-content",parent:c});Di.create("INPUT",{type:e.get("baseLayer")?"radio":"checkbox",className:"ol-visibility",checked:e.getVisible(),click:n,parent:l});var p=Di.create("LABEL",{title:e.get("title")||e.get("name"),click:n,unselectable:"on",style:{userSelect:"none"},parent:l});if(p.addEventListener("selectstart",(function(){return!1})),Di.create("SPAN",{html:e.get("title")||e.get("name"),click:function(t){this.get("selection")&&(t.stopPropagation(),this.selectLayer(e))}.bind(this),parent:p}),this.reordering&&(u<i.length-1&&(e.get("allwaysOnTop")||!i[u+1].get("allwaysOnTop"))||u>0&&(!e.get("allwaysOnTop")||i[u-1].get("allwaysOnTop")))&&Di.create("DIV",{className:"layerup ol-noscroll",title:this.tip.up,on:{"mousedown touchstart":function(t){r.dragOrdering_(t)}},parent:h}),e.getLayers){var f=0;e.getLayers().forEach((function(t){r.displayInLayerSwitcher(t)&&f++})),f&&Di.create("DIV",{className:e.get("openInLayerSwitcher")?"collapse-layers":"expend-layers",title:this.tip.plus,click:function(){var t=r._getLayerForLI(this.parentNode.parentNode);t.set("openInLayerSwitcher",!t.get("openInLayerSwitcher"))},parent:h})}if(this.oninfo&&Di.create("DIV",{className:"layerInfo",title:this.tip.info,click:o,parent:h}),this.hastrash&&!e.get("noSwitcherDelete")&&Di.create("DIV",{className:"layerTrash",title:this.tip.trash,click:s,parent:h}),this.hasextent&&i[u].getExtent()){var d=i[u].getExtent();4==d.length&&d[0]<d[2]&&d[1]<d[3]&&Di.create("DIV",{className:"layerExtent",title:this.tip.extent,click:a,parent:h})}if(this.show_progress&&e instanceof dr["a"]){var g=Di.create("DIV",{className:"layerswitcher-progress",parent:l});this.setprogress_(e),e.layerswitcher_progress=Di.create("DIV",{parent:g})}var _=Di.create("DIV",{className:"layerswitcher-opacity",click:function(t){if(t.target===this){t.stopPropagation(),t.preventDefault();var e=Math.max(0,Math.min(1,t.offsetX/Di.getStyle(this,"width")));r._getLayerForLI(this.parentNode.parentNode).setOpacity(e),this.parentNode.querySelectorAll(".layerswitcher-opacity-label")[0].innerHTML=Math.round(100*e)}},parent:l});if(Di.create("DIV",{className:"layerswitcher-opacity-cursor ol-noscroll",style:{left:100*e.getOpacity()+"%"},on:{"mousedown touchstart":function(t){r.dragOpacity_(t)}},parent:_}),Di.create("DIV",{className:"layerswitcher-opacity-label",html:Math.round(100*e.getOpacity()),parent:l}),e.getLayers&&(c.classList.add("ol-layer-group"),!0===e.get("openInLayerSwitcher"))){var y=Di.create("UL",{parent:c});this.drawList(y,e.getLayers())}c.classList.add(this.getLayerClass(e)),this.dispatchEvent({type:"drawlist",layer:e,li:c})}else this._setLayerForLI(null,e)}for(var u=i.length-1;u>=0;u--)c.call(this,i[u]);this.viewChange(),t===this.panel_&&this.overflow()},Gi.prototype.getLayerClass=function(t){return t?t.getLayers?"ol-layer-group":t instanceof u["a"]?"ol-layer-vector":t instanceof gr["a"]?"ol-layer-vectortile":t instanceof dr["a"]?"ol-layer-tile":t instanceof _r["a"]?"ol-layer-image":t instanceof Li?"ol-layer-heatmap":t.getFeatures?"ol-layer-vectorimage":"unknown":"none"},Gi.prototype.selectLayer=function(t,e){if(!t){if(!this.getMap())return;t=this.getMap().getLayers().item(this.getMap().getLayers().getLength()-1)}this._selectedLayer=t,this.drawPanel(),e||this.dispatchEvent({type:"select",layer:t})},Gi.prototype.getSelection=function(){return this._selectedLayer},Gi.prototype.setprogress_=function(t){if(!t.layerswitcher_progress){var e=0,r=0,i=function(){r===e?(r=e=0,Di.setStyle(t.layerswitcher_progress,{width:0})):Di.setStyle(t.layerswitcher_progress,{width:(e/r*100).toFixed(1)+"%"})};t.getSource().on("tileloadstart",(function(){r++,i()})),t.getSource().on("tileloadend",(function(){e++,i()})),t.getSource().on("tileloaderror",(function(){e++,i()}))}};var ki=Gi,Ui={props:["geoserverData"],data(){return{map:null,mapStyle:{height:"500px",width:"100%"},wmsLayer:null,baseimageLayer:null,gl30:null,a:1,draw:null,layerbox:"",getinfolayer:null,M1:null,M2:null,T1:null,T2:null}},mounted(){var t=this.$refs.rootmap;this.map=new o["a"]({target:t,layers:s["default"].streetmap(0),view:new a["a"]({projection:"EPSG:4326",center:[s["default"].x,s["default"].y],zoom:s["default"].zoom})}),this.map.addLayer(s["default"].TianMapZJ());const e=new ki({collapsed:!0,trash:!0});this.map.addControl(e),this.map2Parent()},created(){},watch:{geoserverData:{deep:!0,handler(t,e){t.workArea&&(1==this.a&&(this.baseimageLayer=s["default"].LoadGeoserverLayer(t.workArea,t.layers),this.map.addLayer(this.baseimageLayer),this.a=2),2==this.a&&(this.wmsLayer=s["default"].LoadGeoserverLayer(t.workArea,t.layers),this.map.addLayer(this.wmsLayer)),this.map2Parent()),""!=t.ws2&&""!=t.store_layer2&&""!=t.tifUrl2&&s["default"].GeoDataPublish(t.ws2,t.store_layer2,t.tifUrl2),t.drawInterrationBinary&&(null!=this.T1&&null!=this.T2?this.drawbox("GuiZhou"):this.$message.error("请选择时间！")),t.drawInterration&&(null!=this.T1&&null!=this.T2?this.drawbox(t.GL30CHangeType):this.$message.error("请选择时间！")),""!=t.T1&&""!=t.T2&&(this.T1=t.T1,this.T2=t.T2),""!=t.T1&&""!=t.T2&&(this.T1=t.T1,this.T2=t.T2),t.changeMapHeight&&(this.mapStyle.height=t.changeMapHeight,this.map.updateSize())}}},methods:{map2Parent(){this.$emit("map",this.map)},SwipeMap(t){let e=this;const r=document.getElementById("swipe");var i=t;i.on("prerender",(function(t){const i=t.context,n=e.map.getSize(),o=n[0]*(r.value/100),a=Object(c["a"])(t,[o,0]),s=Object(c["a"])(t,[n[0],0]),u=Object(c["a"])(t,[o,n[1]]),h=Object(c["a"])(t,n);i.save(),i.beginPath(),i.moveTo(a[0],a[1]),i.lineTo(u[0],u[1]),i.lineTo(h[0],h[1]),i.lineTo(s[0],s[1]),i.closePath(),i.clip()})),i.on("postrender",(function(t){const e=t.context;e.restore()}));const n=function(){e.map.render()};r.addEventListener("input",n),r.addEventListener("change",n)},drawbox(t){this.layerbox=new u["a"]({name:"区域选择",source:new h["a"],style:new l["c"]({stroke:new p["a"]({color:"red",width:2}),fill:new f["a"]({color:"rgba(255, 255, 255, 0.8)"})})});var e=this.draw;e=new g["b"]({source:this.layerbox.getSource(),type:"Circle",geometryFunction:Object(g["a"])()}),this.map.addInteraction(e);var r=this.map;let i=this;e.on("drawend",(function(n){r.removeInteraction(e);let o=JSON.parse((new d["a"]).writeFeature(n.feature));o.geometry.coordinates[0][0][0],o.geometry.coordinates[0][2][0],o.geometry.coordinates[0][0][1],o.geometry.coordinates[0][2][1];var a=n.feature,s=a.getGeometry().getExtent(),c=null;s&&s.length>0&&(c="",c+=s[0]+","+s[1]+" ",c+=s[0]+","+s[3]+" ",c+=s[2]+","+s[3]+" ",c+=s[2]+","+s[1]+" ",c+=s[0]+","+s[1]+" "),i.quertwfs(c,a,t),r.removeLayer(this.layerbox)}))},quertwfs(t,e,r){const i=new h["a"],n=new u["a"]({source:i,name:"渔网索引",style:new l["c"]({stroke:new p["a"]({color:"rgba(0, 0, 255, 1.0)",width:2})})});var o="GL30ZheJiangShp",a="GL30ZheJiangShp";"GuiZhou"==r?(o="GL30GuiZhouShp",a="GL30GuiZhouShp"):"Artifical"==r&&(o="GL30ZheJiangShp",a="GL30ZheJiangShp");var s=(new cr).writeGetFeature({srsName:"EPSG:4326",featureNS:"http://localhost/"+o,featurePrefix:o,featureTypes:[a],maxFeatures:5e3,outputFormat:"application/json",filter:pe("the_geom",e.getGeometry())}),c=this;fetch("http://172.31.41.229:8089/geoserver/wfs",{method:"POST",body:(new XMLSerializer).serializeToString(s)}).then((function(t){return console.log(t),t.json()})).then((function(t){const e=(new d["a"]).readFeatures(t);i.addFeatures(e),c.map.getView().fit(i.getExtent()),c.map.addLayer(n),c.AddMoreWmsLayers(e,r)})).catch((function(t){c.$emit("consoleInfoMap","ERROR:该区域无数据！")}))},AddMoreWmsLayers(t,e){for(var r=[],i=[],n=0;n<t.length;n++){var o=t[n].values_.select,a=t.length;console.log(o),"GuiZhou"==e?(o-=520,r[n]=o,this.map.addLayer(s["default"].GL30GuiZhou(this.T1,this.T2,o)),i[n]="guizhou_"+this.T1+"_"+this.T2+"_binaryS_"+o+".tif"):"Artifical"==e?(o-=330,r[n]=o,this.map.addLayer(s["default"].GL30Articial(this.T1,o)),this.map.addLayer(s["default"].GL30Articial(this.T2,o))):(o-=330,r[n]=o,this.map.addLayer(s["default"].GL30ZheJiang(this.T1,o)),this.map.addLayer(s["default"].GL30ZheJiang(this.T2,o)));var c=[a,r];this.$emit("getRasterInfo",c)}var u=[];u[n]=i,this.$emit("downBinartTif",u)},getwmsinfo(t){this.getinfolayer=s["default"].GL30ZheJiangIndex();var e=this.map.getView().getResolution(),r=this.getinfolayer.getSource().getFeatureInfoUrl(t,e,"EPSG:4326",{INFO_FORMAT:"application/json"});r&&fetch(r).then((function(t){return t.text()})).then(t=>{let e=JSON.parse(t);var r=e.features[0].properties.GRAY_INDEX;this.$emit("getRasterInfo",r-330)})}}},Bi=Ui,Yi=(r("9dc6"),r("2877")),Xi=Object(Yi["a"])(Bi,i,n,!1,null,null,null);e["default"]=Xi.exports},"25a5":function(t,e,r){!function(e,r){t.exports=r()}(0,(function(){"use strict";function t(t,i,n,o,a){!function t(r,i,n,o,a){for(;o>n;){if(o-n>600){var s=o-n+1,c=i-n+1,u=Math.log(s),h=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*h*(s-h)/s)*(c-s/2<0?-1:1),p=Math.max(n,Math.floor(i-c*h/s+l)),f=Math.min(o,Math.floor(i+(s-c)*h/s+l));t(r,i,p,f,a)}var d=r[i],g=n,_=o;for(e(r,n,i),a(r[o],d)>0&&e(r,n,o);g<_;){for(e(r,g,_),g++,_--;a(r[g],d)<0;)g++;for(;a(r[_],d)>0;)_--}0===a(r[n],d)?e(r,n,_):e(r,++_,o),_<=i&&(n=_+1),i<=_&&(o=_-1)}}(t,i,n||0,o||t.length-1,a||r)}function e(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function r(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function n(t,e,r){if(!r)return e.indexOf(t);for(var i=0;i<e.length;i++)if(r(t,e[i]))return i;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,r,i,n){n||(n=d(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var o=e;o<r;o++){var a=t.children[o];s(n,t.leaf?i(a):a)}return n}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,r,i,n,o){for(var a=[r,i];a.length;)if(!((i=a.pop())-(r=a.pop())<=n)){var s=r+Math.ceil((i-r)/n/2)*n;t(e,s,r,i,o),a.push(r,s,s,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,r=[];if(!f(t,e))return r;for(var i=this.toBBox,n=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?i(a):a;f(t,s)&&(e.leaf?r.push(a):p(t,s)?this._all(a,r):n.push(a))}e=n.pop()}return r},i.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var r=[];e;){for(var i=0;i<e.children.length;i++){var n=e.children[i],o=e.leaf?this.toBBox(n):n;if(f(t,o)){if(e.leaf||p(t,o))return!0;r.push(n)}}e=r.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=d([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var r,i,o,a=this.data,s=this.toBBox(t),c=[],u=[];a||c.length;){if(a||(a=c.pop(),i=c[c.length-1],r=u.pop(),o=!0),a.leaf){var h=n(t,a.children,e);if(-1!==h)return a.children.splice(h,1),c.push(a),this._condense(c),this}o||a.leaf||!p(a,s)?i?(r++,a=i.children[r],o=!1):a=null:(c.push(a),u.push(r),r=0,i=a,a=a.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},i.prototype._build=function(t,e,r,i){var n,a=r-e+1,s=this._maxEntries;if(a<=s)return o(n=d(t.slice(e,r+1)),this.toBBox),n;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),(n=d([])).leaf=!1,n.height=i;var c=Math.ceil(a/s),u=c*Math.ceil(Math.sqrt(s));g(t,e,r,u,this.compareMinX);for(var h=e;h<=r;h+=u){var l=Math.min(h+u-1,r);g(t,h,l,c,this.compareMinY);for(var p=h;p<=l;p+=c){var f=Math.min(p+c-1,l);n.children.push(this._build(t,p,f,i-1))}}return o(n,this.toBBox),n},i.prototype._chooseSubtree=function(t,e,r,i){for(;i.push(e),!e.leaf&&i.length-1!==r;){for(var n=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var c=e.children[s],u=h(c),l=(p=t,f=c,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-u);l<o?(o=l,n=u<n?u:n,a=c):l===o&&u<n&&(n=u,a=c)}e=a||e.children[0]}var p,f;return e},i.prototype._insert=function(t,e,r){var i=r?t:this.toBBox(t),n=[],o=this._chooseSubtree(i,this.data,e,n);for(o.children.push(t),s(o,i);e>=0&&n[e].children.length>this._maxEntries;)this._split(n,e),e--;this._adjustParentBBoxes(i,n,e)},i.prototype._split=function(t,e){var r=t[e],i=r.children.length,n=this._minEntries;this._chooseSplitAxis(r,n,i);var a=this._chooseSplitIndex(r,n,i),s=d(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,o(r,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(r,s)},i.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,r){for(var i,n,o,s,c,u,l,p=1/0,f=1/0,d=e;d<=r-e;d++){var g=a(t,0,d,this.toBBox),_=a(t,d,r,this.toBBox),y=(n=g,o=_,s=void 0,c=void 0,u=void 0,l=void 0,s=Math.max(n.minX,o.minX),c=Math.max(n.minY,o.minY),u=Math.min(n.maxX,o.maxX),l=Math.min(n.maxY,o.maxY),Math.max(0,u-s)*Math.max(0,l-c)),v=h(g)+h(_);y<p?(p=y,i=d,f=v<f?v:f):y===p&&v<f&&(f=v,i=d)}return i||r-e},i.prototype._chooseSplitAxis=function(t,e,r){var i=t.leaf?this.compareMinX:c,n=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,r,i)<this._allDistMargin(t,e,r,n)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,e,r,i){t.children.sort(i);for(var n=this.toBBox,o=a(t,0,e,n),c=a(t,r-e,r,n),u=l(o)+l(c),h=e;h<r-e;h++){var p=t.children[h];s(o,t.leaf?n(p):p),u+=l(o)}for(var f=r-e-1;f>=e;f--){var d=t.children[f];s(c,t.leaf?n(d):d),u+=l(c)}return u},i.prototype._adjustParentBBoxes=function(t,e,r){for(var i=r;i>=0;i--)s(e[i],t)},i.prototype._condense=function(t){for(var e=t.length-1,r=void 0;e>=0;e--)0===t[e].children.length?e>0?(r=t[e-1].children).splice(r.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},i}))},"399c":function(t,e,r){"use strict";r.d(e,"a",(function(){return h})),r.d(e,"b",(function(){return l}));var i=r("c946"),n=r("f623"),o=r("82b0"),a=r("6cbf"),s=r("0999"),c=r("0af5"),u=r("9f5e");function h(t,e,r,h,l,p,f){var d=t[0]/2,g=t[1]/2,_=Object(s["a"])(d,g);_.imageSmoothingEnabled=!1;for(var y=_.canvas,v=new i["a"](_,.5,l,null,f),m=r.length,b=Math.floor(16777215/m),O={},E=1;E<=m;++E){var w=r[E-1],S=w.getStyleFunction()||h;if(h){var R=S(w,p);if(R){Array.isArray(R)||(R=[R]);for(var T=E*b,L="#"+("000000"+T.toString(16)).slice(-6),C=0,I=R.length;C<I;++C){var x=R[C],P=x.clone(),N=P.getFill();N&&N.setColor(L);var A=P.getStroke();A&&A.setColor(L),P.setText(void 0);var M=x.getImage();if(M){var F=M.getImageSize();if(!F)continue;var j=document.createElement("canvas");j.width=F[0],j.height=F[1];var D=j.getContext("2d",{alpha:!1});D.fillStyle=L;var G=D.canvas;D.fillRect(0,0,G.width,G.height);var k=F?F[0]:G.width,U=F?F[1]:G.height,B=Object(s["a"])(k,U);B.drawImage(G,0,0),P.setImage(new a["a"]({img:G,imgSize:F,anchor:M.getAnchor(),anchorXUnits:o["a"].PIXELS,anchorYUnits:o["a"].PIXELS,offset:M.getOrigin(),size:M.getSize(),opacity:M.getOpacity(),scale:M.getScale(),rotation:M.getRotation(),rotateWithView:M.getRotateWithView()}))}var Y=Number(P.getZIndex()),X=O[Y];X||(X={},O[Y]=X,X[n["a"].POLYGON]=[],X[n["a"].CIRCLE]=[],X[n["a"].LINE_STRING]=[],X[n["a"].POINT]=[]);var W=P.getGeometryFunction()(w);W&&Object(c["F"])(l,W.getExtent())&&X[W.getType().replace("Multi","")].push(W,P)}}}}for(var z=Object.keys(O).map(Number).sort(u["g"]),V=(E=0,z.length);E<V;++E){X=O[z[E]];for(var H in X){var Z=X[H];for(C=0,I=Z.length;C<I;C+=2){v.setStyle(Z[C+1]);for(var q=0,J=e.length;q<J;++q)v.setTransform(e[q]),v.drawGeometry(Z[C])}}}return _.getImageData(0,0,y.width,y.height)}function l(t,e,r){var i=[];if(r){var n=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*r.width),o=r.data[n],a=r.data[n+1],s=r.data[n+2],c=s+256*(a+256*o),u=Math.floor(16777215/e.length);c&&c%u===0&&i.push(e[c/u-1])}return i}},"3e6b":function(t,e,r){"use strict";var i=r("ae50"),n=r("dbba"),o=r("137e"),a=r("e8b8"),s=r("496f"),c=r("a896"),u=r("0af5"),h=r("399c"),l=r("30d1"),p=r("256f"),f=r("1300"),d=r("a568"),g=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),_=function(t){function e(e){var r=t.call(this,e)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.dirty_=!1,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=Object(u["j"])(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r}return g(e,t),e.prototype.useContainer=function(e,r,i){i<1&&(e=null),t.prototype.useContainer.call(this,e,r,i)},e.prototype.renderWorlds=function(t,e,r){var i=e.extent,n=e.viewState,o=n.center,a=n.resolution,c=n.projection,h=n.rotation,l=c.getExtent(),p=this.getLayer().getSource(),f=e.pixelRatio,d=e.viewHints,g=!(d[s["a"].ANIMATING]||d[s["a"].INTERACTING]),_=this.context,y=Math.round(e.size[0]*f),v=Math.round(e.size[1]*f),m=p.getWrapX()&&c.canWrapX(),b=m?Object(u["E"])(l):null,O=m?Math.ceil((i[2]-l[2])/b)+1:1,E=m?Math.floor((i[0]-l[0])/b):0;do{var w=this.getRenderTransform(o,a,h,f,y,v,E*b);t.execute(_,1,w,h,g,void 0,r)}while(++E<O)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,e){var r=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];Object(c["e"])(this.pixelTransform,1/r,1/r),Object(c["d"])(this.inversePixelTransform,this.pixelTransform);var n=Object(c["k"])(this.pixelTransform);this.useContainer(e,n,i.opacity);var o=this.context,a=o.canvas,s=this.replayGroup_,h=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!h||h.isEmpty()))return!this.containerReused&&a.width>0&&(a.width=0),this.container;var l=Math.round(t.size[0]*r),f=Math.round(t.size[1]*r);a.width!=l||a.height!=f?(a.width=l,a.height=f,a.style.transform!==n&&(a.style.transform=n)):this.containerReused||o.clearRect(0,0,l,f),this.preRender(o,t);var d=t.viewState,g=d.projection,_=!1;if(i.extent&&this.clipping){var y=Object(p["e"])(i.extent,g);_=!Object(u["g"])(y,t.extent)&&Object(u["F"])(y,t.extent),_&&this.clipUnrotated(o,t,y)}this.renderWorlds(s,t),_&&o.restore(),this.postRender(o,t);var v=i.opacity,m=this.container;return v!==parseFloat(m.style.opacity)&&(m.style.opacity=1===v?"":String(v)),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var r=[this.context.canvas.width,this.context.canvas.height];Object(c["a"])(this.pixelTransform,r);var i=this.renderedCenter_,n=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,s=this.renderedExtent_,l=this.getLayer(),p=[],f=r[0]/2,d=r[1]/2;p.push(this.getRenderTransform(i,n,o,.5,f,d,0).slice());var g=l.getSource(),_=a.getExtent();if(g.getWrapX()&&a.canWrapX()&&!Object(u["g"])(_,s)){var y=s[0],v=Object(u["E"])(_),m=0,b=void 0;while(y<_[0])--m,b=v*m,p.push(this.getRenderTransform(i,n,o,.5,f,d,b).slice()),y+=v;m=0,y=s[2];while(y>_[2])++m,b=v*m,p.push(this.getRenderTransform(i,n,o,.5,f,d,b).slice()),y-=v}this.hitDetectionImageData_=Object(h["a"])(r,p,this.renderedFeatures_,l.getStyleFunction(),s,n,o)}e(Object(h["b"])(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,i,n){var o=this;if(this.replayGroup_){var a,s=e.viewState.resolution,c=e.viewState.rotation,u=this.getLayer(),h={},l=function(t,e,r){var o=Object(f["c"])(t),a=h[o];if(a){if(!0!==a&&r<a.distanceSq){if(0===r)return h[o]=!0,n.splice(n.lastIndexOf(a),1),i(t,u,e);a.geometry=e,a.distanceSq=r}}else{if(0===r)return h[o]=!0,i(t,u,e);n.push(h[o]={feature:t,layer:u,geometry:e,distanceSq:r,callback:i})}},p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some((function(i){return a=i.forEachFeatureAtCoordinate(t,s,c,r,l,i===o.declutterExecutorGroup?e.declutterTree.all().map((function(t){return t.value})):null)})),a}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),r=e.getSource();if(!r)return!1;var i=t.viewHints[s["a"].ANIMATING],o=t.viewHints[s["a"].INTERACTING],c=e.getUpdateWhileAnimating(),h=e.getUpdateWhileInteracting();if(!this.dirty_&&!c&&i||!h&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var f=t.extent,g=t.viewState,_=g.projection,y=g.resolution,v=t.pixelRatio,m=e.getRevision(),b=e.getRenderBuffer(),O=e.getRenderOrder();void 0===O&&(O=l["a"]);var E=g.center.slice(),w=Object(u["c"])(f,b*y),S=[w.slice()],R=_.getExtent();if(r.getWrapX()&&_.canWrapX()&&!Object(u["g"])(R,t.extent)){var T=Object(u["E"])(R),L=Math.max(Object(u["E"])(w)/2,T);w[0]=R[0]-L,w[2]=R[2]+L,Object(d["g"])(E,_);var C=Object(u["K"])(S[0],_);C[0]<R[0]&&C[2]<R[2]?S.push([C[0]+T,C[1],C[2]+T,C[3]]):C[0]>R[0]&&C[2]>R[2]&&S.push([C[0]-T,C[1],C[2]-T,C[3]])}if(!this.dirty_&&this.renderedResolution_==y&&this.renderedRevision_==m&&this.renderedRenderOrder_==O&&Object(u["g"])(this.renderedExtent_,w))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var I,x=new n["a"](Object(l["c"])(y,v),w,y,v);this.getLayer().getDeclutter()&&(I=new n["a"](Object(l["c"])(y,v),w,y,v));var P,N=Object(p["j"])();if(N){for(var A=0,M=S.length;A<M;++A)r.loadFeatures(Object(p["l"])(S[A],_),y,N);P=Object(p["i"])(N,_)}else for(A=0,M=S.length;A<M;++A)r.loadFeatures(S[A],y,_);var F=Object(l["b"])(y,v),j=function(t){var r,i=t.getStyleFunction()||e.getStyleFunction();if(i&&(r=i(t,y)),r){var n=this.renderFeature(t,F,r,x,P,I);this.dirty_=this.dirty_||n}}.bind(this),D=Object(p["l"])(w,_),G=r.getFeaturesInExtent(D);O&&G.sort(O);for(A=0,M=G.length;A<M;++A)j(G[A]);this.renderedFeatures_=G;var k=x.finish(),U=new a["a"](w,y,v,r.getOverlaps(),k,e.getRenderBuffer());return I&&(this.declutterExecutorGroup=new a["a"](w,y,v,r.getOverlaps(),I.finish(),e.getRenderBuffer())),this.renderedResolution_=y,this.renderedRevision_=m,this.renderedRenderOrder_=O,this.renderedExtent_=w,this.renderedCenter_=E,this.renderedProjection_=_,this.replayGroup_=U,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,r,i,n,o){if(!r)return!1;var a=!1;if(Array.isArray(r))for(var s=0,c=r.length;s<c;++s)a=Object(l["d"])(i,t,r[s],e,this.boundHandleStyleImageChange_,n,o)||a;else a=Object(l["d"])(i,t,r,e,this.boundHandleStyleImageChange_,n,o);return a},e}(o["a"]),y=_,v=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),m=function(t){function e(e){return t.call(this,e)||this}return v(e,t),e.prototype.createRenderer=function(){return new y(this)},e}(i["a"]);e["a"]=m},"47e4":function(t,e,r){"use strict";var i=r("521b"),n=r("f623"),o=r("7a09"),a=r("9abc"),s=r("9769"),c=r("0af5"),u=r("abb7"),h=r("1c48"),l=r("9f5e"),p=r("bb6c"),f=r("b1a2"),d=r("c560"),g=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),_=function(t){function e(e,r,i){var n=t.call(this)||this;if(n.ends_=[],n.maxDelta_=-1,n.maxDeltaRevision_=-1,Array.isArray(e[0]))n.setCoordinates(e,r);else if(void 0!==r&&i)n.setFlatCoordinates(r,e),n.ends_=i;else{for(var o=n.getLayout(),a=e,s=[],c=[],u=0,h=a.length;u<h;++u){var p=a[u];0===u&&(o=p.getLayout()),Object(l["c"])(s,p.getFlatCoordinates()),c.push(s.length)}n.setFlatCoordinates(o,s),n.ends_=c}return n}return g(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?Object(l["c"])(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,r,i){return i<Object(c["e"])(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(s["a"])(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(s["b"])(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,r,i))},e.prototype.getCoordinateAtM=function(t,e,r){if(this.layout!=i["a"].XYM&&this.layout!=i["a"].XYZM||0===this.flatCoordinates.length)return null;var n=void 0!==e&&e,o=void 0!==r&&r;return Object(f["c"])(this.flatCoordinates,0,this.ends_,this.stride,t,n,o)},e.prototype.getCoordinates=function(){return Object(p["b"])(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new o["a"](this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,r=this.layout,i=[],n=0,a=0,s=e.length;a<s;++a){var c=e[a],u=new o["a"](t.slice(n,c),r);i.push(u),n=c}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,r=0,i=this.ends_,n=this.stride,o=0,a=i.length;o<a;++o){var s=i[o],c=Object(f["a"])(e,r,s,n,.5);Object(l["c"])(t,c),r=s}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],n=[];return r.length=Object(h["b"])(this.flatCoordinates,0,this.ends_,this.stride,t,r,0,n),new e(r,i["a"].XY,n)},e.prototype.getType=function(){return n["a"].MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(d["b"])(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(u["c"])(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},e}(a["a"]);e["a"]=_},"4cdf":function(t,e,r){"use strict";var i=r("e269"),n=r("01d4"),o=r("92fa5"),a=r("1e8d"),s=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),c=function(t){function e(e){var r=t.call(this)||this;if(r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addEventListener(Object(i["b"])(r.geometryName_),r.handleGeometryChanged_),e)if("function"===typeof e.getSimplifiedGeometry){var n=e;r.setGeometry(n)}else{var o=e;r.setProperties(o)}return r}return s(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&t.setGeometry(r.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(a["c"])(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(a["a"])(t,n["a"].CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?u(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener(Object(i["b"])(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener(Object(i["b"])(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(i["a"]);function u(t){if("function"===typeof t)return t;var e;if(Array.isArray(t))e=t;else{Object(o["a"])("function"===typeof t.getZIndex,41);var r=t;e=[r]}return function(){return e}}e["a"]=c},5831:function(t,e,r){"use strict";var i=r("e300"),n=r("183a"),o=r("cef7"),a=r("01d4"),s=r("7b4f"),c=r("25a5"),u=r.n(c),h=r("0af5"),l=r("1300"),p=r("38f3"),f=function(){function t(t){this.rbush_=new u.a(t),this.items_={}}return t.prototype.insert=function(t,e){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(r),this.items_[Object(l["c"])(e)]=r},t.prototype.load=function(t,e){for(var r=new Array(e.length),i=0,n=e.length;i<n;i++){var o=t[i],a=e[i],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};r[i]=s,this.items_[Object(l["c"])(a)]=s}this.rbush_.load(r)},t.prototype.remove=function(t){var e=Object(l["c"])(t),r=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(r)},t.prototype.update=function(t,e){var r=this.items_[Object(l["c"])(e)],i=[r.minX,r.minY,r.maxX,r.maxY];Object(h["p"])(i,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){var t=this.rbush_.all();return t.map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]},r=this.rbush_.search(e);return r.map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var r,i=0,n=t.length;i<n;i++)if(r=e(t[i]),r)return r;return r},t.prototype.isEmpty=function(){return Object(p["d"])(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(h["k"])(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),d=f,g=r("ff80"),_=r("6d83"),y=r("a43f"),v=r("57cb");function m(t,e){return[[-1/0,-1/0,1/0,1/0]]}var b=r("92fa5"),O=r("9f5e"),E=r("1e8d"),w=r("1ecb"),S=!1;function R(t,e,r,i,n,o,a){var s=new XMLHttpRequest;s.open("GET","function"===typeof t?t(r,i,n):t,!0),e.getType()==w["a"].ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=S,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var i=e.getType(),c=void 0;i==w["a"].JSON||i==w["a"].TEXT?c=s.responseText:i==w["a"].XML?(c=s.responseXML,c||(c=(new DOMParser).parseFromString(s.responseText,"application/xml"))):i==w["a"].ARRAY_BUFFER&&(c=s.response),c?o(e.readFeatures(c,{extent:r,featureProjection:n}),e.readProjection(c)):a()}else a()},s.onerror=a,s.send()}function T(t,e){return function(r,i,n,o,a){var s=this;R(t,e,r,i,n,(function(t,e){void 0!==o&&o(t),s.addFeatures(t)}),a||v["c"])}}var L=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),C=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.feature=r,n.features=i,n}return L(e,t),e}(o["a"]),I=function(t){function e(e){var r=this,n=e||{};r=t.call(this,{attributions:n.attributions,projection:void 0,state:_["a"].READY,wrapX:void 0===n.wrapX||n.wrapX})||this,r.loader_=v["c"],r.format_=n.format,r.overlaps_=void 0===n.overlaps||n.overlaps,r.url_=n.url,void 0!==n.loader?r.loader_=n.loader:void 0!==r.url_&&(Object(b["a"])(r.format_,7),r.loader_=T(r.url_,r.format_)),r.strategy_=void 0!==n.strategy?n.strategy:m;var o,a,s=void 0===n.useSpatialIndex||n.useSpatialIndex;return r.featuresRtree_=s?new d:null,r.loadedExtentsRtree_=new d,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null,Array.isArray(n.features)?a=n.features:n.features&&(o=n.features,a=o.getArray()),s||void 0!==o||(o=new i["a"](a)),void 0!==a&&r.addFeaturesInternal(a),void 0!==o&&r.bindFeaturesCollection_(o),r}return L(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(l["c"])(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var r=t.getGeometry();if(r){var i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new C(y["a"].ADDFEATURE,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(E["a"])(e,a["a"].CHANGE,this.handleFeatureChange_,this),Object(E["a"])(e,s["a"].PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var r=!0,i=e.getId();return void 0!==i&&(i.toString()in this.idIndex_?r=!1:this.idIndex_[i.toString()]=e),r&&(Object(b["a"])(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),r},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],r=[],i=[],n=0,o=t.length;n<o;n++){var a=t[n],s=Object(l["c"])(a);this.addToIndex_(s,a)&&r.push(a)}n=0;for(var c=r.length;n<c;n++){a=r[n],s=Object(l["c"])(a);this.setupChangeEvents_(s,a);var u=a.getGeometry();if(u){var h=u.getExtent();e.push(h),i.push(a)}else this.nullGeometryFeatures_[s]=a}this.featuresRtree_&&this.featuresRtree_.load(e,i);n=0;for(var p=r.length;n<p;n++)this.dispatchEvent(new C(y["a"].ADDFEATURE,r[n]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(y["a"].ADDFEATURE,(function(r){e||(e=!0,t.push(r.feature),e=!1)})),this.addEventListener(y["a"].REMOVEFEATURE,(function(r){e||(e=!0,t.remove(r.feature),e=!1)})),t.addEventListener(n["a"].ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(n["a"].REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){var r=this.featureChangeKeys_[e];r.forEach(E["c"])}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var i in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var n=new C(y["a"].CLEAR);this.dispatchEvent(n),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var r=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(r,(function(r){var i=r.getGeometry();return i.intersectsCoordinate(t)?e(r):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(r){var i=r.getGeometry();if(i.intersectsExtent(t)){var n=e(r);if(n)return n}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(p["d"])(this.nullGeometryFeatures_)||Object(O["c"])(t,Object(p["c"])(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var r=t[0],i=t[1],n=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],c=e||v["b"];return this.featuresRtree_.forEachInExtent(s,(function(t){if(c(t)){var e=t.getGeometry(),u=a;if(a=e.closestPointXY(r,i,o,a),a<u){n=t;var h=Math.sqrt(a);s[0]=r-h,s[1]=i-h,s[2]=r+h,s[3]=i+h}}})),n},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,r=Object(l["c"])(e),i=e.getGeometry();if(i){var n=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(n,e)):this.featuresRtree_&&this.featuresRtree_.update(n,e)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[r]=e);var o=e.getId();if(void 0!==o){var a=o.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[r]=e;this.changed(),this.dispatchEvent(new C(y["a"].CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(l["c"])(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(p["d"])(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,r){var i=this.loadedExtentsRtree_,n=this.strategy_(t,e);this.loading=!1;for(var o=function(t,o){var s=n[t],c=i.forEachInExtent(s,(function(t){return Object(h["g"])(t.extent,s)}));c||(a.dispatchEvent(new C(y["a"].FEATURESLOADSTART)),a.loader_.call(a,s,e,r,function(t){this.dispatchEvent(new C(y["a"].FEATURESLOADEND,void 0,t))}.bind(a),function(){this.dispatchEvent(new C(y["a"].FEATURESLOADERROR))}.bind(a)),i.insert(s,{extent:s.slice()}),a.loading=a.loader_!==v["c"])},a=this,s=0,c=n.length;s<c;++s)o(s,c)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,r=this.loadedExtentsRtree_;r.forEachInExtent(t,(function(r){if(Object(h["p"])(r.extent,t))return e=r,!0})),e&&r.remove(e)},e.prototype.removeFeature=function(t){var e=Object(l["c"])(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(l["c"])(t);this.featureChangeKeys_[e].forEach(E["c"]),delete this.featureChangeKeys_[e];var r=t.getId();void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[e],this.dispatchEvent(new C(y["a"].REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===t){delete this.idIndex_[r],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){Object(b["a"])(this.format_,7),this.setLoader(T(t,this.format_))},e}(g["a"]);e["a"]=I},5938:function(t,e,r){"use strict";function i(t,e,r,i){for(var n=t[e],o=t[e+1],a=0,s=e+i;s<r;s+=i){var c=t[s],u=t[s+1];a+=Math.sqrt((c-n)*(c-n)+(u-o)*(u-o)),n=c,o=u}return a}r.d(e,"a",(function(){return i}))},6573:function(t,e,r){"use strict";r.d(e,"d",(function(){return n})),r.d(e,"e",(function(){return o})),r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s}));var i={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},n=[i.FILL],o=[i.STROKE],a=[i.BEGIN_PATH],s=[i.CLOSE_PATH];e["c"]=i},"6c77":function(t,e,r){"use strict";r.d(e,"d",(function(){return u})),r.d(e,"a",(function(){return l})),r.d(e,"b",(function(){return p}));var i=r("ce2c"),n=r("83a6"),o=r("f623"),a=r("8682"),s=r("92fa5"),c=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=f,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"===typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=f,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();function u(t){var e;if("function"===typeof t)e=t;else{var r;if(Array.isArray(t))r=t;else{Object(s["a"])("function"===typeof t.getZIndex,41);var i=t;r=[i]}e=function(){return r}}return e}var h=null;function l(t,e){if(!h){var r=new n["a"]({color:"rgba(255,255,255,0.4)"}),o=new a["a"]({color:"#3399CC",width:1.25});h=[new c({image:new i["a"]({fill:r,stroke:o,radius:5}),fill:r,stroke:o})]}return h}function p(){var t={},e=[255,255,255,1],r=[0,153,255,1],s=3;return t[o["a"].POLYGON]=[new c({fill:new n["a"]({color:[255,255,255,.5]})})],t[o["a"].MULTI_POLYGON]=t[o["a"].POLYGON],t[o["a"].LINE_STRING]=[new c({stroke:new a["a"]({color:e,width:s+2})}),new c({stroke:new a["a"]({color:r,width:s})})],t[o["a"].MULTI_LINE_STRING]=t[o["a"].LINE_STRING],t[o["a"].CIRCLE]=t[o["a"].POLYGON].concat(t[o["a"].LINE_STRING]),t[o["a"].POINT]=[new c({image:new i["a"]({radius:2*s,fill:new n["a"]({color:r}),stroke:new a["a"]({color:e,width:s/2})}),zIndex:1/0})],t[o["a"].MULTI_POINT]=t[o["a"].POINT],t[o["a"].GEOMETRY_COLLECTION]=t[o["a"].POLYGON].concat(t[o["a"].LINE_STRING],t[o["a"].POINT]),t}function f(t){return t.getGeometry()}e["c"]=c},"6cbf":function(t,e,r){"use strict";var i=r("01d4"),n=r("82b0"),o={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},a=r("869f"),s=r("ab35"),c=r("5c38"),u=r("92fa5"),h=r("0ec0"),l=r("0999"),p=r("3c22"),f=r("6611"),d=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),g=null,_=function(t){function e(e,r,i,n,o,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==n&&(s.image_.crossOrigin=n),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=i,s.src_=r,s.tainted_,s}return d(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===a["a"].LOADED){g||(g=Object(l["a"])(1,1)),g.drawImage(this.image_,0,0);try{g.getImageData(0,0,1,1),this.tainted_=!1}catch(t){g=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(i["a"].CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=a["a"].ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=a["a"].LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],r=Object(l["a"])(t,e);r.fillRect(0,0,t,e),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==a["a"].IDLE){this.imageState_=a["a"].LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(f["b"])(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var r=e.getContext("2d");if(r.scale(t,t),r.drawImage(this.image_,0,0),r.globalCompositeOperation="multiply","multiply"===r.globalCompositeOperation||this.isTainted_())r.fillStyle=Object(c["b"])(this.color_),r.fillRect(0,0,e.width,e.height),r.globalCompositeOperation="destination-in",r.drawImage(this.image_,0,0);else{for(var i=r.getImageData(0,0,e.width,e.height),n=i.data,o=this.color_[0]/255,a=this.color_[1]/255,s=this.color_[2]/255,u=this.color_[3],h=0,l=n.length;h<l;h+=4)n[h]*=o,n[h+1]*=a,n[h+2]*=s,n[h+3]*=u;r.putImageData(i,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(h["a"]);function y(t,e,r,i,n,o){var a=p["a"].get(e,i,o);return a||(a=new _(t,e,r,i,n,o),p["a"].set(e,i,o,a)),a}var v=r("1300"),m=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),b=function(t){function e(e){var r=this,i=e||{},s=void 0!==i.opacity?i.opacity:1,h=void 0!==i.rotation?i.rotation:0,l=void 0!==i.scale?i.scale:1,p=void 0!==i.rotateWithView&&i.rotateWithView;r=t.call(this,{opacity:s,rotation:h,scale:l,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:p})||this,r.anchor_=void 0!==i.anchor?i.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:o.TOP_LEFT,r.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:n["a"].FRACTION,r.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:n["a"].FRACTION,r.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var f=void 0!==i.img?i.img:null,d=void 0!==i.imgSize?i.imgSize:null,g=i.src;Object(u["a"])(!(void 0!==g&&f),4),Object(u["a"])(!f||f&&d,5),void 0!==g&&0!==g.length||!f||(g=f.src||Object(v["c"])(f)),Object(u["a"])(void 0!==g&&g.length>0,6);var _=void 0!==i.src?a["a"].IDLE:a["a"].LOADED;return r.color_=void 0!==i.color?Object(c["a"])(i.color):null,r.iconImage_=y(f,g,d,r.crossOrigin_,_,r.color_),r.offset_=void 0!==i.offset?i.offset:[0,0],r.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:o.TOP_LEFT,r.origin_=null,r.size_=void 0!==i.size?i.size:null,r}return m(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==n["a"].FRACTION||this.anchorYUnits_==n["a"].FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==n["a"].FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==n["a"].FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=o.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=o.TOP_RIGHT&&this.anchorOrigin_!=o.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=o.BOTTOM_LEFT&&this.anchorOrigin_!=o.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=o.TOP_LEFT){var r=this.getSize(),i=this.iconImage_.getSize();if(!r||!i)return null;t=t.slice(),this.offsetOrigin_!=o.TOP_RIGHT&&this.offsetOrigin_!=o.BOTTOM_RIGHT||(t[0]=i[0]-r[0]-t[0]),this.offsetOrigin_!=o.BOTTOM_LEFT&&this.offsetOrigin_!=o.BOTTOM_RIGHT||(t[1]=i[1]-r[1]-t[1])}return t[0]+=e[0],t[1]+=e[1],this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(i["a"].CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(i["a"].CHANGE,t)},e}(s["a"]);e["a"]=b},"7a09":function(t,e,r){"use strict";var i=r("521b"),n=r("f623"),o=r("9abc"),a=r("9769"),s=r("0af5"),c=r("abb7"),u=r("1c48"),h=r("9f5e"),l=r("fd4d"),p=r("bb6c"),f=r("b1a2"),d=r("c560"),g=r("5938"),_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),y=function(t){function e(e,r){var i=t.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===r||Array.isArray(e[0])?i.setCoordinates(e,r):i.setFlatCoordinates(r,e),i}return _(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(h["c"])(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,r,i){return i<Object(s["e"])(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(a["e"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(a["d"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,r,i))},e.prototype.forEachSegment=function(t){return Object(l["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=i["a"].XYM&&this.layout!=i["a"].XYZM)return null;var r=void 0!==e&&e;return Object(f["b"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r)},e.prototype.getCoordinates=function(){return Object(p["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Object(f["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return Object(g["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=Object(u["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,i["a"].XY)},e.prototype.getType=function(){return n["a"].LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(d["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c["b"])(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o["a"]);e["a"]=y},"82b0":function(t,e,r){"use strict";e["a"]={FRACTION:"fraction",PIXELS:"pixels"}},"83a6":function(t,e,r){"use strict";var i=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();e["a"]=i},8682:function(t,e,r){"use strict";var i=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();e["a"]=i},"88da":function(t,e,r){"use strict";var i=r("521b"),n=r("f623"),o=r("9a44"),a=r("5bc3"),s=r("9abc"),c=r("9769"),u=r("0af5"),h=r("abb7"),l=r("9f5e"),p=r("0a9d"),f=r("bb6c"),d=r("c560"),g=r("4d98"),_=r("b589");function y(t,e,r,i){for(var n=[],o=Object(u["j"])(),a=0,s=r.length;a<s;++a){var c=r[a];o=Object(u["o"])(t,e,c[0],i),n.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=c[c.length-1]}return n}var v=r("25f1"),m=r("1c48"),b=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),O=function(t){function e(e,r,i){var n=t.call(this)||this;if(n.endss_=[],n.flatInteriorPointsRevision_=-1,n.flatInteriorPoints_=null,n.maxDelta_=-1,n.maxDeltaRevision_=-1,n.orientedRevision_=-1,n.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var o=n.getLayout(),a=e,s=[],c=[],u=0,h=a.length;u<h;++u){var p=a[u];0===u&&(o=p.getLayout());for(var f=s.length,d=p.getEnds(),g=0,_=d.length;g<_;++g)d[g]+=f;Object(l["c"])(s,p.getFlatCoordinates()),c.push(d)}r=o,e=s,i=c}return void 0!==r&&i?(n.setFlatCoordinates(r,e),n.endss_=i):n.setCoordinates(e,r),n}return b(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var r=this.flatCoordinates.length;Object(l["c"])(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(var i=0,n=e.length;i<n;++i)e[i]+=r}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,r=new Array(t),i=0;i<t;++i)r[i]=this.endss_[i].slice();var n=new e(this.flatCoordinates.slice(),this.layout,r);return n.applyProperties(this),n},e.prototype.closestPointXY=function(t,e,r,i){return i<Object(u["e"])(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(c["f"])(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(c["c"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,r,i))},e.prototype.containsXY=function(t,e){return Object(v["d"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(_["c"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(g["d"])(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(f["c"])(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=y(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(p["b"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new o["a"](this.getFlatInteriorPoints().slice(),i["a"].XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(g["b"])(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(g["d"])(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],n=[];return r.length=Object(m["d"])(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),r,0,n),new e(r,i["a"].XY,n)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var r=this.endss_[t-1];e=r[r.length-1]}var i=this.endss_[t].slice(),n=i[i.length-1];if(0!==e)for(var o=0,s=i.length;o<s;++o)i[o]-=e;return new a["a"](this.flatCoordinates.slice(e,n),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,r=this.endss_,i=[],n=0,o=0,s=r.length;o<s;++o){var c=r[o].slice(),u=c[c.length-1];if(0!==n)for(var h=0,l=c.length;h<l;++h)c[h]-=n;var p=new a["a"](e.slice(n,u),t,c);i.push(p),n=u}return i},e.prototype.getType=function(){return n["a"].MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Object(d["d"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(h["d"])(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{var i=r[r.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(s["a"]);e["a"]=O},"97e6":function(t,e,r){"use strict";var i=r("ae50"),n=r("dbba"),o=r("e8b8"),a=r("b9ec"),s=r("01d4"),c=r("3749"),u=r("acc1"),h={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},l=r("496f"),p=r("a896"),f=r("0af5"),d=r("38f3"),g=r("399c"),_=r("30d1"),y=r("1300"),v=r("1e8d"),m=r("345d"),b=r("a568"),O=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),E={image:[c["a"].POLYGON,c["a"].CIRCLE,c["a"].LINE_STRING,c["a"].IMAGE,c["a"].TEXT],hybrid:[c["a"].POLYGON,c["a"].LINE_STRING],vector:[]},w={image:[c["a"].DEFAULT],hybrid:[c["a"].IMAGE,c["a"].TEXT,c["a"].DEFAULT],vector:[c["a"].POLYGON,c["a"].CIRCLE,c["a"].LINE_STRING,c["a"].IMAGE,c["a"].TEXT,c["a"].DEFAULT]},S=function(t){function e(e){var r=t.call(this,e)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.dirty_=!1,r.renderedLayerRevision_,r.renderedPixelToCoordinateTransform_=null,r.renderedRotation_,r.renderTileImageQueue_={},r.tileListenerKeys_={},r.tmpTransform_=Object(p["c"])(),r}return O(e,t),e.prototype.prepareTile=function(t,e,r,i){var n,o=Object(y["c"])(t),a=t.getState();return(a===u["a"].LOADED&&t.hifi||a===u["a"].ERROR)&&o in this.tileListenerKeys_&&(Object(v["c"])(this.tileListenerKeys_[o]),delete this.tileListenerKeys_[o]),a!==u["a"].LOADED&&a!==u["a"].ERROR||(this.updateExecutorGroup_(t,e,r),this.tileImageNeedsRender_(t,e,r)&&(n=!0,i&&(this.renderTileImageQueue_[o]=t))),n},e.prototype.getTile=function(e,r,i,n){var o=n.pixelRatio,a=n.viewState,c=a.resolution,p=a.projection,f=this.getLayer(),d=f.getSource().getTile(e,r,i,o,p);if(d.getState()<u["a"].LOADED){d.wantedResolution=c;var g=Object(y["c"])(d);if(!(g in this.tileListenerKeys_)){var _=Object(v["a"])(d,s["a"].CHANGE,this.prepareTile.bind(this,d,o,p,!0));this.tileListenerKeys_[g]=_}}else{var m=n.viewHints,b=!(m[l["a"].ANIMATING]||m[l["a"].INTERACTING]);!b&&d.wantedResolution||(d.wantedResolution=c);var O=this.prepareTile(d,o,p,!1);O&&f.getRenderMode()!==h.VECTOR&&this.renderTileImage_(d,n)}return t.prototype.getTile.call(this,e,r,i,n)},e.prototype.isDrawableTile=function(e){var r=this.getLayer();return t.prototype.isDrawableTile.call(this,e)&&(r.getRenderMode()===h.VECTOR?Object(y["c"])(r)in e.executorGroups:e.hasContext(r))},e.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},e.prototype.prepareFrame=function(e){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!=r&&(this.renderedTiles.length=0),this.renderedLayerRevision_=r,t.prototype.prepareFrame.call(this,e)},e.prototype.updateExecutorGroup_=function(t,e,r){var i=this.getLayer(),a=i.getRevision(),s=i.getRenderOrder()||null,c=t.wantedResolution,l=t.getReplayState(i);if(l.dirty||l.renderedResolution!==c||l.renderedRevision!=a||l.renderedRenderOrder!=s||l.renderedZ!==t.sourceZ){var p=i.getSource(),d=i.getDeclutter(),g=p.getTileGrid(),v=p.getTileGridForProjection(r),m=v.getTileCoordExtent(t.wrappedTileCoord),b=p.getSourceTiles(e,r,t),O=Object(y["c"])(i);delete t.hitDetectionImageData[O],t.executorGroups[O]=[],d&&(t.declutterExecutorGroups[O]=[]);for(var E=function(r,a){var y=b[r];if(y.getState()!=u["a"].LOADED)return"continue";var v=y.tileCoord,E=g.getTileCoordExtent(v),S=Object(f["B"])(m,E),R=Object(f["p"])(E,S)?null:Object(f["c"])(S,i.getRenderBuffer()*c,w.tmpExtent);l.dirty=!1;var T=new n["a"](0,S,c,e),L=d?new n["a"](0,S,c,e):void 0,C=Object(_["b"])(c,e),I=function(t){var e,r=t.getStyleFunction()||i.getStyleFunction();if(r&&(e=r(t,c)),e){var n=this.renderFeature(t,C,e,T,L);this.dirty_=this.dirty_||n,l.dirty=l.dirty||n}},x=y.getFeatures();s&&s!==l.renderedRenderOrder&&x.sort(s);for(var P=0,N=x.length;P<N;++P){var A=x[P];R&&!Object(f["F"])(R,A.getGeometry().getExtent())||I.call(w,A)}var M=T.finish(),F=i.getRenderMode()!==h.VECTOR&&d&&1===b.length?null:S,j=new o["a"](F,c,e,p.getOverlaps(),M,i.getRenderBuffer());if(t.executorGroups[O].push(j),L){var D=new o["a"](F,c,e,p.getOverlaps(),L.finish(),i.getRenderBuffer());t.declutterExecutorGroups[O].push(D)}},w=this,S=0,R=b.length;S<R;++S)E(S,R);l.renderedRevision=a,l.renderedZ=t.sourceZ,l.renderedRenderOrder=s,l.renderedResolution=c}},e.prototype.forEachFeatureAtCoordinate=function(t,e,r,i,n){var o=e.viewState.resolution,a=e.viewState.rotation;r=void 0==r?0:r;var s=this.getLayer(),c=s.getSource(),u=c.getTileGridForProjection(e.viewState.projection),h=Object(f["b"])([t]);Object(f["c"])(h,o*r,h);for(var l,p={},d=function(t,e,r){var o=t.getId();void 0===o&&(o=Object(y["c"])(t));var a=p[o];if(a){if(!0!==a&&r<a.distanceSq){if(0===r)return p[o]=!0,n.splice(n.lastIndexOf(a),1),i(t,s,e);a.geometry=e,a.distanceSq=r}}else{if(0===r)return p[o]=!0,i(t,s,e);n.push(p[o]={feature:t,layer:s,geometry:e,distanceSq:r,callback:i})}},g=this.renderedTiles,_=function(i,n){var c=g[i],p=u.getTileCoordExtent(c.wrappedTileCoord);if(!Object(f["F"])(p,h))return"continue";var _=Object(y["c"])(s),v=[c.executorGroups[_]],m=c.declutterExecutorGroups[_];m&&v.push(m),v.some((function(i){for(var n=i===m?e.declutterTree.all().map((function(t){return t.value})):null,s=0,c=i.length;s<c;++s){var u=i[s];if(l=u.forEachFeatureAtCoordinate(t,o,a,r,d,n),l)return!0}}))},v=0,m=g.length;!l&&v<m;++v)_(v,m);return l},e.prototype.getFeatures=function(t){return new Promise(function(e,r){for(var i,n=this.getLayer(),o=Object(y["c"])(n),a=n.getSource(),s=this.renderedProjection,c=s.getExtent(),h=this.renderedResolution,l=a.getTileGridForProjection(s),d=Object(p["a"])(this.renderedPixelToCoordinateTransform_,t.slice()),_=l.getTileCoordForCoordAndResolution(d,h),v=0,O=this.renderedTiles.length;v<O;++v)if(_.toString()===this.renderedTiles[v].tileCoord.toString()){if(i=this.renderedTiles[v],i.getState()===u["a"].LOADED&&i.hifi){var E=l.getTileCoordExtent(i.tileCoord);a.getWrapX()&&s.canWrapX()&&!Object(f["g"])(c,E)&&Object(b["g"])(d,s);break}i=void 0}if(!i||i.loadingSourceTiles>0)e([]);else{var w=l.getTileCoordExtent(i.wrappedTileCoord),S=Object(f["C"])(w),R=[(d[0]-S[0])/h,(S[1]-d[1])/h],T=i.getSourceTiles().reduce((function(t,e){return t.concat(e.getFeatures())}),[]),L=i.hitDetectionImageData[o];if(!L&&!this.animatingOrInteracting_){var C=Object(m["c"])(l.getTileSize(l.getZForResolution(h))),I=[C[0]/2,C[1]/2],x=this.renderedRotation_,P=[this.getRenderTransform(l.getTileCoordCenter(i.wrappedTileCoord),h,0,.5,I[0],I[1],0)];L=Object(g["a"])(C,P,T,n.getStyleFunction(),l.getTileCoordExtent(i.wrappedTileCoord),i.getReplayState(n).renderedResolution,x),i.hitDetectionImageData[o]=L}e(Object(g["b"])(R,T,L))}}.bind(this))},e.prototype.handleFontsChanged=function(){Object(d["b"])(this.renderTileImageQueue_);var t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.renderDeclutter=function(t){for(var e=t.viewHints,r=!(e[l["a"].ANIMATING]||e[l["a"].INTERACTING]),i=this.renderedTiles,n=0,o=i.length;n<o;++n){var a=i[n],s=a.declutterExecutorGroups[Object(y["c"])(this.getLayer())];if(s)for(var c=s.length-1;c>=0;--c)s[c].execute(this.context,1,this.getTileRenderTransform(a,t),t.viewState.rotation,r,void 0,t.declutterTree)}},e.prototype.getTileRenderTransform=function(t,e){var r=e.pixelRatio,i=e.viewState,n=i.center,o=i.resolution,a=i.rotation,s=e.size,c=Math.round(s[0]*r),u=Math.round(s[1]*r),h=this.getLayer().getSource(),l=h.getTileGridForProjection(e.viewState.projection),f=t.tileCoord,d=l.getTileCoordExtent(t.wrappedTileCoord),g=l.getTileCoordExtent(f,this.tmpExtent)[0]-d[0],_=Object(p["f"])(Object(p["i"])(this.inversePixelTransform.slice(),1/r,1/r),this.getRenderTransform(n,o,a,r,c,u,g));return _},e.prototype.renderFrame=function(e,r){var i=e.viewHints,n=!(i[l["a"].ANIMATING]||i[l["a"].INTERACTING]);this.renderQueuedTileImages_(n,e),t.prototype.renderFrame.call(this,e,r),this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;var o=this.getLayer(),a=o.getRenderMode();if(a===h.IMAGE)return this.container;var s=o.getSource(),c=e.usedTiles[Object(y["c"])(s)];for(var u in this.renderTileImageQueue_)c&&u in c||delete this.renderTileImageQueue_[u];for(var p=this.context,f=w[a],d=e.viewState,g=d.rotation,_=this.renderedTiles,v=[],m=[],b=_.length-1;b>=0;--b)for(var O=_[b],E=this.getTileRenderTransform(O,e),S=O.executorGroups[Object(y["c"])(o)],R=!1,T=0,L=S.length;T<L;++T){var C=S[T];if(C.hasExecutors(f)){var I=O.tileCoord[0],x=void 0;if(!R&&(x=C.getClipCoords(E),x)){p.save();for(var P=0,N=v.length;P<N;++P){var A=v[P];I<m[P]&&(p.beginPath(),p.moveTo(x[0],x[1]),p.lineTo(x[2],x[3]),p.lineTo(x[4],x[5]),p.lineTo(x[6],x[7]),p.moveTo(A[6],A[7]),p.lineTo(A[4],A[5]),p.lineTo(A[2],A[3]),p.lineTo(A[0],A[1]),p.clip())}}C.execute(p,1,E,g,n,f),!R&&x&&(p.restore(),v.push(x),m.push(I),R=!0)}}return this.container},e.prototype.renderQueuedTileImages_=function(t,e){for(var r in this.renderTileImageQueue_){if(!t&&Date.now()-e.time>8){e.animate=!0;break}var i=this.renderTileImageQueue_[r];delete this.renderTileImageQueue_[r],this.renderTileImage_(i,e)}},e.prototype.renderFeature=function(t,e,r,i,n){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=0,s=r.length;a<s;++a)o=Object(_["d"])(i,t,r[a],e,this.boundHandleStyleImageChange_,void 0,n)||o;else o=Object(_["d"])(i,t,r,e,this.boundHandleStyleImageChange_,void 0,n);return o},e.prototype.tileImageNeedsRender_=function(t,e,r){var i=this.getLayer(),n=t.getReplayState(i),o=i.getRevision(),a=t.sourceZ,s=t.wantedResolution;return n.renderedTileResolution!==s||n.renderedTileRevision!==o||n.renderedTileZ!==a},e.prototype.renderTileImage_=function(t,e){var r=this.getLayer(),i=t.getReplayState(r),n=r.getRevision(),o=t.executorGroups[Object(y["c"])(r)];i.renderedTileRevision=n,i.renderedTileZ=t.sourceZ;var a=t.wrappedTileCoord,s=a[0],c=r.getSource(),u=e.pixelRatio,h=e.viewState,l=h.projection,f=c.getTileGridForProjection(l),d=f.getResolution(t.tileCoord[0]),g=e.pixelRatio/t.wantedResolution*d,_=f.getResolution(s),v=t.getContext(r);u=Math.round(Math.max(u,g/u));var m=c.getTilePixelSize(s,u,l);v.canvas.width=m[0],v.canvas.height=m[1];var b=u/g;if(1!==b){var O=Object(p["g"])(this.tmpTransform_);Object(p["i"])(O,b,b),v.setTransform.apply(v,O)}var w=f.getTileCoordExtent(a,this.tmpExtent),S=g/_,R=Object(p["g"])(this.tmpTransform_);Object(p["i"])(R,S,-S),Object(p["l"])(R,-w[0],-w[3]);for(var T=0,L=o.length;T<L;++T){var C=o[T];C.execute(v,b,R,0,!0,E[r.getRenderMode()])}i.renderedTileResolution=t.wantedResolution},e}(a["a"]),R=S,T=r("a194"),L=r("92fa5"),C=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),I=function(t){function e(e){var r=this,i=e||{},n=Object(d["a"])({},i);delete n.preload,delete n.useInterimTilesOnError,r=t.call(this,n)||this;var o=i.renderMode||h.HYBRID;return Object(L["a"])(void 0==o||o==h.IMAGE||o==h.HYBRID||o==h.VECTOR,28),r.renderMode_=o,r.setPreload(i.preload?i.preload:0),r.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),r}return C(e,t),e.prototype.createRenderer=function(){return new R(this)},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderMode=function(){return this.renderMode_},e.prototype.getPreload=function(){return this.get(T["a"].PRELOAD)},e.prototype.getUseInterimTilesOnError=function(){return this.get(T["a"].USE_INTERIM_TILES_ON_ERROR)},e.prototype.setPreload=function(t){this.set(T["a"].PRELOAD,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(T["a"].USE_INTERIM_TILES_ON_ERROR,t)},e}(i["a"]);e["a"]=I},"9a44":function(t,e,r){"use strict";var i=r("f623"),n=r("f403"),o=r("9abc"),a=r("0af5"),s=r("abb7"),c=r("9f5e"),u=r("bb6c"),h=r("7fc9"),l=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),p=function(t){function e(e,r){var i=t.call(this)||this;return r&&!Array.isArray(e[0])?i.setFlatCoordinates(r,e):i.setCoordinates(e,r),i}return l(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?Object(c["c"])(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,r,i){if(i<Object(a["e"])(this.getExtent(),t,e))return i;for(var n=this.flatCoordinates,o=this.stride,s=0,c=n.length;s<c;s+=o){var u=Object(h["g"])(t,e,n[s],n[s+1]);if(u<i){i=u;for(var l=0;l<o;++l)r[l]=n[s+l];r.length=o}}return i},e.prototype.getCoordinates=function(){return Object(u["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new n["a"](this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,r=this.stride,i=[],o=0,a=t.length;o<a;o+=r){var s=new n["a"](t.slice(o,o+r),e);i.push(s)}return i},e.prototype.getType=function(){return i["a"].MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,r=this.stride,i=0,n=e.length;i<n;i+=r){var o=e[i],s=e[i+1];if(Object(a["h"])(t,o,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(s["b"])(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o["a"]);e["a"]=p},"9dc6":function(t,e,r){"use strict";r("0302")},a2e1:function(t,e,r){"use strict";var i=r("4cdf"),n=r("01d4"),o=r("8f37"),a=r("f623"),s=r("0af5"),c=r("1e8d"),u=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),h=function(t){function e(e){var r=t.call(this)||this;return r.geometries_=e||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return u(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(c["c"]),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(Object(c["a"])(this.geometries_[t],n["a"].CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,r,i){if(i<Object(s["e"])(this.getExtent(),t,e))return i;for(var n=this.geometries_,o=0,a=n.length;o<a;++o)i=n[o].closestPointXY(t,e,r,i);return i},e.prototype.containsXY=function(t,e){for(var r=this.geometries_,i=0,n=r.length;i<n;++i)if(r[i].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){Object(s["l"])(t);for(var e=this.geometries_,r=0,i=e.length;r<i;++r)Object(s["q"])(t,e[r].getExtent());return t},e.prototype.getGeometries=function(){return l(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,r=0,i=e.length;r<i;++r)e[r].getType()===this.getType()?t=t.concat(e[r].getGeometriesArrayRecursive()):t.push(e[r]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],i=this.geometries_,n=!1,o=0,a=i.length;o<a;++o){var s=i[o],c=s.getSimplifiedGeometry(t);r.push(c),c!==s&&(n=!0)}if(n){var u=new e(null);return u.setGeometriesArray(r),u}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return a["a"].GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,r=0,i=e.length;r<i;++r)if(e[r].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var r=this.geometries_,i=0,n=r.length;i<n;++i)r[i].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,r){var i=r;i||(i=Object(s["x"])(this.getExtent()));for(var n=this.geometries_,o=0,a=n.length;o<a;++o)n[o].scale(t,e,i);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(l(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,r=0,i=e.length;r<i;++r)e[r].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var r=this.geometries_,i=0,n=r.length;i<n;++i)r[i].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(o["a"]);function l(t){for(var e=[],r=0,i=t.length;r<i;++r)e.push(t[r].clone());return e}var p=h,f=r("b7df"),d=r("1ecb"),g=r("1300"),_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),y=function(t){function e(){return t.call(this)||this}return _(e,t),e.prototype.getType=function(){return d["a"].JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(v(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(v(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Object(g["b"])()},e.prototype.readFeaturesFromObject=function(t,e){return Object(g["b"])()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(v(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Object(g["b"])()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(v(t))},e.prototype.readProjectionFromObject=function(t){return Object(g["b"])()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Object(g["b"])()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Object(g["b"])()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Object(g["b"])()},e}(f["a"]);function v(t){if("string"===typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}var m=y,b=r("7a09"),O=r("47e4"),E=r("9a44"),w=r("88da"),S=r("f403"),R=r("5bc3"),T=r("92fa5"),L=r("38f3"),C=r("256f"),I=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),x=function(t){function e(e){var r=this,i=e||{};return r=t.call(this)||this,r.dataProjection=Object(C["f"])(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(r.defaultFeatureProjection=Object(C["f"])(i.featureProjection)),r.geometryName_=i.geometryName,r.extractGeometryName_=i.extractGeometryName,r}return I(e,t),e.prototype.readFeatureFromObject=function(t,e){var r=null;r="Feature"===t["type"]?t:{type:"Feature",geometry:t,properties:null};var n=P(r["geometry"],e),o=new i["a"];return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&o.setGeometryName(r["geometry_name"]),o.setGeometry(n),"id"in r&&o.setId(r["id"]),r["properties"]&&o.setProperties(r["properties"],!0),o},e.prototype.readFeaturesFromObject=function(t,e){var r=t,i=null;if("FeatureCollection"===r["type"]){var n=t;i=[];for(var o=n["features"],a=0,s=o.length;a<s;++a)i.push(this.readFeatureFromObject(o[a],e))}else i=[this.readFeatureFromObject(t,e)];return i},e.prototype.readGeometryFromObject=function(t,e){return P(t,e)},e.prototype.readProjectionFromObject=function(t){var e,r=t["crs"];return r?"name"==r["type"]?e=Object(C["f"])(r["properties"]["name"]):"EPSG"===r["type"]?e=Object(C["f"])("EPSG:"+r["properties"]["code"]):Object(T["a"])(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var r={type:"Feature",geometry:null,properties:null},i=t.getId();if(void 0!==i&&(r.id=i),!t.hasProperties())return r;var n=t.getProperties(),o=t.getGeometry();return o&&(r.geometry=k(o,e),delete n[t.getGeometryName()]),Object(L["d"])(n)||(r.properties=n),r},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var r=[],i=0,n=t.length;i<n;++i)r.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:r}},e.prototype.writeGeometryObject=function(t,e){return k(t,this.adaptOptions(e))},e}(m);function P(t,e){if(!t)return null;var r;switch(t["type"]){case a["a"].POINT:r=A(t);break;case a["a"].LINE_STRING:r=M(t);break;case a["a"].POLYGON:r=G(t);break;case a["a"].MULTI_POINT:r=j(t);break;case a["a"].MULTI_LINE_STRING:r=F(t);break;case a["a"].MULTI_POLYGON:r=D(t);break;case a["a"].GEOMETRY_COLLECTION:r=N(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Object(f["c"])(r,!1,e)}function N(t,e){var r=t["geometries"].map((function(t){return P(t,e)}));return new p(r)}function A(t){return new S["a"](t["coordinates"])}function M(t){return new b["a"](t["coordinates"])}function F(t){return new O["a"](t["coordinates"])}function j(t){return new E["a"](t["coordinates"])}function D(t){return new w["a"](t["coordinates"])}function G(t){return new R["a"](t["coordinates"])}function k(t,e){t=Object(f["c"])(t,!0,e);var r,i=t.getType();switch(i){case a["a"].POINT:r=z(t,e);break;case a["a"].LINE_STRING:r=B(t,e);break;case a["a"].POLYGON:r=V(t,e);break;case a["a"].MULTI_POINT:r=X(t,e);break;case a["a"].MULTI_LINE_STRING:r=Y(t,e);break;case a["a"].MULTI_POLYGON:r=W(t,e);break;case a["a"].GEOMETRY_COLLECTION:r=U(t,e);break;case a["a"].CIRCLE:r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return r}function U(t,e){var r=t.getGeometriesArray().map((function(t){var r=Object(L["a"])({},e);return delete r.featureProjection,k(t,r)}));return{type:"GeometryCollection",geometries:r}}function B(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function Y(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function X(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function W(t,e){var r;return e&&(r=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(r)}}function z(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function V(t,e){var r;return e&&(r=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(r)}}e["a"]=x},a43f:function(t,e,r){"use strict";e["a"]={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}},ab35:function(t,e,r){"use strict";var i=r("1300"),n=r("345d"),o=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Object(n["c"])(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return Object(i["b"])()},t.prototype.getImage=function(t){return Object(i["b"])()},t.prototype.getHitDetectionImage=function(){return Object(i["b"])()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return Object(i["b"])()},t.prototype.getImageSize=function(){return Object(i["b"])()},t.prototype.getHitDetectionImageSize=function(){return Object(i["b"])()},t.prototype.getOrigin=function(){return Object(i["b"])()},t.prototype.getSize=function(){return Object(i["b"])()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Object(n["c"])(t)},t.prototype.listenImageChange=function(t){Object(i["b"])()},t.prototype.load=function(){Object(i["b"])()},t.prototype.unlistenImageChange=function(t){Object(i["b"])()},t}();e["a"]=o},ac29:function(t,e,r){"use strict";r.d(e,"a",(function(){return G}));var i=r("f623"),n=r("9abc"),o=r("0af5"),a=r("abb7"),s=r("bef8"),c=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),u=function(t){function e(e,r,i){var n=t.call(this)||this;if(void 0!==i&&void 0===r)n.setFlatCoordinates(i,e);else{var o=r||0;n.setCenterAndRadius(e,o,i)}return n}return c(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,r,i){var n=this.flatCoordinates,o=t-n[0],a=e-n[1],s=o*o+a*a;if(s<i){if(0===s)for(var c=0;c<this.stride;++c)r[c]=n[c];else{var u=this.getRadius()/Math.sqrt(s);r[0]=n[0]+u*o,r[1]=n[1]+u*a;for(c=2;c<this.stride;++c)r[c]=n[c]}return r.length=this.stride,s}return i},e.prototype.containsXY=function(t,e){var r=this.flatCoordinates,i=t-r[0],n=e-r[1];return i*i+n*n<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,r=e[this.stride]-e[0];return Object(o["k"])(e[0]-r,e[1]-r,e[0]+r,e[1]+r,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return i["a"].CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Object(o["F"])(t,e)){var r=this.getCenter();return t[0]<=r[0]&&t[2]>=r[0]||(t[1]<=r[1]&&t[3]>=r[1]||Object(o["t"])(t,this.intersectsCoordinate.bind(this)))}return!1},e.prototype.setCenter=function(t){var e=this.stride,r=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+r;for(var n=1;n<e;++n)i[e+n]=t[n];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,e,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,n=Object(a["a"])(i,0,t,this.stride);i[n++]=i[0]+e;for(var o=1,s=this.stride;o<s;++o)i[n++]=i[o];i.length=n,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,e){var r=this.getCenter(),i=this.getStride();this.setCenter(Object(s["a"])(r,0,r.length,i,t,e,r)),this.changed()},e.prototype.translate=function(t,e){var r=this.getCenter(),i=this.getStride();this.setCenter(Object(s["d"])(r,0,r.length,i,t,e,r)),this.changed()},e}(n["a"]);u.prototype.transform;var h=u,l=r("cef7"),p=r("01d4"),f=r("4cdf"),d=r("bf62"),g=r("7a09"),_=r("509b"),y=r("0b2d"),v=r("47e4"),m=r("9a44"),b=r("88da"),O=r("f403"),E=r("4105"),w=r("5bc3"),S=r("3e6b"),R=r("5831"),T=r("57cb"),L=r("06f8"),C=r("6c77"),I=r("256f"),x=r("e269"),P=r("a568"),N=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),A={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},M={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},F=function(t){function e(e,r){var i=t.call(this,e)||this;return i.feature=r,i}return N(e,t),e}(l["a"]),j=function(t){function e(e){var r=this,i=e;i.stopDown||(i.stopDown=T["a"]),r=t.call(this,i)||this,r.shouldHandle_=!1,r.downPx_=null,r.downTimeout_,r.lastDragTime_,r.pointerType_,r.freehand_=!1,r.source_=e.source?e.source:null,r.features_=e.features?e.features:null,r.snapTolerance_=e.snapTolerance?e.snapTolerance:12,r.type_=e.type,r.mode_=k(r.type_),r.stopClick_=!!e.stopClick,r.minPoints_=e.minPoints?e.minPoints:r.mode_===A.POLYGON?3:2,r.maxPoints_=r.mode_===A.CIRCLE?2:e.maxPoints?e.maxPoints:1/0,r.finishCondition_=e.finishCondition?e.finishCondition:T["b"];var n=e.geometryFunction;if(!n){var o,a=r.mode_;if(a===A.CIRCLE)n=function(t,e,r){var i=e||new h([NaN,NaN]),n=Object(I["d"])(t[0],r),o=Object(P["f"])(n,Object(I["d"])(t[t.length-1],r));i.setCenterAndRadius(n,Math.sqrt(o));var a=Object(I["j"])();return a&&i.transform(r,a),i};else a===A.POINT?o=O["a"]:a===A.LINE_STRING?o=g["a"]:a===A.POLYGON&&(o=w["a"]),n=function(t,e,r){return e?a===A.POLYGON?t[0].length?e.setCoordinates([t[0].concat([t[0][0]])]):e.setCoordinates([]):e.setCoordinates(t):e=new o(t),e}}return r.geometryFunction_=n,r.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,r.finishCoordinate_=null,r.sketchFeature_=null,r.sketchPoint_=null,r.sketchCoords_=null,r.sketchLine_=null,r.sketchLineCoords_=null,r.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,r.overlay_=new S["a"]({source:new R["a"]({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:D(),updateWhileInteracting:!0}),r.geometryName_=e.geometryName,r.condition_=e.condition?e.condition:L["g"],r.freehandCondition_,e.freehand?r.freehandCondition_=L["c"]:r.freehandCondition_=e.freehandCondition?e.freehandCondition:L["i"],r.addEventListener(Object(x["b"])(d["a"].ACTIVE),r.updateState_),r}return N(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===p["a"].CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!==A.POINT&&this.freehandCondition_(e);var r=e.type===y["a"].POINTERMOVE,i=!0;if(!this.freehand_&&this.lastDragTime_&&e.type===y["a"].POINTERDRAG){var n=Date.now();n-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,r=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&e.type===y["a"].POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),i=!1):this.freehand_&&e.type===y["a"].POINTERDOWN?i=!1:r&&this.getPointerCount()<2?(i=e.type===y["a"].POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):("mouse"===e.originalEvent.pointerType||e.type===y["a"].POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e)):e.type===y["a"].DBLCLICK&&(i=!1),t.prototype.handleEvent.call(this,e)&&i},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new _["a"](y["a"].POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var e=!0;if(0===this.getPointerCount())if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){switch(!0){case!this.finishCoordinate_:if(this.startDrawing_(t.coordinate),this.mode_!==A.POINT)break;case this.freehand_||this.atFinish_(t.pixel)&&this.finishCondition_(t):this.finishDrawing();break;case!this.freehand_:this.addToDrawing_(t.coordinate);break;default:break}e=!1}else this.freehand_&&this.abortDrawing();return!e&&this.stopClick_&&t.originalEvent.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,r=t.pixel,i=e[0]-r[0],n=e[1]-r[1],o=i*i+n*n;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t)},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var r=!1,i=[this.finishCoordinate_],n=this.mode_;if(n===A.POINT)e=!0;else if(n===A.CIRCLE)e=2===this.sketchCoords_.length;else if(n===A.LINE_STRING)r=this.sketchCoords_.length>this.minPoints_;else if(n===A.POLYGON){var o=this.sketchCoords_;r=o[0].length>this.minPoints_,i=[o[0][0],o[0][o[0].length-2]]}if(r)for(var a=this.getMap(),s=0,c=i.length;s<c;s++){var u=i[s],h=a.getPixelFromCoordinate(u),l=t[0]-h[0],p=t[1]-h[1],f=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(l*l+p*p)<=f,e){this.finishCoordinate_=u;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();if(this.sketchPoint_){var r=this.sketchPoint_.getGeometry();r.setCoordinates(e)}else this.sketchPoint_=new f["a"](new O["a"](e)),this.updateSketchFeatures_()},e.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new f["a"]);var e=t.getLinearRing(0),r=this.sketchLine_.getGeometry();r?(r.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),r.changed()):(r=new g["a"](e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(r))},e.prototype.startDrawing_=function(t){var e=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===A.POINT?this.sketchCoords_=t.slice():this.mode_===A.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new f["a"](new g["a"](this.sketchLineCoords_)));var r=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new f["a"],this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new F(M.DRAWSTART,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,r,n=this.getMap(),o=this.sketchFeature_.getGeometry(),a=n.getView().getProjection();if(this.mode_===A.POINT?r=this.sketchCoords_:this.mode_===A.POLYGON?(e=this.sketchCoords_[0],r=e[e.length-1],this.atFinish_(n.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(e=this.sketchCoords_,r=e[e.length-1]),r[0]=t[0],r[1]=t[1],this.geometryFunction_(this.sketchCoords_,o,a),this.sketchPoint_){var s=this.sketchPoint_.getGeometry();s.setCoordinates(t)}if(o.getType()===i["a"].POLYGON&&this.mode_!==A.POLYGON)this.createOrUpdateCustomSketchLine_(o);else if(this.sketchLineCoords_){var c=this.sketchLine_.getGeometry();c.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,r,i=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),o=this.mode_;o===A.LINE_STRING||o===A.CIRCLE?(this.finishCoordinate_=t.slice(),r=this.sketchCoords_,r.length>=this.maxPoints_&&(this.freehand_?r.pop():e=!0),r.push(t.slice()),this.geometryFunction_(r,i,n)):o===A.POLYGON&&(r=this.sketchCoords_[0],r.length>=this.maxPoints_&&(this.freehand_?r.pop():e=!0),r.push(t.slice()),e&&(this.finishCoordinate_=r[0]),this.geometryFunction_(this.sketchCoords_,i,n)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),n=this.mode_;if(n===A.LINE_STRING||n===A.CIRCLE){if(t=this.sketchCoords_,t.splice(-2,1),t.length>=2){this.finishCoordinate_=t[t.length-2].slice();var o=this.finishCoordinate_.slice();t[t.length-1]=o,this.sketchPoint_.setGeometry(new O["a"](o))}this.geometryFunction_(t,e,r),e.getType()===i["a"].POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if(n===A.POLYGON){t=this.sketchCoords_[0],t.splice(-2,1);var a=this.sketchLine_.getGeometry();if(t.length>=2){o=t[t.length-2].slice();t[t.length-1]=o,this.sketchPoint_.setGeometry(new O["a"](o))}a.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,r)}1===t.length&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,r=t.getGeometry(),n=this.getMap().getView().getProjection();this.mode_===A.LINE_STRING?(e.pop(),this.geometryFunction_(e,r,n)):this.mode_===A.POLYGON&&(e[0].pop(),this.geometryFunction_(e,r,n),e=r.getCoordinates()),this.type_===i["a"].MULTI_POINT?t.setGeometry(new m["a"]([e])):this.type_===i["a"].MULTI_LINE_STRING?t.setGeometry(new v["a"]([e])):this.type_===i["a"].MULTI_POLYGON&&t.setGeometry(new b["a"]([e])),this.dispatchEvent(new F(M.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new F(M.DRAWABORT,t))},e.prototype.appendCoordinates=function(t){var e,r=this.mode_,i=!this.sketchFeature_;if(i&&this.startDrawing_(t[0]),r===A.LINE_STRING||r===A.CIRCLE)e=this.sketchCoords_;else{if(r!==A.POLYGON)return;e=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}i&&e.shift(),e.pop();for(var n=0;n<t.length;n++)this.addToDrawing_(t[n]);var o=t[t.length-1];this.addToDrawing_(o),this.modifyDrawing_(o)},e.prototype.extend=function(t){var e=t.getGeometry(),r=e;this.sketchFeature_=t,this.sketchCoords_=r.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new f["a"](new O["a"](i)),this.updateSketchFeatures_(),this.dispatchEvent(new F(M.DRAWSTART,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)},e}(E["b"]);function D(){var t=Object(C["b"])();return function(e,r){return t[e.getGeometry().getType()]}}function G(){return function(t,e,r){var i=Object(o["b"])([t[0],t[t.length-1]].map((function(t){return Object(I["d"])(t,r)}))),n=[[Object(o["v"])(i),Object(o["w"])(i),Object(o["D"])(i),Object(o["C"])(i),Object(o["v"])(i)]],a=e;a?a.setCoordinates(n):a=new w["a"](n);var s=Object(I["j"])();return s&&a.transform(r,s),a}}function k(t){var e;return t===i["a"].POINT||t===i["a"].MULTI_POINT?e=A.POINT:t===i["a"].LINE_STRING||t===i["a"].MULTI_LINE_STRING?e=A.LINE_STRING:t===i["a"].POLYGON||t===i["a"].MULTI_POLYGON?e=A.POLYGON:t===i["a"].CIRCLE&&(e=A.CIRCLE),e}e["b"]=j},ae50:function(t,e,r){"use strict";var i=r("1af9"),n=r("25a5"),o=r.n(n),a=r("38f3"),s=r("6c77"),c=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),u={RENDER_ORDER:"renderOrder"},h=function(t){function e(e){var r=this,i=e||{},n=Object(a["a"])({},i);return delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,r=t.call(this,n)||this,r.declutter_=void 0!==i.declutter&&i.declutter,r.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(i.style),r.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,r.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,r}return c(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(u.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new o.a(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(u.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:s["a"],this.styleFunction_=null===t?void 0:Object(s["d"])(this.style_),this.changed()},e}(i["a"]);e["a"]=h},b1a2:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return s}));var i=r("9f5e"),n=r("7fc9");function o(t,e,r,o,a,s,c){var u,h,l=(r-e)/o;if(1===l)u=e;else if(2===l)u=e,h=a;else if(0!==l){for(var p=t[e],f=t[e+1],d=0,g=[0],_=e+o;_<r;_+=o){var y=t[_],v=t[_+1];d+=Math.sqrt((y-p)*(y-p)+(v-f)*(v-f)),g.push(d),p=y,f=v}var m=a*d,b=Object(i["a"])(g,m);b<0?(h=(m-g[-b-2])/(g[-b-1]-g[-b-2]),u=e+(-b-2)*o):u=e+b*o}var O=c>1?c:2,E=s||new Array(O);for(_=0;_<O;++_)E[_]=void 0===u?NaN:void 0===h?t[u+_]:Object(n["c"])(t[u+_],t[u+o+_],h);return E}function a(t,e,r,i,o,a){if(r==e)return null;var s;if(o<t[e+i-1])return a?(s=t.slice(e,e+i),s[i-1]=o,s):null;if(t[r-1]<o)return a?(s=t.slice(r-i,r),s[i-1]=o,s):null;if(o==t[e+i-1])return t.slice(e,e+i);var c=e/i,u=r/i;while(c<u){var h=c+u>>1;o<t[(h+1)*i-1]?u=h:c=h+1}var l=t[c*i-1];if(o==l)return t.slice((c-1)*i,(c-1)*i+i);var p=t[(c+1)*i-1],f=(o-l)/(p-l);s=[];for(var d=0;d<i-1;++d)s.push(Object(n["c"])(t[(c-1)*i+d],t[c*i+d],f));return s.push(o),s}function s(t,e,r,i,n,o,s){if(s)return a(t,e,r[r.length-1],i,n,o);var c;if(n<t[i-1])return o?(c=t.slice(0,i),c[i-1]=n,c):null;if(t[t.length-1]<n)return o?(c=t.slice(t.length-i),c[i-1]=n,c):null;for(var u=0,h=r.length;u<h;++u){var l=r[u];if(e!=l){if(n<t[e+i-1])return null;if(n<=t[l-1])return a(t,e,l,i,n,!1);e=l}}return null}},b7df:function(t,e,r){"use strict";r.d(e,"c",(function(){return c})),r.d(e,"b",(function(){return u}));var i=r("fced"),n=r("1300"),o=r("38f3"),a=r("256f"),s=function(){function t(){this.dataProjection=null,this.defaultFeatureProjection=null}return t.prototype.getReadOptions=function(t,e){var r;if(e){var n=e.dataProjection?Object(a["f"])(e.dataProjection):this.readProjection(t);e.extent&&n&&n.getUnits()===i["b"].TILE_PIXELS&&(n=Object(a["f"])(n),n.setWorldExtent(e.extent)),r={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(r)},t.prototype.adaptOptions=function(t){return Object(o["a"])({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return Object(n["b"])()},t.prototype.readFeature=function(t,e){return Object(n["b"])()},t.prototype.readFeatures=function(t,e){return Object(n["b"])()},t.prototype.readGeometry=function(t,e){return Object(n["b"])()},t.prototype.readProjection=function(t){return Object(n["b"])()},t.prototype.writeFeature=function(t,e){return Object(n["b"])()},t.prototype.writeFeatures=function(t,e){return Object(n["b"])()},t.prototype.writeGeometry=function(t,e){return Object(n["b"])()},t}();function c(t,e,r){var i,n=r?Object(a["f"])(r.featureProjection):null,o=r?Object(a["f"])(r.dataProjection):null;if(i=n&&o&&!Object(a["c"])(n,o)?(e?t.clone():t).transform(e?n:o,e?o:n):t,e&&r&&void 0!==r.decimals){var s=Math.pow(10,r.decimals),c=function(t){for(var e=0,r=t.length;e<r;++e)t[e]=Math.round(t[e]*s)/s;return t};i===t&&(i=t.clone()),i.applyTransform(c)}return i}function u(t,e){var r=e?Object(a["f"])(e.featureProjection):null,i=e?Object(a["f"])(e.dataProjection):null;return r&&i&&!Object(a["c"])(r,i)?Object(a["n"])(t,i,r):t}e["a"]=s},ce2c:function(t,e,r){"use strict";var i=r("869f"),n=r("ab35"),o=r("5c38"),a=r("e98d"),s=r("0999"),c=r("ddea"),u=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),h=function(t){function e(e){var r=this,i=void 0!==e.rotateWithView&&e.rotateWithView;return r=t.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this,r.canvas_={},r.hitDetectionCanvas_=null,r.fill_=void 0!==e.fill?e.fill:null,r.origin_=[0,0],r.points_=e.points,r.radius_=void 0!==e.radius?e.radius:e.radius1,r.radius2_=e.radius2,r.angle_=void 0!==e.angle?e.angle:0,r.stroke_=void 0!==e.stroke?e.stroke:null,r.anchor_=null,r.size_=null,r.imageSize_=null,r.hitDetectionImageSize_=null,r.render(),r}return u(e,t),e.prototype.clone=function(){var t=this.getScale(),r=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var t=this.createRenderOptions();this.createHitDetectionCanvas_(t)}return this.hitDetectionCanvas_},e.prototype.getImage=function(t){if(!this.canvas_[t||1]){var e=this.createRenderOptions(),r=Object(s["a"])(e.size*t||1,e.size*t||1);this.draw_(e,r,0,0,t||1),this.canvas_[t||1]=r.canvas}return this.canvas_[t||1]},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return i["a"].LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.createRenderOptions=function(){var t,e=c["e"],r=c["h"],i=0,n=null,o=0,s=0;this.stroke_&&(t=this.stroke_.getColor(),null===t&&(t=c["l"]),t=Object(a["a"])(t),s=this.stroke_.getWidth(),void 0===s&&(s=c["i"]),n=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),r=this.stroke_.getLineJoin(),void 0===r&&(r=c["h"]),e=this.stroke_.getLineCap(),void 0===e&&(e=c["e"]),i=this.stroke_.getMiterLimit(),void 0===i&&(i=c["j"]));var u=2*(this.radius_+s)+1;return{strokeStyle:t,strokeWidth:s,size:u,lineCap:e,lineDash:n,lineDashOffset:o,lineJoin:r,miterLimit:i}},e.prototype.render=function(){var t=this.createRenderOptions(),e=Object(s["a"])(t.size,t.size);this.draw_(t,e,0,0,1),this.canvas_={},this.canvas_[1]=e.canvas;var r=e.canvas.width,i=r,n=this.getDisplacement();this.hitDetectionImageSize_=[t.size,t.size],this.createHitDetectionCanvas_(t),this.anchor_=[r/2-n[0],r/2+n[1]],this.size_=[r,r],this.imageSize_=[i,i]},e.prototype.draw_=function(t,e,r,i,n){var o,s,u;e.setTransform(n,0,0,n,0,0),e.translate(r,i),e.beginPath();var h=this.points_;if(h===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(h*=2),o=0;o<=h;o++)s=2*o*Math.PI/h-Math.PI/2+this.angle_,u=o%2===0?this.radius_:l,e.lineTo(t.size/2+u*Math.cos(s),t.size/2+u*Math.sin(s))}if(this.fill_){var p=this.fill_.getColor();null===p&&(p=c["c"]),e.fillStyle=Object(a["a"])(p),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){var e=this.fill_.getColor(),r=0;if("string"===typeof e&&(e=Object(o["a"])(e)),null===e?r=1:Array.isArray(e)&&(r=4===e.length?e[3]:1),0===r){var i=Object(s["a"])(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,r,i){e.translate(r,i),e.beginPath();var n=this.points_;if(n===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(n*=2);var a=void 0,s=void 0,u=void 0;for(a=0;a<=n;a++)u=2*a*Math.PI/n-Math.PI/2+this.angle_,s=a%2===0?this.radius_:o,e.lineTo(t.size/2+s*Math.cos(u),t.size/2+s*Math.sin(u))}e.fillStyle=c["c"],e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(n["a"]),l=h,p=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),f=function(t){function e(e){var r=this,i=e||{};return r=t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:void 0!==i.scale?i.scale:1,rotation:void 0!==i.rotation?i.rotation:0,rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView,displacement:void 0!==i.displacement?i.displacement:[0,0]})||this,r}return p(e,t),e.prototype.clone=function(){var t=this.getScale(),r=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(l);e["a"]=f},dbba:function(t,e,r){"use strict";var i=r("dd32"),n=r("6573"),o=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),a=function(t){function e(e,r,i,n){var o=t.call(this,e,r,i,n)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return o(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var r=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(r,i);this.instructions.push([n["c"].DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([n["c"].DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var r=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(r,i);this.instructions.push([n["c"].DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([n["c"].DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var r=t.getAnchor(),i=t.getSize(),n=t.getHitDetectionImage(),o=t.getImage(this.pixelRatio),a=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=n,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=e},e}(i["a"]),s=a,c=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),u=function(t){function e(e,r,i,n){return t.call(this,e,r,i,n)||this}return c(e,t),e.prototype.drawFlatCoordinates_=function(t,e,r,i){var o=this.coordinates.length,a=this.appendFlatLineCoordinates(t,e,r,i,!1,!1),s=[n["c"].MOVE_TO_LINE_TO,o,a];return this.instructions.push(s),this.hitDetectionInstructions.push(s),r},e.prototype.drawLineString=function(t,e){var r=this.state,i=r.strokeStyle,o=r.lineWidth;if(void 0!==i&&void 0!==o){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([n["c"].SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],n["a"]);var a=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(a,0,a.length,s),this.hitDetectionInstructions.push(n["e"]),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var r=this.state,i=r.strokeStyle,o=r.lineWidth;if(void 0!==i&&void 0!==o){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([n["c"].SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],n["a"]);for(var a=t.getEnds(),s=t.getFlatCoordinates(),c=t.getStride(),u=0,h=0,l=a.length;h<l;++h)u=this.drawFlatCoordinates_(s,u,a[h],c);this.hitDetectionInstructions.push(n["e"]),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(n["e"]),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(n["e"]),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(n["a"])},e}(i["a"]),h=u,l=r("ddea"),p=r("1c48"),f=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),d=function(t){function e(e,r,i,n){return t.call(this,e,r,i,n)||this}return f(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,r,i){var o=this.state,a=void 0!==o.fillStyle,s=void 0!==o.strokeStyle,c=r.length;this.instructions.push(n["a"]),this.hitDetectionInstructions.push(n["a"]);for(var u=0;u<c;++u){var h=r[u],l=this.coordinates.length,p=this.appendFlatLineCoordinates(t,e,h,i,!0,!s),f=[n["c"].MOVE_TO_LINE_TO,l,p];this.instructions.push(f),this.hitDetectionInstructions.push(f),s&&(this.instructions.push(n["b"]),this.hitDetectionInstructions.push(n["b"])),e=h}return a&&(this.instructions.push(n["d"]),this.hitDetectionInstructions.push(n["d"])),s&&(this.instructions.push(n["e"]),this.hitDetectionInstructions.push(n["e"])),e},e.prototype.drawCircle=function(t,e){var r=this.state,i=r.fillStyle,o=r.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([n["c"].SET_FILL_STYLE,l["c"]]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([n["c"].SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var a=t.getFlatCoordinates(),s=t.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,s,!1,!1);var u=[n["c"].CIRCLE,c];this.instructions.push(n["a"],u),this.hitDetectionInstructions.push(n["a"],u),void 0!==r.fillStyle&&(this.instructions.push(n["d"]),this.hitDetectionInstructions.push(n["d"])),void 0!==r.strokeStyle&&(this.instructions.push(n["e"]),this.hitDetectionInstructions.push(n["e"])),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var r=this.state,i=r.fillStyle,o=r.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([n["c"].SET_FILL_STYLE,l["c"]]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([n["c"].SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var a=t.getEnds(),s=t.getOrientedFlatCoordinates(),c=t.getStride();this.drawFlatCoordinatess_(s,0,a,c),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var r=this.state,i=r.fillStyle,o=r.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([n["c"].SET_FILL_STYLE,l["c"]]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([n["c"].SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);for(var a=t.getEndss(),s=t.getOrientedFlatCoordinates(),c=t.getStride(),u=0,h=0,p=a.length;h<p;++h)u=this.drawFlatCoordinatess_(s,u,a[h],c);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var r=this.coordinates,i=0,n=r.length;i<n;++i)r[i]=Object(p["e"])(r[i],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state,e=t.fillStyle;void 0!==e&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(i["a"]),g=d,_=r("0e69"),y={Circle:g,Default:i["a"],Image:s,LineString:h,Polygon:g,Text:_["b"]},v=function(){function t(t,e,r,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var r=this.buildersByZIndex_[e];for(var i in r){var n=r[i].finish();t[e][i]=n}}return t},t.prototype.getBuilder=function(t,e){var r=void 0!==t?t.toString():"0",i=this.buildersByZIndex_[r];void 0===i&&(i={},this.buildersByZIndex_[r]=i);var n=i[e];if(void 0===n){var o=y[e];n=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=n}return n},t}();e["a"]=v},dd32:function(t,e,r){"use strict";var i=r("6573"),n=r("f623"),o=r("045d"),a=r("f78c"),s=r("e98d"),c=r("0af5"),u=r("ddea"),h=r("9f5e"),l=r("bb6c"),p=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),f=function(t){function e(e,r,i,n){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=r,o.pixelRatio=n,o.maxLineWidth=0,o.resolution=i,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return p(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,n=this.coordinates,o=n.length,a=0,s=t.length;a<s;a+=e)i[0]=t[a],i[1]=t[a+1],Object(c["f"])(r,i)&&(n[o++]=i[0],n[o++]=i[1]);return o},e.prototype.appendFlatLineCoordinates=function(t,e,r,i,n,a){var s=this.coordinates,u=s.length,h=this.getBufferedMaxExtent();a&&(e+=i);var l,p,f,d=t[e],g=t[e+1],_=this.tmpCoordinate_,y=!0;for(l=e+i;l<r;l+=i)_[0]=t[l],_[1]=t[l+1],f=Object(c["i"])(h,_),f!==p?(y&&(s[u++]=d,s[u++]=g,y=!1),s[u++]=_[0],s[u++]=_[1]):f===o["a"].INTERSECTING?(s[u++]=_[0],s[u++]=_[1],y=!1):y=!0,d=_[0],g=_[1],p=f;return(n&&y||l===e+i)&&(s[u++]=d,s[u++]=g),u},e.prototype.drawCustomCoordinates_=function(t,e,r,i,n){for(var o=0,a=r.length;o<a;++o){var s=r[o],c=this.appendFlatLineCoordinates(t,e,s,i,!1,!1);n.push(c),e=s}return e},e.prototype.drawCustom=function(t,e,r){this.beginGeometry(t,e);var o,a,s,c,u,h=t.getType(),p=t.getStride(),f=this.coordinates.length;if(h==n["a"].MULTI_POLYGON){o=t.getOrientedFlatCoordinates(),c=[];var d=t.getEndss();u=0;for(var g=0,_=d.length;g<_;++g){var y=[];u=this.drawCustomCoordinates_(o,u,d[g],p,y),c.push(y)}this.instructions.push([i["c"].CUSTOM,f,c,t,r,l["c"]])}else h==n["a"].POLYGON||h==n["a"].MULTI_LINE_STRING?(s=[],o=h==n["a"].POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),u=this.drawCustomCoordinates_(o,0,t.getEnds(),p,s),this.instructions.push([i["c"].CUSTOM,f,s,t,r,l["b"]])):h==n["a"].LINE_STRING||h==n["a"].CIRCLE?(o=t.getFlatCoordinates(),a=this.appendFlatLineCoordinates(o,0,o.length,p,!1,!1),this.instructions.push([i["c"].CUSTOM,f,a,t,r,l["a"]])):h==n["a"].MULTI_POINT?(o=t.getFlatCoordinates(),a=this.appendFlatPointCoordinates(o,p),a>f&&this.instructions.push([i["c"].CUSTOM,f,a,t,r,l["a"]])):h==n["a"].POINT&&(o=t.getFlatCoordinates(),this.coordinates.push(o[0],o[1]),a=this.coordinates.length,this.instructions.push([i["c"].CUSTOM,f,a,t,r]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[i["c"].BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[i["c"].BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var r,n,o=e.length,a=-1;for(t=0;t<o;++t)r=e[t],n=r[0],n==i["c"].END_GEOMETRY?a=t:n==i["c"].BEGIN_GEOMETRY&&(r[2]=t,Object(h["h"])(this.hitDetectionInstructions,a,t),a=-1)},e.prototype.setFillStrokeStyle=function(t,e){var r=this.state;if(t){var i=t.getColor();r.fillStyle=Object(s["a"])(i||u["c"])}else r.fillStyle=void 0;if(e){var n=e.getColor();r.strokeStyle=Object(s["a"])(n||u["l"]);var o=e.getLineCap();r.lineCap=void 0!==o?o:u["e"];var a=e.getLineDash();r.lineDash=a?a.slice():u["f"];var c=e.getLineDashOffset();r.lineDashOffset=c||u["g"];var h=e.getLineJoin();r.lineJoin=void 0!==h?h:u["h"];var l=e.getWidth();r.lineWidth=void 0!==l?l:u["i"];var p=e.getMiterLimit();r.miterLimit=void 0!==p?p:u["j"],r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,r=[i["c"].SET_FILL_STYLE,e];return"string"!==typeof e&&r.push(!0),r},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[i["c"].SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var r=t.fillStyle;"string"===typeof r&&t.currentFillStyle==r||(void 0!==r&&this.instructions.push(e.call(this,t)),t.currentFillStyle=r)},e.prototype.updateStrokeStyle=function(t,e){var r=t.strokeStyle,i=t.lineCap,n=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,c=t.miterLimit;(t.currentStrokeStyle!=r||t.currentLineCap!=i||n!=t.currentLineDash&&!Object(h["b"])(t.currentLineDash,n)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=c)&&(void 0!==r&&e.call(this,t),t.currentStrokeStyle=r,t.currentLineCap=i,t.currentLineDash=n,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=c)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[i["c"].END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(c["d"])(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(c["c"])(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(a["a"]);e["a"]=f},e8b8:function(t,e,r){"use strict";var i=r("3749"),n=r("6573"),o=r("0e69"),a=r("617d"),s=r("a896"),c=r("0af5"),u=r("ddea"),h=r("7fc9"),l=r("bef8");function p(t,e,r,i,n,o,a,s,c,u,p,f){var d=t[e],g=t[e+1],_=0,y=0,v=0,m=0;function b(){_=d,y=g,e+=i,d=t[e],g=t[e+1],m+=v,v=Math.sqrt((d-_)*(d-_)+(g-y)*(g-y))}do{b()}while(e<r-i&&m+v<o);var O=(o-m)/v,E=Object(h["c"])(_,d,O),w=Object(h["c"])(y,g,O),S=e-i,R=m,T=o+s*c(u,n,p);while(e<r-i&&m+v<T)b();O=(T-m)/v;var L,C=Object(h["c"])(_,d,O),I=Object(h["c"])(y,g,O);if(f){var x=[E,w,C,I];Object(l["a"])(x,0,4,2,f,x,x),L=x[0]>x[2]}else L=E>C;var P,N=Math.PI,A=[],M=S+i===e;if(e=S,v=0,m=R,d=t[e],g=t[e+1],M){b();var F=Math.atan2(g-y,d-_);L&&(F+=F>0?-N:N);var j=(C+E)/2,D=(I+w)/2;return A[0]=[j,D,(T-o)/2,F,n],A}for(var G=0,k=n.length;G<k;){b();var U=Math.atan2(g-y,d-_);if(L&&(U+=U>0?-N:N),void 0!==P){var B=U-P;if(B+=B>N?-2*N:B<-N?2*N:0,Math.abs(B)>a)return null}P=U;for(var Y=G,X=0;G<k;++G){var W=L?k-G-1:G,z=s*c(u,n[W],p);if(e+i<r&&m+v<o+X+z/2)break;X+=z}if(G!==Y){var V=L?n.substring(k-Y,k-G):n.substring(Y,G);O=(o+X/2-m)/v;j=Object(h["c"])(_,d,O),D=Object(h["c"])(y,g,O);A.push([j,D,X/2,U,V]),o+=X}}return A}var f=r("9f5e"),d=r("5938"),g=Object(c["j"])(),_=[],y=[],v=[],m=[];function b(t){return t[3].declutterBox}var O=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function E(t,e){return"start"!==e&&"end"!==e||O.test(t)||(e="start"===e?"left":"right"),o["a"][e]}var w=function(){function t(t,e,r,i,n){this.overlaps=r,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderBuffer_=n,this.renderedTransform_=Object(s["c"])(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,r,i){var n=t+e+r+i;if(this.labels_[n])return this.labels_[n];var o=i?this.strokeStates[i]:null,s=r?this.fillStates[r]:null,c=this.textStates[e],h=this.pixelRatio,l=[c.scale[0]*h,c.scale[1]*h],p=E(t,c.textAlign||u["m"]),f=i&&o.lineWidth?o.lineWidth:0,d=t.split("\n"),g=d.length,_=[],y=Object(u["r"])(c.font,d,_),v=Object(u["q"])(c.font),m=v*g,b=y+f,O=[],w=(b+2)*l[0],S=(m+f)*l[1],R={width:w<0?Math.floor(w):Math.ceil(w),height:S<0?Math.floor(S):Math.ceil(S),contextInstructions:O};if(1==l[0]&&1==l[1]||O.push("scale",l),O.push("font",c.font),i){O.push("strokeStyle",o.strokeStyle),O.push("lineWidth",f),O.push("lineCap",o.lineCap),O.push("lineJoin",o.lineJoin),O.push("miterLimit",o.miterLimit);var T=a["g"]?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;T.prototype.setLineDash&&(O.push("setLineDash",[o.lineDash]),O.push("lineDashOffset",o.lineDashOffset))}r&&O.push("fillStyle",s.fillStyle),O.push("textBaseline","middle"),O.push("textAlign","center");var L,C=.5-p,I=p*b+C*f;if(i)for(L=0;L<g;++L)O.push("strokeText",[d[L],I+C*_[L],.5*(f+v)+L*v]);if(r)for(L=0;L<g;++L)O.push("fillText",[d[L],I+C*_[L],.5*(f+v)+L*v]);return this.labels_[n]=R,R},t.prototype.replayTextBackground_=function(t,e,r,i,n,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,r,i,n,o,a,u,h,l,p,f,d,b,O,E){a*=f[0],u*=f[1];var w,S=r-a,R=i-u,T=n+h>t?t-h:n,L=o+l>e?e-l:o,C=b[3]+T*f[0]+b[1],I=b[0]+L*f[1]+b[2],x=S-b[3],P=R-b[0];return(O||0!==p)&&(_[0]=x,m[0]=x,_[1]=P,y[1]=P,y[0]=x+C,v[0]=y[0],v[1]=P+I,m[1]=v[1]),0!==p?(w=Object(s["b"])(Object(s["c"])(),r,i,1,1,p,-r,-i),Object(s["a"])(w,_),Object(s["a"])(w,y),Object(s["a"])(w,v),Object(s["a"])(w,m),Object(c["k"])(Math.min(_[0],y[0],v[0],m[0]),Math.min(_[1],y[1],v[1],m[1]),Math.max(_[0],y[0],v[0],m[0]),Math.max(_[1],y[1],v[1],m[1]),g)):Object(c["k"])(Math.min(x,x+C),Math.min(P,P+I),Math.max(x,x+C),Math.max(P,P+I),g),d&&(S=Math.round(S),R=Math.round(R)),{drawImageX:S,drawImageY:R,drawImageW:T,drawImageH:L,originX:h,originY:l,declutterBox:{minX:g[0],minY:g[1],maxX:g[2],maxY:g[3],value:E},canvasTransform:w,scale:f}},t.prototype.replayImageOrLabel_=function(t,e,r,i,n,o,a){var s=!(!o&&!a),c=i.declutterBox,h=t.canvas,l=a?a[2]*i.scale[0]/2:0,p=c.minX-l<=h.width/e&&c.maxX+l>=0&&c.minY-l<=h.height/e&&c.maxY+l>=0;return p&&(s&&this.replayTextBackground_(t,_,y,v,m,o,a),Object(u["o"])(t,i.canvasTransform,n,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=Object(s["a"])(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(e[0]%r,e[1]%r),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t["strokeStyle"]=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,r,i){var n=this.textStates[e],a=this.createLabel(t,e,i,r),s=this.strokeStates[r],c=this.pixelRatio,h=E(t,n.textAlign||u["m"]),l=o["a"][n.textBaseline||u["n"]],p=s&&s.lineWidth?s.lineWidth:0,f=a.width/c-2*n.scale[0],d=h*f+2*(.5-h)*p,g=l*a.height/c+2*(.5-l)*p;return{label:a,anchorX:d,anchorY:g}},t.prototype.execute_=function(t,e,r,i,a,h,g,_){var y;this.pixelCoordinates_&&Object(f["b"])(r,this.renderedTransform_)?y=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),y=Object(l["c"])(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),Object(s["j"])(this.renderedTransform_,r));var v,m,O,E,w,S,R,T,L,C,I,x,P,N,A,M,F=0,j=i.length,D=0,G=0,k=0,U=null,B=null,Y=this.coordinateCache_,X=this.viewRotation_,W=Math.round(1e12*Math.atan2(-r[1],r[0]))/1e12,z={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:X},V=this.instructions!=i||this.overlaps?0:200;while(F<j){var H=i[F],Z=H[0];switch(Z){case n["c"].BEGIN_GEOMETRY:P=H[1],M=H[3],P.getGeometry()?void 0===g||Object(c["F"])(g,M.getExtent())?++F:F=H[2]+1:F=H[2];break;case n["c"].BEGIN_PATH:G>V&&(this.fill_(t),G=0),k>V&&(t.stroke(),k=0),G||k||(t.beginPath(),E=NaN,w=NaN),++F;break;case n["c"].CIRCLE:D=H[1];var q=y[D],J=y[D+1],K=y[D+2],$=y[D+3],Q=K-q,tt=$-J,et=Math.sqrt(Q*Q+tt*tt);t.moveTo(q+et,J),t.arc(q,J,et,0,2*Math.PI,!0),++F;break;case n["c"].CLOSE_PATH:t.closePath(),++F;break;case n["c"].CUSTOM:D=H[1],v=H[2];var rt=H[3],it=H[4],nt=6==H.length?H[5]:void 0;z.geometry=rt,z.feature=P,F in Y||(Y[F]=[]);var ot=Y[F];nt?nt(y,D,v,2,ot):(ot[0]=y[D],ot[1]=y[D+1],ot.length=2),it(ot,z),++F;break;case n["c"].DRAW_IMAGE:D=H[1],v=H[2],T=H[3],m=H[4],O=H[5];var at=H[6],st=H[7],ct=H[8],ut=H[9],ht=H[10],lt=H[11],pt=H[12],ft=H[13],dt=H[14];if(!T&&H.length>=19){L=H[18],C=H[19],I=H[20],x=H[21];var gt=this.drawLabelWithPointPlacement_(L,C,I,x);T=gt.label,H[3]=T;var _t=H[22];m=(gt.anchorX-_t)*this.pixelRatio,H[4]=m;var yt=H[23];O=(gt.anchorY-yt)*this.pixelRatio,H[5]=O,at=T.height,H[6]=at,ft=T.width,H[13]=ft}var vt=void 0;H.length>24&&(vt=H[24]);var mt=void 0,bt=void 0,Ot=void 0;H.length>16?(mt=H[15],bt=H[16],Ot=H[17]):(mt=u["k"],bt=!1,Ot=!1),ht&&W?lt+=X:ht||W||(lt-=X);for(var Et=0;D<v;D+=2)if(!(vt&&vt[Et++]<ft/this.pixelRatio)){var wt=this.calculateImageOrLabelDimensions_(T.width,T.height,y[D],y[D+1],ft,at,m,O,ct,ut,lt,pt,a,mt,bt||Ot,P),St=[t,e,T,wt,st,bt?U:null,Ot?B:null],Rt=void 0,Tt=void 0;if(_&&dt){if(!dt[D]){dt[D]=St;continue}if(Rt=dt[D],delete dt[D],Tt=b(Rt),_.collides(Tt))continue}_&&_.collides(wt.declutterBox)||(Rt&&(_&&_.insert(Tt),this.replayImageOrLabel_.apply(this,Rt)),_&&_.insert(wt.declutterBox),this.replayImageOrLabel_.apply(this,St))}++F;break;case n["c"].DRAW_CHARS:var Lt=H[1],Ct=H[2],It=H[3],xt=H[4];x=H[5];var Pt=H[6],Nt=H[7],At=H[8];I=H[9];var Mt=H[10];L=H[11],C=H[12];var Ft=[H[13],H[13]],jt=this.textStates[C],Dt=jt.font,Gt=[jt.scale[0]*Nt,jt.scale[1]*Nt],kt=void 0;Dt in this.widths_?kt=this.widths_[Dt]:(kt={},this.widths_[Dt]=kt);var Ut=Object(d["a"])(y,Lt,Ct,2),Bt=Math.abs(Gt[0])*Object(u["p"])(Dt,L,kt);if(xt||Bt<=Ut){var Yt=this.textStates[C].textAlign,Xt=(Ut-Bt)*o["a"][Yt],Wt=p(y,Lt,Ct,2,L,Xt,Pt,Math.abs(Gt[0]),u["p"],Dt,kt,W?0:this.viewRotation_);t:if(Wt){var zt=[],Vt=void 0,Ht=void 0,Zt=void 0,qt=void 0,Jt=void 0;if(I)for(Vt=0,Ht=Wt.length;Vt<Ht;++Vt){Jt=Wt[Vt],Zt=Jt[4],qt=this.createLabel(Zt,C,"",I),m=Jt[2]+(Gt[0]<0?-Mt:Mt),O=It*qt.height+2*(.5-It)*Mt*Gt[1]/Gt[0]-At;wt=this.calculateImageOrLabelDimensions_(qt.width,qt.height,Jt[0],Jt[1],qt.width,qt.height,m,O,0,0,Jt[3],Ft,!1,u["k"],!1,P);if(_&&_.collides(wt.declutterBox))break t;zt.push([t,e,qt,wt,1,null,null])}if(x)for(Vt=0,Ht=Wt.length;Vt<Ht;++Vt){Jt=Wt[Vt],Zt=Jt[4],qt=this.createLabel(Zt,C,x,""),m=Jt[2],O=It*qt.height-At;wt=this.calculateImageOrLabelDimensions_(qt.width,qt.height,Jt[0],Jt[1],qt.width,qt.height,m,O,0,0,Jt[3],Ft,!1,u["k"],!1,P);if(_&&_.collides(wt.declutterBox))break t;zt.push([t,e,qt,wt,1,null,null])}_&&_.load(zt.map(b));for(var Kt=0,$t=zt.length;Kt<$t;++Kt)this.replayImageOrLabel_.apply(this,zt[Kt])}}++F;break;case n["c"].END_GEOMETRY:if(void 0!==h){P=H[1];var Qt=h(P,M);if(Qt)return Qt}++F;break;case n["c"].FILL:V?G++:this.fill_(t),++F;break;case n["c"].MOVE_TO_LINE_TO:for(D=H[1],v=H[2],N=y[D],A=y[D+1],S=N+.5|0,R=A+.5|0,S===E&&R===w||(t.moveTo(N,A),E=S,w=R),D+=2;D<v;D+=2)N=y[D],A=y[D+1],S=N+.5|0,R=A+.5|0,D!=v-2&&S===E&&R===w||(t.lineTo(N,A),E=S,w=R);++F;break;case n["c"].SET_FILL_STYLE:U=H,this.alignFill_=H[2],G&&(this.fill_(t),G=0,k&&(t.stroke(),k=0)),t.fillStyle=H[1],++F;break;case n["c"].SET_STROKE_STYLE:B=H,k&&(t.stroke(),k=0),this.setStrokeStyle_(t,H),++F;break;case n["c"].STROKE:V?k++:t.stroke(),++F;break;default:++F;break}}G&&this.fill_(t),k&&t.stroke()},t.prototype.execute=function(t,e,r,i,n,o){this.viewRotation_=i,this.execute_(t,e,r,this.instructions,n,void 0,void 0,o)},t.prototype.executeHitDetection=function(t,e,r,i,n){return this.viewRotation_=r,this.execute_(t,1,e,this.hitDetectionInstructions,!0,i,n)},t}(),S=w,R=r("0999"),T=r("38f3"),L=[i["a"].POLYGON,i["a"].CIRCLE,i["a"].LINE_STRING,i["a"].IMAGE,i["a"].TEXT,i["a"].DEFAULT],C=function(){function t(t,e,r,i,n,o){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(s["c"])(),this.createExecutors_(n)}return t.prototype.clip=function(t,e){var r=this.getClipCoords(e);t.beginPath(),t.moveTo(r[0],r[1]),t.lineTo(r[2],r[3]),t.lineTo(r[4],r[5]),t.lineTo(r[6],r[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var r=this.executorsByZIndex_[e];void 0===r&&(r={},this.executorsByZIndex_[e]=r);var i=t[e],n=[this.renderBuffer_||0,this.renderBuffer_||0];for(var o in i){var a=i[o];r[o]=new S(this.resolution_,this.pixelRatio_,this.overlaps_,a,n)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[e],i=0,n=t.length;i<n;++i)if(t[i]in r)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,o,a){n=Math.round(n);var u=2*n+1,h=Object(s["b"])(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-r,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=Object(R["a"])(u,u));var p,d=this.hitDetectionContext_;d.canvas.width!==u||d.canvas.height!==u?(d.canvas.width=u,d.canvas.height=u):l||d.clearRect(0,0,u,u),void 0!==this.renderBuffer_&&(p=Object(c["j"])(),Object(c["r"])(p,t),Object(c["c"])(p,e*(this.renderBuffer_+n),p));var g,_=x(n);function y(t,e){for(var r=d.getImageData(0,0,u,u).data,s=0,c=_.length;s<c;s++)if(r[_[s]]>0){if(!a||g!==i["a"].IMAGE&&g!==i["a"].TEXT||-1!==a.indexOf(t)){var h=(_[s]-3)/4,l=n-h%u,p=n-(h/u|0),f=o(t,e,l*l+p*p);if(f)return f}d.clearRect(0,0,u,u);break}}var v,m,b,O,E,w=Object.keys(this.executorsByZIndex_).map(Number);for(w.sort(f["g"]),v=w.length-1;v>=0;--v){var S=w[v].toString();for(b=this.executorsByZIndex_[S],m=L.length-1;m>=0;--m)if(g=L[m],O=b[g],void 0!==O&&(E=O.executeHitDetection(d,h,r,y,p),E))return E}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var r=e[0],i=e[1],n=e[2],o=e[3],a=[r,i,r,o,n,o,n,i];return Object(l["c"])(a,0,8,2,t,a),a},t.prototype.isEmpty=function(){return Object(T["d"])(this.executorsByZIndex_)},t.prototype.execute=function(t,e,r,i,n,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(f["g"]),this.maxExtent_&&(t.save(),this.clip(t,r));var c,u,h,l,p,d,g=o||L;for(a&&s.reverse(),c=0,u=s.length;c<u;++c){var _=s[c].toString();for(p=this.executorsByZIndex_[_],h=0,l=g.length;h<l;++h){var y=g[h];d=p[y],void 0!==d&&d.execute(t,e,r,i,n,a)}}this.maxExtent_&&t.restore()},t}(),I={};function x(t){if(void 0!==I[t])return I[t];for(var e=2*t+1,r=t*t,i=new Array(r+1),n=0;n<=t;++n)for(var o=0;o<=t;++o){var a=n*n+o*o;if(a>r)break;var s=i[a];s||(s=[],i[a]=s),s.push(4*((t+n)*e+(t+o))+3),n>0&&s.push(4*((t-n)*e+(t+o))+3),o>0&&(s.push(4*((t+n)*e+(t-o))+3),n>0&&s.push(4*((t-n)*e+(t-o))+3))}for(var c=[],u=(n=0,i.length);n<u;++n)i[n]&&c.push.apply(c,i[n]);return I[t]=c,c}e["a"]=C}}]);